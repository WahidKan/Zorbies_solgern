{"version":3,"sources":["./src/app/views/solgen-rule-engine/component/solgen-rule-condition-calculation.component.html","./src/app/views/solgen-rule-engine/component/solgen-rule-engine-condition.component.html","./src/app/views/solgen-rule-engine/component/solgen-rule-engine-result-calculation.component.html","./src/app/views/solgen-rule-engine/component/solgen-rule-engine-result-table-field.component.html","./src/app/views/solgen-rule-engine/component/solgen-rule-engine-result.component.html","./src/app/views/solgen-rule-engine/component/solgen-rule-engine-target.component.html","./src/app/views/solgen-rule-engine/solgen-rule-engine-add-or-edit.component.html","./src/app/views/solgen-rule-engine/solgen-rule-engine-list.component.html","./src/app/views/solgen-rule-engine/solgen-rule-engine-summary.component.html","./src/app/views/bank/bank.service.ts","./src/app/views/solgen-rule-engine/component/solgen-rule-condition-calculation.component.scss","./src/app/views/solgen-rule-engine/component/solgen-rule-condition-calculation.component.ts","./src/app/views/solgen-rule-engine/component/solgen-rule-engine-condition.component.ts","./src/app/views/solgen-rule-engine/component/solgen-rule-engine-result-calculation.component.ts","./src/app/views/solgen-rule-engine/component/solgen-rule-engine-result-table-field.component.ts","./src/app/views/solgen-rule-engine/component/solgen-rule-engine-result.component.ts","./src/app/views/solgen-rule-engine/component/solgen-rule-engine-target.component.scss","./src/app/views/solgen-rule-engine/component/solgen-rule-engine-target.component.ts","./src/app/views/solgen-rule-engine/solgen-rule-engine-add-or-edit.component.ts","./src/app/views/solgen-rule-engine/solgen-rule-engine-list.component.scss","./src/app/views/solgen-rule-engine/solgen-rule-engine-list.component.ts","./src/app/views/solgen-rule-engine/solgen-rule-engine-routing.module.ts","./src/app/views/solgen-rule-engine/solgen-rule-engine-summary.component.scss","./src/app/views/solgen-rule-engine/solgen-rule-engine-summary.component.ts","./src/app/views/solgen-rule-engine/solgen-rule-engine.module.ts","./src/app/views/solgen-rule-engine/solgen-rule-engine.service.ts"],"names":[],"mappings":"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","file":"views-solgen-rule-engine-solgen-rule-engine-module.js","sourcesContent":["export default \"<div class=\\\"modal fade\\\" bsModal #conditionCalculationModal=\\\"bs-modal\\\" id=\\\"condition\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\">\\n  <div class=\\\"modal-dialog modal-dialog-centered modal-xl\\\" role=\\\"document\\\">\\n    <div class=\\\"modal-content\\\">\\n      <div class=\\\"modal-header\\\">\\n        <h5 class=\\\"modal-title\\\" id=\\\"exampleModalLabel\\\">Calculated Value</h5>\\n        <button type=\\\"button\\\" class=\\\"close\\\" (click)=\\\"hide()\\\" aria-label=\\\"Close\\\">\\n          <span aria-hidden=\\\"true\\\">&times;</span>\\n        </button>\\n      </div>\\n      <div class=\\\"modal-body\\\" [formGroup]=\\\"resultConditionForm\\\">\\n        <div class=\\\"col-md-12 px-0\\\">\\n          <div class=\\\"panel-content pagination2 table-responsive no-padding\\\">\\n            <table class=\\\"table table-hover table-dynamic\\\" *ngIf=\\\"!isDate; else forDate\\\" style=\\\"min-width: 300px;\\\">\\n              <thead>\\n                <tr>\\n                  <th width=\\\"50\\\">Formula </th>\\n                  <th width=\\\"50\\\"></th>\\n                  <th width=\\\"180\\\">Section</th>\\n                  <th width=\\\"150\\\">Value</th>\\n                  <th width=\\\"50\\\"></th>\\n                  <th width=\\\"30\\\">Operator</th>\\n                  <th width=\\\"30\\\"></th>\\n                </tr>\\n              </thead>\\n              <tbody formArrayName=\\\"resultCalculation\\\">\\n                <tr *ngFor=\\\"let resultCalculate of resultCalculation.controls;let i = index\\\" [formGroupName]=\\\"i\\\">\\n                  <td>\\n                    <ng-select [items]=\\\"sqlFunctionList\\\" [ngStyle]=\\\"{'width':50}\\\" formControlName=\\\"formulaId\\\"\\n                               placeholder=\\\"Select...\\\" bindLabel=\\\"DisplayName\\\" [closeOnSelect]=\\\"true\\\" [clearable]=\\\"false\\\">\\n                    </ng-select>\\n                  </td>\\n                  <td>\\n                    <input class=\\\"form-control px-0 text-center\\\" formControlName=\\\"openingBrackets\\\" type=\\\"text\\\" name=\\\"name\\\" value=\\\"(\\\" />\\n                  </td>\\n                  <td>\\n                    <ng-select [items]=\\\"customFieldsList\\\" formControlName=\\\"firstFieldId\\\" [ngStyle]=\\\"{'width':150}\\\"\\n                               placeholder=\\\"Select...\\\" bindLabel=\\\"name\\\" [closeOnSelect]=\\\"true\\\" [clearable]=\\\"false\\\">\\n\\n                    </ng-select>\\n                  </td>\\n                  <td>\\n                    <input class=\\\"form-control px-0 text-center\\\" formControlName=\\\"closingBrackets\\\" name=\\\"name\\\" value=\\\")\\\" />\\n                  </td>\\n                  <td>\\n                    <ng-select [items]=\\\"operators\\\" formControlName=\\\"operatorId\\\" [ngStyle]=\\\"{'width':50}\\\"\\n                               placeholder=\\\"Select...\\\" bindLabel=\\\"operator_expression\\\" [closeOnSelect]=\\\"true\\\" [clearable]=\\\"false\\\">\\n                    </ng-select>\\n                  </td>\\n                  <td>\\n                    <a href=\\\"javascript:void(0);\\\" class=\\\"btn btn-danger\\\" *ngIf=\\\"i!=0\\\" (click)=\\\"deleteField(i)\\\"><i class=\\\"fa fa-trash\\\"></i></a>\\n                  </td>\\n                </tr>\\n              </tbody>\\n            </table>\\n            <ng-template #forDate>\\n              <table class=\\\"table table-hover table-dynamic\\\" style=\\\"min-width: 300px;\\\">\\n                <thead>\\n                  <tr>\\n                    <th width=\\\"50\\\">Formula </th>\\n                    <th width=\\\"140\\\">Value Type</th>\\n                    <th width=\\\"70\\\">Value</th>\\n                    <th width=\\\"180\\\">Section</th>\\n\\n                    <th width=\\\"150\\\">On Date</th>\\n                  </tr>\\n                </thead>\\n                <tbody formArrayName=\\\"resultCalculation\\\">\\n                  <tr *ngFor=\\\"let resultCalculate of resultCalculation.controls;let i = index\\\" [formGroupName]=\\\"i\\\">\\n                    <td>\\n                      <ng-select [items]=\\\"sqlFunctionList\\\" [ngStyle]=\\\"{'width':50}\\\" formControlName=\\\"formulaId\\\"\\n                                 placeholder=\\\"Select...\\\" bindLabel=\\\"DisplayName\\\" [closeOnSelect]=\\\"true\\\" [clearable]=\\\"false\\\">\\n                      </ng-select>\\n                    </td>\\n                    <td>\\n                      <ng-select [items]=\\\"dateParts\\\" formControlName=\\\"datePart\\\" [ngStyle]=\\\"{'width':50}\\\"\\n                                 [closeOnSelect]=\\\"true\\\" [clearable]=\\\"false\\\">\\n                      </ng-select>\\n                    </td>\\n                    <td>\\n                      <input class=\\\"form-control\\\" pKeyFilter=\\\"pnum\\\" formControlName=\\\"firstFieldValue\\\" name=\\\"name\\\" />\\n                    </td>\\n                    <td>\\n                      <ng-select [items]=\\\"sectionList\\\" formControlName=\\\"secondFieldSectionId\\\" [ngStyle]=\\\"{'width':150}\\\"\\n                                 placeholder=\\\"Default\\\" bindLabel=\\\"sub_module_name\\\" (change)=\\\"onSecondSectionChange($event,resultCalculate)\\\" [closeOnSelect]=\\\"true\\\" [clearable]=\\\"false\\\">\\n                      </ng-select>\\n                    </td>\\n                    <td>\\n                      <ng-select *ngIf=\\\"resultCalculate.get('secondFieldSectionId').value\\\" [items]=\\\"resultCalculate.get('secondFields')?.value\\\" formControlName=\\\"secondFieldId\\\" [ngStyle]=\\\"{'width':150}\\\"\\n                                 placeholder=\\\"Select...\\\" bindLabel=\\\"name\\\" [closeOnSelect]=\\\"true\\\" [clearable]=\\\"false\\\">\\n\\n                      </ng-select>\\n                      <input class=\\\"form-control\\\" *ngIf=\\\"!resultCalculate.get('secondFieldSectionId').value\\\" pKeyFilter=\\\"pnum\\\" readonly value=\\\"Today\\\"/>\\n                    </td>\\n                  </tr>\\n                </tbody>\\n              </table>\\n            </ng-template>\\n            <div class=\\\"p-3 text-center\\\" *ngIf=\\\"!isDate\\\">\\n              <a href=\\\"javascript:void(0);\\\" class=\\\"btn btn-primary\\\" (click)=\\\"addField()\\\"><i class=\\\"fa fa-plus\\\"></i> Add</a>\\n            </div>\\n          </div>\\n          <div class=\\\"step-default p-3 border mt-2 rounded\\\"><b>Value:</b> {{displayValue}} </div>\\n        </div>\\n      </div>\\n      <div class=\\\"modal-footer\\\">\\n        <a href=\\\"javascript:void(0);\\\" class=\\\"btn btn-success\\\" (click)=\\\"save()\\\"><i class=\\\"fa fa-save\\\"></i> Submit</a>\\n        <a href=\\\"javascript:void(0);\\\" class=\\\"btn btn-danger\\\" (click)=\\\"hide()\\\"><i class=\\\"fa fa-close\\\"></i> Cancel</a>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\"","export default \"<li class=\\\"arrowright top30\\\" [formGroup]=\\\"targetForm\\\">\\n  <p class=\\\"shape_btn\\\" *ngIf=\\\"!targetForm.get('isConditionAdded')?.value\\\"><a class=\\\"addtarget_btn\\\" (click)=\\\"showConditionModal()\\\">Add Target</a></p>\\n  <div class=\\\"formsfieldmainunique_condition\\\" *ngIf=\\\"targetForm.get('isConditionAdded').value\\\">\\n    <div class=\\\"innercontbase\\\">\\n      <div class=\\\"innercont\\\">{{targetForm.value.targetCondition.displayCondition }}</div>\\n      <div class=\\\"inneredit\\\">\\n        <a data-placement=\\\"left\\\" href=\\\"javascript:void(0);\\\" title=\\\"\\\" (click)=\\\"editCondition()\\\">\\n          <div class=\\\"d-inline-block iconedit_unique\\\"></div>\\n        </a>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <!-- Modal -->\\n  <div class=\\\"modal fade \\\" bsModal #addConditionModal=\\\"bs-modal\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"exampleModalCenterTitle\\\" aria-hidden=\\\"true\\\">\\n    <div class=\\\"modal-dialog modal-dialog-centered modal-xl\\\" role=\\\"document\\\">\\n      <div class=\\\"modal-content\\\">\\n        <div class=\\\"modal-header\\\">\\n          <h5 class=\\\"modal-title\\\" id=\\\"exampleModalLongTitle\\\">Rule</h5>\\n          <button type=\\\"button\\\" class=\\\"close\\\" (click)=\\\"hideConditionModal()\\\" aria-label=\\\"Close\\\">\\n            <span aria-hidden=\\\"true\\\">&times;</span>\\n          </button>\\n        </div>\\n        <div class=\\\"modal-body\\\">\\n          <div class=\\\"row\\\">\\n            <div class=\\\"px-1\\\" [ngClass]=\\\"{'col-md-12':hideFieldList,'col-md-9':!hideFieldList}\\\">\\n              <div class=\\\"border\\\">\\n                <div class=\\\"list-group\\\" style=\\\"min-height: 210px;\\\" formArrayName=\\\"conditions\\\" [ngStyle]=\\\"vwRuleId != null ? {'pointer-events': 'none'} : {}\\\">\\n                  <ul class=\\\"form-header\\\">\\n                    <li> </li>\\n                    <li class=\\\"pl-2\\\"> Field</li>\\n                    <li class=\\\"pl-2\\\"> Conditional Operator</li>\\n                    <li class=\\\"pl-2\\\"> </li>\\n                    <li class=\\\"pl-2\\\"> Value</li>\\n                    <li> </li>\\n                    <li> </li>\\n                  </ul>\\n                  <div *ngFor=\\\"let condition of conditions.controls;let i=index\\\" [formGroupName]=\\\"i\\\">\\n                    <ul class=\\\"from-rules text-center\\\" *ngIf=\\\"condition.get('relationWithParent').value\\\">\\n                      <li class=\\\"text-center\\\"><span class=\\\"or-and rounded-circle\\\"><b>{{condition.get('relationWithParent').value}}</b></span></li>\\n                    </ul>\\n                    <ul class=\\\"from-rules\\\">\\n                      <li class=\\\"form-group align-middle px-2\\\">\\n                        <input formControlName=\\\"openingBrackets\\\" style=\\\"width: auto;min-width: 20px;max-width: 20px;\\\" class=\\\"form-control txtOpeningBrackets px-1\\\">\\n                      </li>\\n                      <!-- <li class=\\\"form-group align-middle px-2\\\">\\n                        <ng-select [items]=\\\"subModuleList\\\" formControlName=\\\"subModuleId\\\"\\n                                   placeholder=\\\"Select Module\\\" bindLabel=\\\"sub_module_name\\\" (change)=\\\"onSubModuleChange($event,condition)\\\"\\n                                   [closeOnSelect]=\\\"true\\\">\\n                        </ng-select>\\n                      </li> -->\\n                      <li class=\\\"form-group align-middle px-2\\\">\\n                        <ng-select [items]=\\\"customFieldsList\\\" formControlName=\\\"fieldId\\\"\\n                                   placeholder=\\\"Select Field\\\" bindLabel=\\\"name\\\" (change)=\\\"onFieldChange($event,condition,i)\\\"\\n                                   [closeOnSelect]=\\\"true\\\" [clearable]=\\\"false\\\">\\n\\n                        </ng-select>\\n                      </li>\\n                      <li class=\\\"form-group align-middle px-2\\\">\\n                        <ng-select [items]=\\\"condition.get('operators').value\\\" formControlName=\\\"operatorId\\\" (change)=\\\"onOperatorChange($event,condition,i)\\\"\\n                                   placeholder=\\\"Select Operator\\\" bindLabel=\\\"operator_display_name\\\"\\n                                   [closeOnSelect]=\\\"true\\\" [clearable]=\\\"false\\\">\\n                        </ng-select>\\n                      </li>\\n                      <li class=\\\"form-group align-middle px-2\\\">\\n                        <ng-select [items]=\\\"condition.get('conditions').value\\\" formControlName=\\\"conditionsId\\\"\\n                                   placeholder=\\\"Select Condition\\\" bindLabel=\\\"name\\\"\\n                                   [closeOnSelect]=\\\"true\\\" [clearable]=\\\"false\\\">\\n                        </ng-select>\\n                        <button class=\\\"btn btn-primary ml-2\\\" *ngIf=\\\"condition.get('conditionsId').value !== null ? condition.get('conditionsId').value.value === '3' : ''\\\" (click)=\\\"CalculationModal(condition)\\\"><span class=\\\"fa fa-pencil\\\">Edit</span></button>\\n                      </li>\\n                      <li class=\\\"form-group align-middle px-2\\\">\\n                        <solgen-rule-input [formGroup]=\\\"condition\\\" [operator]=\\\"condition.get('operatorId').value\\\" [from]=\\\"condition\\\"\\n                        [controlName]=\\\"'fieldValue'\\\" [id]=\\\"i\\\" [operatorType]=\\\"condition.get('conditionsId').value\\\" [updateOnOperatorType]=\\\"true\\\" [customFiledList]=\\\"customFieldsList\\\"></solgen-rule-input>\\n                        <!-- <solgen-rule-input [formGroup]=\\\"condition\\\" [operator]=\\\"condition.get('operatorId').value\\\"\\n                        [openedFrom]=\\\"condition.get('conditions').value\\\" *ngIf=\\\"condition.get('operatorId').value && condition.get('operatorId').value.operator_expression =='between'\\\"\\n                        [from]=\\\"condition\\\" [controlName]=\\\"'fieldSecondValue'\\\" [id]=\\\"i\\\"></solgen-rule-input> -->\\n                      </li>\\n                      <li class=\\\"form-group align-middle px-2\\\">\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" formControlName=\\\"closingBrackets\\\" style=\\\"width:30px;\\\">\\n                      </li>\\n                      <li class=\\\"text-center\\\">\\n                        <a *ngIf=\\\"i>0\\\" href=\\\"javascript:void(0);\\\" [ngClass]=\\\"{'invisible':(vwRuleId != null)}\\\" (click)=\\\"removeCondition(i)\\\" class=\\\"text-red font-16\\\">\\n                          <i class=\\\"fa fa-trash\\\"></i>\\n                        </a>\\n                      </li>\\n\\n                    </ul>\\n\\n                  </div>\\n                </div>\\n                <div class=\\\"p-3 text-center\\\">\\n                  <div class=\\\"cstm-drop-btn text-center\\\">\\n                    <select #addNewCondition class=\\\"btn ddlupdatestatus btn-success\\\" [ngClass]=\\\"{'invisible':(vwRuleId != null)}\\\" [disabled]=\\\"!conditions.valid\\\" (change)=\\\"addCondition($event)\\\">\\n                      <option selected=\\\"selected\\\"> Add</option>\\n                      <option>Or</option>\\n                      <option>And</option>\\n                    </select>\\n                  </div>\\n                </div>\\n              </div>\\n\\n              <div class=\\\"step-default p-3 border mt-2 rounded\\\"><b>Condition:</b>{{targetForm.value.targetCondition.displayCondition}} <!--(Loan Application Equal To Sales Tax)--> </div>\\n\\n\\n            </div>\\n            <div [ngClass]=\\\"{'d-none':hideFieldList,'col-md-3':!hideFieldList}\\\">\\n              <div class=\\\"border\\\" style=\\\"max-height: 400px; overflow-y: auto; overflow-x: hidden;\\\">\\n                <table class=\\\"table table-hover table-dynamic table-cont\\\">\\n                  <thead class=\\\"bg-light\\\">\\n                    <tr>\\n                      <th>Field Name</th>\\n                      <th style=\\\"min-width:100px;\\\">Data Type</th>\\n\\n                    </tr>\\n                  </thead>\\n                  <tbody *ngIf=\\\"customFieldsList!=null\\\">\\n                    <tr *ngFor=\\\"let item of customFieldsList\\\">\\n                      <td>{{item.name}}</td>\\n                      <td>{{item.sql_type}}</td>\\n                    </tr>\\n                  </tbody>\\n                  <tbody *ngIf=\\\"customFieldsList==null\\\">\\n                    <tr style=\\\"margin-left:10px; display:table;\\\">\\n                      No data found.\\n                    </tr>\\n                  </tbody>\\n\\n                </table>\\n              </div>\\n\\n            </div>\\n          </div>\\n\\n<app-solgen-rule-condition-calculation #resultCalculationModal></app-solgen-rule-condition-calculation>\\n        </div>\\n\\n\\n        <div class=\\\"modal-footer\\\">\\n          <button type=\\\"button\\\" class=\\\"btn\\\" [ngClass]=\\\"{'btn-outline-info':hideFieldList,'btn-info':!hideFieldList,'invisible':vwRuleId != null}\\\" (click)=\\\"showFieldList()\\\"><i class=\\\"fa fa-list-ol\\\"></i> {{textFieldListButton}}</button>\\n          <button type=\\\"button\\\" class=\\\"btn btn-success mr-1\\\" [ngClass]=\\\"{'invisible':(vwRuleId != null)}\\\" data-dismiss=\\\"modal\\\" (click)=\\\"saveCondition()\\\" [disabled]=\\\"!conditions.valid\\\"><i class=\\\"fa fa-save\\\"></i> Save</button>\\n          <button type=\\\"button\\\" class=\\\"btn btn-danger\\\" (click)=\\\"hideConditionModal()\\\"><i class=\\\"fa fa-close\\\"></i> Cancel</button>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n  <!-- Modal -->\\n</li>\\n\"","export default \"<div class=\\\"modal fade\\\" bsModal #resultCalculationModal=\\\"bs-modal\\\" id=\\\"condition\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\">\\n  <div class=\\\"modal-dialog modal-dialog-centered modal-xl\\\" role=\\\"document\\\">\\n    <div class=\\\"modal-content\\\">\\n      <div class=\\\"modal-header\\\">\\n        <h5 class=\\\"modal-title\\\" id=\\\"exampleModalLabel\\\">Calculated Value</h5>\\n        <button type=\\\"button\\\" class=\\\"close\\\" (click)=\\\"hide()\\\" aria-label=\\\"Close\\\">\\n          <span aria-hidden=\\\"true\\\">&times;</span>\\n        </button>\\n      </div>\\n      <div class=\\\"modal-body\\\" [formGroup]=\\\"resultConditionForm\\\">\\n        <div class=\\\"col-md-12 px-0\\\">\\n          <div class=\\\"panel-content pagination2 table-responsive no-padding\\\">\\n            <table class=\\\"table table-hover table-dynamic\\\" *ngIf=\\\"!isDate; else forDate\\\" style=\\\"min-width: 300px;\\\">\\n              <thead>\\n                <tr>\\n                  <th width=\\\"50\\\">Formula </th>\\n                  <th width=\\\"50\\\"></th>\\n                  <th width=\\\"180\\\">Section</th>\\n                  <th width=\\\"150\\\">Value</th>\\n                  <th width=\\\"50\\\"></th>\\n                  <th width=\\\"30\\\">Operator</th>\\n                  <th width=\\\"30\\\"></th>\\n                </tr>\\n              </thead>\\n              <tbody formArrayName=\\\"resultCalculation\\\">\\n                <tr *ngFor=\\\"let resultCalculate of resultCalculation.controls;let i = index\\\" [formGroupName]=\\\"i\\\">\\n                  <td>\\n                    <ng-select [items]=\\\"sqlFunctionList\\\" [ngStyle]=\\\"{'width':50}\\\" formControlName=\\\"formulaId\\\"\\n                               placeholder=\\\"Select...\\\" bindLabel=\\\"DisplayName\\\" [closeOnSelect]=\\\"true\\\" [clearable]=\\\"false\\\">\\n                    </ng-select>\\n                  </td>\\n                  <td>\\n                    <input class=\\\"form-control px-0 text-center\\\" formControlName=\\\"openingBrackets\\\" type=\\\"text\\\" name=\\\"name\\\" value=\\\"(\\\" />\\n                  </td>\\n                  <td>\\n                    <ng-select [items]=\\\"sectionList\\\" formControlName=\\\"firstFieldSectionId\\\" [ngStyle]=\\\"{'width':150}\\\"\\n                               placeholder=\\\"Manual\\\" bindLabel=\\\"sub_module_name\\\" (change)=\\\"onFirstSectionChange($event,resultCalculate)\\\" [closeOnSelect]=\\\"true\\\" [clearable]=\\\"false\\\">\\n                    </ng-select>\\n                  </td>\\n                  <td>\\n                    <ng-select *ngIf=\\\"resultCalculate.get('firstFieldSectionId').value\\\" [items]=\\\"resultCalculate.get('firstFields')?.value\\\" formControlName=\\\"firstFieldId\\\" [ngStyle]=\\\"{'width':150}\\\"\\n                               placeholder=\\\"Select...\\\" bindLabel=\\\"name\\\" [closeOnSelect]=\\\"true\\\" [clearable]=\\\"false\\\">\\n\\n                    </ng-select>\\n                    <input class=\\\"form-control\\\" *ngIf=\\\"!resultCalculate.get('firstFieldSectionId').value\\\" pKeyFilter=\\\"pnum\\\" formControlName=\\\"firstFieldValue\\\" name=\\\"name\\\" />\\n\\n                  </td>\\n                  <td>\\n                    <input class=\\\"form-control px-0 text-center\\\" formControlName=\\\"closingBrackets\\\" name=\\\"name\\\" value=\\\")\\\" />\\n                  </td>\\n                  <td>\\n                    <ng-select [items]=\\\"operators\\\" formControlName=\\\"operatorId\\\" [ngStyle]=\\\"{'width':50}\\\"\\n                               placeholder=\\\"Select...\\\" bindLabel=\\\"operator_expression\\\" [closeOnSelect]=\\\"true\\\" [clearable]=\\\"false\\\">\\n                    </ng-select>\\n                  </td>\\n                  <td>\\n                    <a href=\\\"javascript:void(0);\\\" class=\\\"btn btn-danger\\\" *ngIf=\\\"i!=0\\\" (click)=\\\"deleteField(i)\\\"><i class=\\\"fa fa-trash\\\"></i></a>\\n                  </td>\\n                </tr>\\n              </tbody>\\n            </table>\\n            <ng-template #forDate>\\n              <table class=\\\"table table-hover table-dynamic\\\" style=\\\"min-width: 300px;\\\">\\n                <thead>\\n                  <tr>\\n                    <th width=\\\"50\\\">Formula </th>\\n                    <th width=\\\"140\\\">Value Type</th>\\n                    <th width=\\\"70\\\">Value</th>\\n                    <th width=\\\"180\\\">Section</th>\\n\\n                    <th width=\\\"150\\\">On Date</th>\\n                  </tr>\\n                </thead>\\n                <tbody formArrayName=\\\"resultCalculation\\\">\\n                  <tr *ngFor=\\\"let resultCalculate of resultCalculation.controls;let i = index\\\" [formGroupName]=\\\"i\\\">\\n                    <td>\\n                      <ng-select [items]=\\\"sqlFunctionList\\\" [ngStyle]=\\\"{'width':50}\\\" formControlName=\\\"formulaId\\\"\\n                                 placeholder=\\\"Select...\\\" bindLabel=\\\"DisplayName\\\" [closeOnSelect]=\\\"true\\\" [clearable]=\\\"false\\\">\\n                      </ng-select>\\n                    </td>\\n                    <td>\\n                      <ng-select [items]=\\\"dateParts\\\" formControlName=\\\"datePart\\\" [ngStyle]=\\\"{'width':50}\\\"\\n                                 [closeOnSelect]=\\\"true\\\" [clearable]=\\\"false\\\">\\n                      </ng-select>\\n                    </td>\\n                    <td>\\n                      <input class=\\\"form-control\\\" pKeyFilter=\\\"pnum\\\" formControlName=\\\"firstFieldValue\\\" name=\\\"name\\\" />\\n                    </td>\\n                    <td>\\n                      <ng-select [items]=\\\"sectionList\\\" formControlName=\\\"secondFieldSectionId\\\" [ngStyle]=\\\"{'width':150}\\\"\\n                                 placeholder=\\\"Default\\\" bindLabel=\\\"sub_module_name\\\" (change)=\\\"onSecondSectionChange($event,resultCalculate)\\\" [closeOnSelect]=\\\"true\\\" [clearable]=\\\"false\\\">\\n                      </ng-select>\\n                    </td>\\n                    <td>\\n                      <ng-select *ngIf=\\\"resultCalculate.get('secondFieldSectionId').value\\\" [items]=\\\"resultCalculate.get('secondFields')?.value\\\" formControlName=\\\"secondFieldId\\\" [ngStyle]=\\\"{'width':150}\\\"\\n                                 placeholder=\\\"Select...\\\" bindLabel=\\\"name\\\" [closeOnSelect]=\\\"true\\\" [clearable]=\\\"false\\\">\\n\\n                      </ng-select>\\n                      <input class=\\\"form-control\\\" *ngIf=\\\"!resultCalculate.get('secondFieldSectionId').value\\\" pKeyFilter=\\\"pnum\\\" readonly value=\\\"Today\\\"/>\\n                    </td>\\n                  </tr>\\n                </tbody>\\n              </table>\\n            </ng-template>\\n            <div class=\\\"p-3 text-center\\\" *ngIf=\\\"!isDate\\\">\\n              <a href=\\\"javascript:void(0);\\\" class=\\\"btn btn-primary\\\" (click)=\\\"addField()\\\"><i class=\\\"fa fa-plus\\\"></i> Add</a>\\n            </div>\\n          </div>\\n          <div class=\\\"step-default p-3 border mt-2 rounded\\\"><b>Value:</b> {{displayValue}} </div>\\n        </div>\\n      </div>\\n      <div class=\\\"modal-footer\\\">\\n        <a href=\\\"javascript:void(0);\\\" class=\\\"btn btn-success\\\" (click)=\\\"save()\\\"><i class=\\\"fa fa-save\\\"></i> Submit</a>\\n        <a href=\\\"javascript:void(0);\\\" class=\\\"btn btn-danger\\\" (click)=\\\"hide()\\\"><i class=\\\"fa fa-close\\\"></i> Cancel</a>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\"","export default \"\\n<div class=\\\"table-responsive overflow-auto rule-table\\\" [formGroup]=\\\"resultForm\\\">\\n  <table class=\\\"table table-hover table-dynamic\\\" formArrayName=\\\"tableFields\\\">\\n    <thead>\\n      <tr>\\n        <th>Field</th>\\n        <th>Data Type</th>\\n        <th>Conditional Operator</th>\\n        <th>Value</th>\\n        <th></th>\\n      </tr>\\n    </thead>\\n    <tbody *ngIf=\\\"resultForm.get('action').value\\\">\\n      <ng-container *ngIf=\\\"resultForm.get('action').value.code=='create'\\\">\\n        <tr *ngFor=\\\"let tableField of tableFields.controls;let i=index\\\" [formGroupName]=\\\"i\\\">\\n          <ng-template [ngIf]=\\\"tableField.get('name').value != 'LoanApplicationId' && tableField.get('name').value != 'CompanyId' && tableField.get('name').value != 'StatusId'\\\">\\n            <td>\\n              <strong>{{tableField.get('name').value}}</strong>\\n            </td>\\n            <td>\\n              <strong>{{tableField.get('dataType').value}}</strong>\\n            </td>\\n            <td>\\n            <!-- <label class=\\\"switch disabled\\\" [ngClass]=\\\"{'toggle-disabled':tableField.get('isCalculate').disabled}\\\">\\n                <input type=\\\"checkbox\\\" formControlName=\\\"isCalculate\\\" (change)=\\\"onFieldCalculateChange(tableField.get('isCalculate'),tableField)\\\" checked=\\\"\\\">\\n                <span class=\\\"slider round\\\"><span>Yes</span></span>\\n              </label> -->\\n              <ng-select [items]=\\\"tableField.get('conditions').value\\\" formControlName=\\\"conditionsId\\\"\\n                                   placeholder=\\\"Select Condition\\\" bindLabel=\\\"name\\\"\\n                                   [closeOnSelect]=\\\"true\\\" [clearable]=\\\"false\\\">\\n            </ng-select>\\n            </td>\\n            <td>\\n              <button class=\\\"btn btn-primary ml-2\\\" *ngIf=\\\"tableField.get('conditionsId').value ? tableField.get('conditionsId').value.value === '3' : ''\\\" (click)=\\\"CalculationModal(tableField)\\\">\\n                <span class=\\\"fa fa-pencil\\\">{{tableField.get('fieldDisplayValue').value}}</span></button>\\n              <solgen-rule-input [formGroup]=\\\"tableField\\\" [operator]=\\\"\\\" [from]=\\\"tableField\\\"\\n              [controlName]=\\\"'fieldValue'\\\" [id]=\\\"i\\\" [operatorType]=\\\"tableField.get('conditionsId').value\\\" [updateOnOperatorType]=\\\"true\\\" [customFiledList]=\\\"customFieldsList\\\"></solgen-rule-input>\\n              <!-- <div *ngIf=\\\"tableField.get('isCalculate').value else isNotCalculate\\\">\\n                <button (click)=\\\"showResultCalculation(tableField)\\\" type=\\\"button\\\" class=\\\"btn btn-primary\\\">\\n                  {{tableField.get('fieldValue').value ? 'Edit': 'Add'}}\\n                </button>\\n                {{tableField.get('fieldDisplayValue').value}}\\n              </div>\\n           a   <ng-template #isNotCalculate>\\n                <solgen-input [formGroup]=\\\"tableField\\\" [from]=\\\"result\\\" [controlName]=\\\"'fieldValue'\\\" [id]=\\\"i\\\"></solgen-input>\\n              </ng-template> -->\\n            </td>\\n            <td class=\\\"align-middle\\\" *ngIf=\\\"i>0\\\">\\n            </td>\\n          </ng-template>\\n\\n        </tr>\\n      </ng-container>\\n      <ng-container *ngIf=\\\"resultForm.get('action').value.code=='update'\\\">\\n        <tr *ngFor=\\\"let tableField of tableFields.controls;let i=index\\\" [formGroupName]=\\\"i\\\">\\n          <td>\\n            <ng-select [items]=\\\"customFieldsList\\\" formControlName=\\\"fieldId\\\"\\n                       placeholder=\\\"Select Field\\\" bindLabel=\\\"name\\\" (change)=\\\"onFieldCalculateChange($event,tableField)\\\"\\n                       [closeOnSelect]=\\\"true\\\" [clearable]=\\\"false\\\">\\n            </ng-select>\\n          </td>\\n          <td>\\n            <strong>{{tableField.get('dataType').value}}</strong>\\n          </td>\\n          <td>\\n\\n            <!-- <label class=\\\"switch disabled\\\" [ngClass]=\\\"{'toggle-disabled':tableField.get('isCalculate').disabled}\\\">\\n              <input type=\\\"checkbox\\\" formControlName=\\\"isCalculate\\\" (change)=\\\"onFieldCalculateChange($event,tableField,i)\\\" checked=\\\"\\\">\\n              <span class=\\\"slider round\\\"><span>Yes</span></span>\\n            </label> -->\\n            <ng-select [items]=\\\"tableField.get('conditions').value\\\" formControlName=\\\"conditionsId\\\"\\n                                   placeholder=\\\"Select Condition\\\" bindLabel=\\\"name\\\"\\n                                   [closeOnSelect]=\\\"true\\\" [clearable]=\\\"false\\\">\\n            </ng-select>\\n          </td>\\n          <td>\\n            <!-- <div *ngIf=\\\"tableField.get('isCalculate').value else isNotCalculate\\\">\\n              <button (click)=\\\"showResultCalculation(tableField)\\\" type=\\\"button\\\" class=\\\"btn btn-primary\\\">\\n                {{tableField.get('fieldValue').value ? 'Edit': 'Add'}}\\n              </button>\\n              {{tableField.get('fieldDisplayValue').value}}\\n            </div> -->\\n            <button class=\\\"btn btn-primary ml-2\\\" *ngIf=\\\"tableField.get('conditionsId').value ? tableField.get('conditionsId').value.value === '3' : ''\\\" (click)=\\\"CalculationModal(tableField)\\\">\\n              <span class=\\\"fa fa-pencil\\\"> Edit </span></button>\\n            <solgen-rule-input [formGroup]=\\\"tableField\\\" [operator]=\\\"\\\" [from]=\\\"tableField\\\"\\n            [controlName]=\\\"'fieldValue'\\\" [id]=\\\"i\\\" [operatorType]=\\\"tableField.get('conditionsId').value\\\" [updateOnOperatorType]=\\\"true\\\" [customFiledList]=\\\"customFieldsList\\\"></solgen-rule-input>\\n            <!-- <ng-template #isNotCalculate>\\n              <solgen-input [formGroup]=\\\"tableField\\\" [from]=\\\"result\\\" [controlName]=\\\"'fieldValue'\\\" [id]=\\\"i\\\"></solgen-input>\\n            </ng-template> -->\\n          </td>\\n          <td class=\\\"align-middle\\\" *ngIf=\\\"i>0\\\">\\n            <a href=\\\"javascript:void(0);\\\" (click)=\\\"removeTableField(i)\\\" class=\\\"text-red font-16\\\"><i class=\\\"fa fa-trash\\\"></i></a>\\n          </td>\\n\\n        </tr>\\n      </ng-container>\\n\\n    </tbody>\\n\\n  </table>\\n  <!-- <app-solgen-rule-engine-result-calculation #resultCalculation [moduleId]=\\\"subModuleId\\\" [resultForm]=\\\"resultForm\\\"></app-solgen-rule-engine-result-calculation> -->\\n  <app-solgen-rule-condition-calculation #resultCalculationModal></app-solgen-rule-condition-calculation>\\n</div>\\n<div class=\\\"p-3 text-right\\\" *ngIf=\\\"resultForm.get('action')?.value?.code !='create'\\\">\\n  <button [disabled]=\\\"!tableFields.valid\\\" class=\\\"btn btn-success mr-1\\\" (click)=\\\"addTableField()\\\"><span><i class=\\\"fa fa-plus\\\"></i> Add</span></button>\\n</div>\\n\\n\"","export default \"\\n<li class=\\\"arrowright\\\" [formGroup]=\\\"target\\\" *ngIf=\\\"target.get('isConditionAdded').value\\\">\\n  <div class=\\\"shape_oval\\\">\\n    <h3 class=\\\"form-heading\\\">Results</h3>\\n    <table class=\\\"table table-hover table-dynamic rule-tab\\\">\\n      <tbody>\\n        <tr *ngFor=\\\"let result of target.get('results').value;let i = index\\\">\\n          <td class=\\\"text-left\\\">\\n            <a data-toggle=\\\"modal\\\" (click)=\\\"editResult(i)\\\" class=\\\"text-white font-16 mt-2\\\">\\n              <i class=\\\"fa fa-pencil\\\"></i> {{result.name}}\\n            </a>\\n          </td>\\n        </tr>\\n      </tbody>\\n\\n    </table>\\n    <div class=\\\"col-sm-12 p-2\\\" [ngClass]=\\\"{'invisible':(vwRuleId != null)}\\\">\\n      <a class=\\\"btn btn-white mr-1\\\"  (click)=\\\"showResultModal()\\\"><span style=\\\"margin-top: 0px;\\\"><i class=\\\"fa fa-plus\\\"></i> Add New </span></a>\\n    </div>\\n  </div>\\n</li>\\n\\n\\n<!-- Modal -->\\n<div class=\\\"modal fade\\\" bsModal #addResult=\\\"bs-modal\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"exampleModalCenterTitle\\\" aria-hidden=\\\"true\\\">\\n  <div class=\\\"modal-dialog modal-dialog-centered modal-xl\\\" role=\\\"document\\\">\\n    <div class=\\\"modal-content\\\" style=\\\"min-height:500px !important\\\">\\n      <div class=\\\"modal-header\\\">\\n        <h5 class=\\\"modal-title\\\" id=\\\"exampleModalLongTitle\\\">Result</h5>\\n        <button type=\\\"button\\\" class=\\\"close\\\" (click)=\\\"hideResultModal()\\\" aria-label=\\\"Close\\\">\\n          <span aria-hidden=\\\"true\\\">&times;</span>\\n        </button>\\n      </div>\\n      <div class=\\\"modal-body\\\">\\n        <form [formGroup]=\\\"resultForm\\\">\\n          <div class=\\\"row\\\" [ngStyle]=\\\"vwRuleId != null ? {'pointer-events': 'none'} : {}\\\">\\n            <div class=\\\"col-4\\\" >\\n              <label>Name</label>\\n              <div class=\\\"form-group\\\">\\n                <input type=\\\"text\\\" class=\\\"form-control\\\" formControlName=\\\"name\\\">\\n              </div>\\n            </div>\\n            <div class=\\\"col-4\\\">\\n              <label>Action</label>\\n              <div class=\\\"form-group\\\">\\n                <ng-select [items]=\\\"resultActionList\\\" formControlName=\\\"action\\\" (change)=\\\"onActionChange($event)\\\"\\n                           placeholder=\\\"Select Action\\\" bindLabel=\\\"name\\\"\\n                           [closeOnSelect]=\\\"true\\\" [clearable]=\\\"false\\\">\\n                </ng-select>\\n              </div>\\n            </div>\\n          </div>\\n          <div class=\\\"row\\\">\\n            <div class=\\\"col-12\\\">\\n              <div class=\\\"border\\\" *ngIf=\\\"resultForm.get('action').value\\\" [ngStyle]=\\\"vwRuleId != null ? {'pointer-events': 'none'} : {}\\\">\\n\\n                <ng-container *ngIf=\\\"resultForm.get('action').value.code=='update' || resultForm.get('action').value.code=='create'\\\">\\n                  <app-solgen-rule-engine-result-table-field [customFieldsList]=\\\"customFieldsList\\\" [resultForm]=\\\"resultForm\\\" [moduleId]=\\\"ruleEngineForm.get('moduleId').value.value\\\" [subModuleId]=\\\"ruleEngineForm.get('subModuleId').value.sub_module_id\\\"></app-solgen-rule-engine-result-table-field>\\n                </ng-container>\\n                <ng-container *ngIf=\\\"resultForm.get('action').value.code !='update' && resultForm.get('action').value.code !='create'\\\">\\n                  <input formControlName=\\\"resultCondition\\\" class=\\\"form-control\\\" placeholder=\\\"Please enter the validation message.\\\" type=\\\"text\\\" />\\n                </ng-container>\\n              </div>\\n            </div>\\n          </div>\\n        </form>\\n      </div>\\n      <div class=\\\"modal-footer\\\">\\n        <div class=\\\"row w-100\\\">\\n          <div class=\\\"col-md-6 text-left pl-0\\\">\\n            <button type=\\\"button\\\" class=\\\"btn btn-danger\\\" [ngClass]=\\\"{'invisible':(vwRuleId != null)}\\\" *ngIf=\\\"resultForm.get('isEdit').value\\\" data-dismiss=\\\"modal\\\" (click)=\\\"deleteResultForm()\\\"><i class=\\\"fa fa-trash\\\"></i> Delete</button>\\n          </div>\\n          <div class=\\\"col-md-6 text-right\\\">\\n\\n            <button type=\\\"button\\\" class=\\\"btn btn-success mr-1\\\" [ngClass]=\\\"{'invisible':(vwRuleId != null)}\\\" (click)=\\\"saveResult()\\\" [disabled]=\\\"!resultForm.valid\\\"><i class=\\\"fa fa-save\\\"></i> Save</button>\\n            <button type=\\\"button\\\" class=\\\"btn btn-danger\\\" [ngClass]=\\\"{'invisible':(vwRuleId != null)}\\\" (click)=\\\"hideResultModal()\\\"><i class=\\\"fa fa-close\\\"></i> Cancel</button>\\n          </div>\\n        </div>\\n\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n<!-- Modal -->\\n\"","export default \"<p class=\\\"shape_polygan\\\">\\n  <span>Target</span>\\n  <span class=\\\"delete\\\" [ngClass]=\\\"{'invisible':(vwRuleId != null)}\\\" (click)=\\\"deleteTarget()\\\" title=\\\"Click here to delete this Target\\\"></span>\\n</p>\\n\"","export default \"<div class=\\\"header float-left w-100 mb-2\\\">\\n  <h2 class=\\\"float-left pr-2\\\" *ngIf=\\\"(id == null || id == 0) && vwRuleId == null \\\"><strong>Add Rule</strong></h2>\\n  <h2 class=\\\"float-left pr-2\\\" *ngIf=\\\"id != null\\\">\\n    <strong>\\n      Edit Rule (<div style=\\\"text-transform: none; display: inline-block\\\">{{RuleNameToShow}}</div>)\\n    </strong>\\n  </h2>\\n  <h2 class=\\\"float-left pr-2\\\" *ngIf=\\\"vwRuleId != null\\\">\\n    <strong>\\n      View Rule (<div style=\\\"text-transform: none; display: inline-block\\\">{{RuleNameToShow}}</div>)\\n    </strong>\\n  </h2>\\n  <div class=\\\"breadcrumb-wrapper\\\">\\n    <ol class=\\\"breadcrumb\\\">\\n      <li>\\n        <a routerLink=\\\"/dashboard\\\">Dashboard</a>\\n      </li>\\n      <li class=\\\"active\\\">{{pageTitle}}</li>\\n    </ol>\\n  </div>\\n\\n</div>\\n<div class=\\\"clearfix\\\"></div>\\n<div class=\\\"panel cntainerwithoutbg clearfix\\\">\\n    <div class=\\\"panel-content clearfix mb-4 p-0\\\">\\n      <ul class=\\\"nav nav-tabs nav-cust\\\" id=\\\"myTab\\\" *ngIf=\\\"id != null && id > 0\\\" role=\\\"tablist\\\">\\n        <li class=\\\"nav-item\\\">\\n          <a class=\\\"nav-link active show\\\" id=\\\"lead-tab\\\"\\n              data-toggle=\\\"tab\\\" href=\\\"#RuleDetail\\\" role=\\\"tab\\\" aria-selected=\\\"true\\\">Rule Detail</a>\\n        </li>\\n        <li class=\\\"nav-item\\\">\\n          <a class=\\\"nav-link\\\" id=\\\"list-ApplicationList\\\" data-toggle=\\\"tab\\\" href=\\\"#ApplicationList\\\" role=\\\"tab\\\" aria-selected=\\\"false\\\" (click)=\\\"refreshLA()\\\">Rule based Application(s)</a>\\n        </li>\\n      </ul>\\n      <div class=\\\"tab-content\\\" id=\\\"myTabContent\\\">\\n        <div class=\\\"tab-pane fade active show\\\" id=\\\"RuleDetail\\\" role=\\\"tabpanel\\\">\\n          <div class=\\\"row\\\">\\n            <div class=\\\"col-lg-12 portlets\\\">\\n              <form [formGroup]=\\\"ruleEngineForm\\\">\\n                  <h3 class=\\\"form-heading mt-0\\\"> <span>Rule Details <div style=\\\"display:inline-block\\\" *ngIf=\\\"id != null && id > 0\\\">(v{{ruleVersion.value}})</div></span></h3>\\n                  <div class=\\\"row mb-2\\\">\\n\\n                    <div [ngClass]=\\\"{'col-md-11':(ruleEngineVersionList.length!=0),'col-md-12':(ruleEngineVersionList.length==0)}\\\">\\n                      <div class=\\\"row\\\">\\n                        <div class=\\\"col-md-12 col-lg-6\\\">\\n                          <label>Name:<span class=\\\"text-danger\\\">*</span></label>\\n                          <div class=\\\"form-group\\\">\\n                            <input type=\\\"text\\\" class=\\\"form-control\\\"\\n                                   formControlName=\\\"name\\\">\\n                            <div *ngIf=\\\"name?.invalid && (name?.dirty || name?.touched)\\\"\\n                                 class=\\\"text-danger\\\">\\n                              <div *ngIf=\\\"name.errors.required\\\">\\n                                Name is required.\\n                              </div>\\n                            </div>\\n                          </div>\\n                        </div>\\n\\n                        <div class=\\\"col-md-12 col-lg-6\\\">\\n                          <label>Module:<span class=\\\"text-danger\\\">*</span></label>\\n                          <div class=\\\"form-group\\\">\\n                            <ng-select [items]=\\\"moduleList\\\" formControlName=\\\"moduleId\\\" placeholder=\\\"Select Module...\\\"\\n                                       bindLabel=\\\"text\\\" [clearable]=\\\"false\\\"></ng-select>\\n                            <div *ngIf=\\\"moduleId?.invalid && (moduleId?.dirty || moduleId?.touched)\\\"\\n                                 class=\\\"text-danger\\\">\\n                              <div *ngIf=\\\"moduleId.errors.required\\\">\\n                                Module is required.\\n                              </div>\\n                            </div>\\n                          </div>\\n                        </div>\\n\\n                        <div class=\\\"col-md-12 col-lg-6\\\">\\n                          <label>Sub Module:<span class=\\\"text-danger\\\">*</span></label>\\n                          <div class=\\\"form-group\\\">\\n                            <ng-select [items]=\\\"subModuleList\\\" formControlName=\\\"subModuleId\\\" placeholder=\\\"Select Sub Module...\\\"\\n                                       bindLabel=\\\"sub_module_name\\\" [clearable]=\\\"false\\\"></ng-select>\\n                            <div *ngIf=\\\"subModuleId?.invalid && (subModuleId?.dirty || subModuleId?.touched)\\\"\\n                                 class=\\\"text-danger\\\">\\n                              <div *ngIf=\\\"subModuleId.errors.required\\\">\\n                                Sub Module is required.\\n                              </div>\\n                            </div>\\n                          </div>\\n                        </div>\\n\\n                        <div class=\\\"col-md-12 col-lg-6\\\">\\n                          <label>Active:</label>\\n                          <div class=\\\"form-group\\\">\\n                            <label class=\\\"switch\\\">\\n                              <input type=\\\"checkbox\\\" formControlName=\\\"isActive\\\" checked=\\\"\\\">\\n                              <span class=\\\"slider round\\\"><span>Yes</span></span>\\n                            </label>\\n                          </div>\\n                        </div>\\n                        <div class=\\\"col-md-12 col-lg-6\\\">\\n                          <label>Execution Order:</label>\\n                          <div class=\\\"form-group\\\">\\n                            <input type=\\\"number\\\" formControlName=\\\"displayOrder\\\" class=\\\"form-control\\\">\\n                          </div>\\n                        </div>\\n                      </div>\\n                    </div>\\n                  </div>\\n                  <div *ngIf=\\\"events.length > 0\\\">\\n                    <h3 class=\\\"form-heading mt-0\\\"> <span>Apply On</span></h3>\\n                    <div class=\\\"div-scroll p-2\\\">\\n                      <div class=\\\"flowchart-fix\\\">\\n                        <ul class=\\\"fc_parentchild\\\">\\n\\n                          <li [ngClass]=\\\"{'arrowdown':eventId.value==0?false:true}\\\">\\n                            <p class=\\\"shape_oval\\\"><span>When</span></p>\\n                            <ul class=\\\"fc_subchild fc_subchildWhen\\\">\\n                              <li class=\\\"arrowright top50\\\">\\n                                <div class=\\\"formsfieldmainunique\\\">\\n                                  <div class=\\\"parenthead\\\">\\n                                    <span class=\\\"text\\\">When do you want to execute the rule ()?</span>\\n                                    <a *ngIf=\\\"eventId.value !=0 && isEditEvent\\\" (click)=\\\"editEvent()\\\" class=\\\"float-right text-white\\\" href=\\\"javascript:void(0);\\\"><i class=\\\"fa fa-arrow-left\\\"></i></a>\\n                                  </div>\\n                                  <div class=\\\"childdivsunique_edit\\\" *ngIf=\\\"!isEditEvent\\\">\\n                                    <div class=\\\"childdivsuniqueheader\\\"><span>{{subModule.sub_module_name}}: {{eventName}}</span></div>\\n                                    <div class=\\\"childdivediticon_unique textalignright\\\">\\n                                      <a href=\\\"javascript:void(0);\\\" title=\\\"\\\" [ngClass]=\\\"{'invisible':(vwRuleId != null)}\\\" (click)=\\\"editEvent()\\\">\\n                                        <div class=\\\"iconedit_unique\\\"></div>\\n                                      </a>\\n                                    </div>\\n                                  </div>\\n                                  <div class=\\\"clearfix\\\"></div>\\n                                  <div class=\\\"childdivsunique_base row mt-3\\\" *ngIf=\\\"isEditEvent\\\">\\n                                    <div class=\\\"col-sm-6\\\" *ngFor=\\\"let event of events\\\">\\n                                      <div class=\\\"radio\\\">\\n                                        <input id=\\\"radio-{{event.SubModuleEventId}}\\\" formControlName=\\\"eventId\\\" (change)=\\\"onEventChange(event)\\\" [value]=\\\"event.SubModuleEventId\\\" type=\\\"radio\\\">\\n                                        <label for=\\\"radio-{{event.SubModuleEventId}}\\\" class=\\\"radio-label\\\">{{event.Name}} </label>\\n                                      </div>\\n                                    </div>\\n                                  </div>\\n                                </div>\\n                              </li>\\n                            </ul>\\n                          </li>\\n\\n                          <li *ngIf=\\\"eventId.value!=0\\\">\\n\\n                            <ul formArrayName=\\\"targets\\\">\\n                              <li class=\\\"arrowdown\\\" *ngFor=\\\"let target of targets.controls;let i = index\\\" [formGroupName]=\\\"i\\\">\\n                                <div>\\n                                  <app-solgen-rule-engine-target [vwRuleId]=\\\"vwRuleId\\\" (deleteTargetEvent)=\\\"deleteTarget(i)\\\"></app-solgen-rule-engine-target>\\n                                  <ul class=\\\"fc_subchild\\\">\\n                                    <app-solgen-rule-engine-condition [vwRuleId]=\\\"vwRuleId\\\" [customFieldsList]=\\\"customFieldsList\\\" [ruleEngineForm]=\\\"ruleEngineForm\\\" [target]=\\\"target\\\" [rowNo]=\\\"i\\\" [subModuleId]=\\\"subModuleId\\\"></app-solgen-rule-engine-condition>\\n                                    <app-solgen-rule-engine-result [vwRuleId]=\\\"vwRuleId\\\" [customFieldsList]=\\\"customFieldsList\\\" [ruleEngineForm]=\\\"ruleEngineForm\\\" [target]=\\\"target\\\"></app-solgen-rule-engine-result>\\n                                  </ul>\\n                                </div>\\n                              </li>\\n                              <li class=\\\"arrowdown ui-sortable-handle\\\" *ngIf=\\\"showAddTarget()\\\" [ngClass]=\\\"{'invisible':(vwRuleId != null)}\\\">\\n                                <p class=\\\"shape_roundbtn\\\" (click)=\\\"addTarget()\\\" title=\\\"Click here to add new Target\\\"><span>+</span></p>\\n                              </li>\\n                            </ul>\\n                          </li>\\n                        </ul>\\n\\n                      </div>\\n\\n                    </div>\\n                  </div>\\n\\n                  <div class=\\\"row mb-3\\\" >\\n                    <div class=\\\"col-sm-12 col-md-12\\\">\\n                      <!---->\\n                      <button class=\\\"btn btn-success mr-2\\\" [ngClass]=\\\"{'invisible':(vwRuleId != null)}\\\" href=\\\"javascript:void(0);\\\" [disabled]=\\\"(!ruleEngineForm.valid) || (isSubmitButtonDisabled == true && id > 0)\\\" (click)=\\\"save()\\\"><span><i class=\\\"fa fa-save\\\"></i> Submit</span></button>\\n                      <a routerLink=\\\"/solgen-rule-engine\\\" class=\\\"btn btn-danger\\\" href=\\\"javascript:void(0);\\\"><span><i class=\\\"fa fa-close\\\"></i> Cancel</span></a>\\n                    </div>\\n                  </div>\\n              </form>\\n            </div>\\n            <app-loader [size]=60 [color]=\\\"'white'\\\" *ngIf=\\\"loadSave\\\" class=\\\"loader\\\"></app-loader>\\n          </div>\\n        </div>\\n        <div class=\\\"tab-pane p-0 fade\\\" id=\\\"ApplicationList\\\" role=\\\"tabpanel\\\">\\n          <div class=\\\"row\\\">\\n            <div class=\\\"col-12\\\">\\n\\n              <div class=\\\"col-md-12 mt-3\\\">\\n                <div class=\\\"alert alert-warning\\\" role=\\\"alert\\\">\\n                  <strong>NOTE: </strong> You can change the rule version for the particular application(s), and next time whenever rules are executed on that application, it will execute your selected version of the rule.\\n                </div>\\n              </div>\\n              <div class=\\\"border-bottom pb-3\\\">\\n                <div class=\\\" row mt-2\\\">\\n                  <div class=\\\"col-md-6 col-lg-5\\\">\\n                    <div class=\\\"row px-3\\\">\\n                      <div class=\\\"col-lg-5 float-left mb-lg-0 mb-2\\\">\\n                        <input class=\\\"form-control input-sm\\\" type=\\\"text\\\" [(ngModel)]='listFiltertext' placeholder=\\\"Search By No\\\">\\n                      </div>\\n                      <div class=\\\"col-lg-7 float-left px-sm-0 px-3 \\\">\\n                        <a class=\\\"btn btn-success form-btns mr-1\\\" href=\\\"javascript:void(0);\\\" (click)=\\\"searchLA('VERSION')\\\"><span><i class=\\\"fa fa-search\\\"></i> Search</span></a>\\n                        <a class=\\\"btn btn-danger form-btns\\\" href=\\\"javascript:void(0);\\\" (click)=\\\"refreshLA()\\\"><span><i class=\\\"fa fa-refresh\\\"></i> Reset</span></a>\\n                      </div>\\n                    </div>\\n                  </div>\\n                  <div class=\\\"col-md-6 col-lg-7\\\">\\n                    <div class=\\\"row px-3\\\">\\n                      <div class=\\\"col-lg-12 text-left text-md-right\\\">\\n                        <div class=\\\"form-group d-inline-block align-top mr-1 mb-0\\\" style=\\\"max-width:220px\\\" *ngIf=\\\"laPagedData != null && laPagedData.data != null && laPagedData.data.length > 0\\\">\\n                          <ng-select [(ngModel)]='selectedVersionForChange' [items]=\\\"ruleEngineVersionListForChange\\\" placeholder=\\\"Select Version to update\\\"\\n                                     bindValue=\\\"RuleId\\\" bindLabel=\\\"RuleVersion\\\" class=\\\"form-control\\\" [clearable]=\\\"false\\\"></ng-select>\\n                        </div>\\n                        <div class=\\\"form-group d-inline-block mr-1 mb-0\\\" *ngIf=\\\"laPagedData != null && laPagedData.data != null && laPagedData.data.length > 0\\\">\\n                          <button class=\\\"btn btn-primary float-left\\\" type=\\\"button\\\" (click)=\\\"ApplySelectedVersion()\\\"><i class=\\\"fa fa-floppy-o\\\"></i> Apply Version</button>\\n                        </div>\\n                        <div class=\\\"form-group d-inline-block align-top mb-0\\\" *ngIf=\\\"isSubmitButtonDisabled == false && id > 0\\\">\\n                          <button type=\\\"button\\\" class=\\\"btn btn-success\\\" (click)=\\\"OpenLatestRuleOnOldApp()\\\"><i class=\\\"fa fa-check-circle-o\\\"></i> Apply on old Application</button>\\n                        </div>\\n                      </div>\\n\\n                    </div>\\n                  </div>\\n                </div>\\n              </div>\\n\\n\\n              <div class=\\\"col-md-12\\\">\\n                <div class=\\\"mt-3\\\">{{RuleNameToShow}} (v{{ruleVersion.value}}) is already executed on following application(s)</div>\\n                <ngx-datatable #table class=\\\"bootstrap table table-hover table-dynamic\\\"\\n                               [rows]=\\\"laPagedData.data\\\"\\n                               [columnMode]=\\\"'force'\\\"\\n                               [scrollbarH]=\\\"true\\\"\\n                               [rowHeight]=\\\"'40'\\\"\\n                               [headerHeight]=\\\"40\\\"\\n                               [footerHeight]=\\\"40\\\"\\n                               [externalPaging]=\\\"true\\\"\\n                               [externalSorting]=\\\"true\\\"\\n                               [loadingIndicator]=\\\"loadSave\\\"\\n                               [count]=\\\"laPagedData.pager.totalItems\\\"\\n                               [offset]=\\\"laPagedData.pager.currentPage\\\"\\n                               [limit]=\\\"laPagedData.pager.pageSize\\\"\\n                               (page)=\\\"setPageLA($event, 'VERSION')\\\"\\n                               (sort)=\\\"onSort($event)\\\"\\n                               [selected]=\\\"selectedApplication\\\"\\n                               [selectionType]=\\\"SelectionType.checkbox\\\"\\n                               [selectAllRowsOnPage]=\\\"false\\\"\\n                               (activate)=\\\"onActivate($event)\\\"\\n                               (select)=\\\"onSelect($event)\\\">\\n                  <ngx-datatable-column [width]=\\\"42\\\"\\n                                        [sortable]=\\\"false\\\"\\n                                        [canAutoResize]=\\\"false\\\"\\n                                        [draggable]=\\\"false\\\"\\n                                        [resizeable]=\\\"false\\\"\\n                                        [headerCheckboxable]=\\\"true\\\"\\n                                        [checkboxable]=\\\"true\\\">\\n                  </ngx-datatable-column>\\n\\n                  <ngx-datatable-column name=\\\"Application Number\\\" prop=\\\"ApplicationNumber\\\" [sortable]=\\\"true\\\">\\n                    <!--<ng-template let-row=\\\"row\\\" ngx-datatable-cell-template>\\n        <a href=\\\"javascript:void(0);\\\" (click)=\\\"viewLoanApp(row.Id)\\\">{{row.ApplicationNumber}} </a>\\n      </ng-template>-->\\n                  </ngx-datatable-column>\\n                  <ngx-datatable-column name=\\\"Email\\\" prop=\\\"Email\\\" [sortable]=\\\"true\\\"></ngx-datatable-column>\\n                  <ngx-datatable-column name=\\\"Product Name\\\" prop=\\\"ProductName\\\" [sortable]=\\\"true\\\"></ngx-datatable-column>\\n                  <!--<ngx-datatable-column name=\\\"Stage\\\" prop=\\\"Stage\\\" [sortable]=\\\"true\\\"></ngx-datatable-column>-->\\n                  <ngx-datatable-column name=\\\"Status\\\" prop=\\\"ApplicationStatus\\\" [sortable]=\\\"true\\\">\\n                    <ng-template let-row=\\\"row\\\" ngx-datatable-cell-template>\\n                      {{row.ApplicationStatus}}\\n                    </ng-template>\\n                  </ngx-datatable-column>\\n                  <ngx-datatable-footer>\\n                    <ng-template ngx-datatable-footer-template\\n                                 let-rowCount=\\\"rowCount\\\"\\n                                 let-pageSize=\\\"pageSize\\\"\\n                                 let-selectedCount=\\\"selectedCount\\\"\\n                                 let-currentPage=\\\"currentPage\\\"\\n                                 let-offset=\\\"offset\\\"\\n                                 let-isVisible=\\\"isVisible\\\">\\n\\n                      <div>\\n                        <div style=\\\"color:black; margin-right:10px;\\\" class=\\\"page-size-record\\\">\\n                          <span style=\\\"text-align:right; width:80px;vertical-align: middle;\\\">\\n                            <ng-select [searchable]=\\\"false\\\" [items]=\\\"lstPageSize\\\" appendTo=\\\"body\\\" [(ngModel)]='laPageSizeValue' dropzone=\\\"fixed\\\" [clearable]=\\\"false\\\" (change)=\\\"onChangeLA($event, 'VERSION')\\\" draggable=\\\"false\\\" [closeOnSelect]=\\\"true\\\" bindLabel=\\\"text\\\" bindValue=\\\"text\\\"></ng-select>\\n                          </span>\\n                        </div>\\n                      </div>\\n                      <div class=\\\"page-count\\\" style=\\\"max-width:170px;\\\">\\n                        {{rowCount}} total\\n                      </div>\\n                      <datatable-pager [pagerLeftArrowIcon]=\\\"'fa fa-angle-double-left'\\\"\\n                                       [pagerRightArrowIcon]=\\\"'fa fa-angle-double-right'\\\"\\n                                       [pagerPreviousIcon]=\\\"'fa fa-angle-left'\\\"\\n                                       [pagerNextIcon]=\\\"'fa fa-angle-right'\\\"\\n                                       [page]=\\\"laPagedData.pager.currentPage\\\"\\n                                       [size]=\\\"laPageSizeValue\\\"\\n                                       [count]=\\\"laPagedData.pager.totalItems\\\"\\n                                       [hidden]=\\\"!((rowCount / pageSize) > 1)\\\"\\n                                       (change)=\\\"setPageLA($event, 'VERSION')\\\">\\n                      </datatable-pager>\\n                    </ng-template>\\n                  </ngx-datatable-footer>\\n                </ngx-datatable>\\n\\n              </div>\\n\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n</div>\\n<div class=\\\"clearfix\\\"></div>\\n\\n<div class=\\\"modal fade \\\" bsModal #ApplicationPopupForApplyLatestRule=\\\"bs-modal\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"exampleModalCenterTitle\\\" aria-hidden=\\\"true\\\">\\n  <div class=\\\"modal-dialog modal-dialog-centered modal-xl\\\" role=\\\"document\\\">\\n    <div class=\\\"modal-content\\\">\\n      <div class=\\\"modal-header\\\">\\n        <h5 class=\\\"modal-title\\\">Applications</h5>\\n        <button type=\\\"button\\\" class=\\\"close\\\"  (click)=\\\"applyLatestRuleOnOldApp.hide()\\\" aria-label=\\\"Close\\\">\\n          <span aria-hidden=\\\"true\\\">&times;</span>\\n        </button>\\n      </div>\\n      <div class=\\\"modal-body\\\">\\n        <div class=\\\"row\\\">\\n          <div class=\\\"col-md-12 mt-3\\\">\\n            <div class=\\\"alert alert-warning\\\" role=\\\"alert\\\">\\n              <strong>NOTE: </strong> You can apply {{RuleNameToShow}} (latest version) on selected application(s), and next time whenever rule engine is executed on that application, {{RuleNameToShow}} will be executed.\\n            </div>\\n          </div>\\n          <div class=\\\"col-md-12\\\">\\n            <div class=\\\"row\\\">\\n              <div class=\\\"col-lg-5 float-left mb-lg-0 mb-2\\\">\\n                <input class=\\\"form-control input-sm\\\" type=\\\"text\\\" [(ngModel)]='loanApplicationlistFiltertext' placeholder=\\\"Search By Application No\\\">\\n              </div>\\n              <div class=\\\"col-lg-7 float-left\\\">\\n                <a class=\\\"btn btn-success form-btns mr-1\\\" href=\\\"javascript:void(0);\\\" (click)=\\\"searchLA('NEWRULEONOLDAPP')\\\"><span><i class=\\\"fa fa-search\\\"></i> Search</span></a>\\n                <a class=\\\"btn btn-danger form-btns mr-2\\\" href=\\\"javascript:void(0);\\\" (click)=\\\"refreshLA('NEWRULEONOLDAPP')\\\"><span><i class=\\\"fa fa-refresh\\\"></i> Reset</span></a>\\n              </div>\\n            </div>\\n          </div>\\n        </div>\\n        <div class=\\\"row\\\">\\n          <div class=\\\"col-md-12\\\">\\n            <div class=\\\"mt-3\\\">Following application(s) are those on which {{RuleNameToShow}} (any version) is still not applied</div>\\n            <ngx-datatable #table class=\\\"bootstrap table table-hover table-dynamic\\\"\\n                           [rows]=\\\"loanApplicationPageData.data\\\"\\n                           [columnMode]=\\\"'force'\\\"\\n                           [scrollbarH]=\\\"true\\\"\\n                           [rowHeight]=\\\"'40'\\\"\\n                           [headerHeight]=\\\"40\\\"\\n                           [footerHeight]=\\\"40\\\"\\n                           [externalPaging]=\\\"true\\\"\\n                           [externalSorting]=\\\"true\\\"\\n                           [loadingIndicator]=\\\"loadSave\\\"\\n                           [count]=\\\"loanApplicationPageData.pager.totalItems\\\"\\n                           [offset]=\\\"loanApplicationPageData.pager.currentPage\\\"\\n                           [limit]=\\\"loanApplicationPageData.pager.pageSize\\\"\\n                           (page)=\\\"setPageLA($event, 'NEWRULEONOLDAPP')\\\"\\n                           (sort)=\\\"onSort($event)\\\"\\n                           [selected]=\\\"selectedOldApplication\\\"\\n                           [selectionType]=\\\"SelectionType.checkbox\\\"\\n                           [selectAllRowsOnPage]=\\\"false\\\"\\n                           (activate)=\\\"onActivate($event)\\\"\\n                           (select)=\\\"onSelectOldApplication($event)\\\">\\n              <ngx-datatable-column [width]=\\\"42\\\"\\n                                    [sortable]=\\\"false\\\"\\n                                    [canAutoResize]=\\\"false\\\"\\n                                    [draggable]=\\\"false\\\"\\n                                    [resizeable]=\\\"false\\\"\\n                                    [headerCheckboxable]=\\\"true\\\"\\n                                    [checkboxable]=\\\"true\\\">\\n              </ngx-datatable-column>\\n\\n              <ngx-datatable-column name=\\\"Application Number\\\" prop=\\\"ApplicationNumber\\\" [sortable]=\\\"true\\\">\\n                <!--<ng-template let-row=\\\"row\\\" ngx-datatable-cell-template>\\n        <a href=\\\"javascript:void(0);\\\" (click)=\\\"viewLoanApp(row.Id)\\\">{{row.ApplicationNumber}} </a>\\n      </ng-template>-->\\n              </ngx-datatable-column>\\n              <ngx-datatable-column name=\\\"Email\\\" prop=\\\"Email\\\" [sortable]=\\\"true\\\"></ngx-datatable-column>\\n              <ngx-datatable-column name=\\\"Product Name\\\" prop=\\\"ProductName\\\" [sortable]=\\\"true\\\"></ngx-datatable-column>\\n              <!--<ngx-datatable-column name=\\\"Stage\\\" prop=\\\"Stage\\\" [sortable]=\\\"true\\\"></ngx-datatable-column>-->\\n              <ngx-datatable-column name=\\\"Status\\\" prop=\\\"ApplicationStatus\\\" [sortable]=\\\"true\\\">\\n                <ng-template let-row=\\\"row\\\" ngx-datatable-cell-template>\\n                  {{row.ApplicationStatus}}\\n                </ng-template>\\n              </ngx-datatable-column>\\n              <ngx-datatable-footer>\\n                <ng-template ngx-datatable-footer-template\\n                             let-rowCount=\\\"rowCount\\\"\\n                             let-pageSize=\\\"pageSize\\\"\\n                             let-selectedCount=\\\"selectedCount\\\"\\n                             let-currentPage=\\\"currentPage\\\"\\n                             let-offset=\\\"offset\\\"\\n                             let-isVisible=\\\"isVisible\\\">\\n                  <div>\\n                    <div style=\\\"color:black; margin-right:10px;\\\" class=\\\"page-size-record\\\">\\n                      <span style=\\\"text-align:right; width:80px;vertical-align: middle;\\\">\\n                        <ng-select [searchable]=\\\"false\\\" [items]=\\\"lstPageSize\\\" appendTo=\\\"body\\\" [(ngModel)]='loanApplicationPageSizeValue' dropzone=\\\"fixed\\\" [clearable]=\\\"false\\\" (change)=\\\"onChangeLA($event, 'NEWRULEONOLDAPP')\\\" draggable=\\\"false\\\" [closeOnSelect]=\\\"true\\\" bindLabel=\\\"text\\\" bindValue=\\\"text\\\"></ng-select>\\n                      </span>\\n                    </div>\\n                  </div>\\n                  <div class=\\\"page-count\\\" style=\\\"max-width:170px;\\\">\\n                    {{rowCount}} total\\n                  </div>\\n                  <datatable-pager [pagerLeftArrowIcon]=\\\"'fa fa-angle-double-left'\\\"\\n                                   [pagerRightArrowIcon]=\\\"'fa fa-angle-double-right'\\\"\\n                                   [pagerPreviousIcon]=\\\"'fa fa-angle-left'\\\"\\n                                   [pagerNextIcon]=\\\"'fa fa-angle-right'\\\"\\n                                   [page]=\\\"loanApplicationPageData.pager.currentPage\\\"\\n                                   [size]=\\\"laPageSizeValue\\\"\\n                                   [count]=\\\"loanApplicationPageData.pager.totalItems\\\"\\n                                   [hidden]=\\\"!((rowCount / pageSize) > 1)\\\"\\n                                   (change)=\\\"setPageLA($event, 'NEWRULEONOLDAPP')\\\">\\n                  </datatable-pager>\\n                </ng-template>\\n              </ngx-datatable-footer>\\n            </ngx-datatable>\\n          </div>\\n        </div>\\n      </div>\\n      <div class=\\\"modal-footer\\\">\\n        <div class=\\\"row\\\">\\n          <div class=\\\"col-md-12\\\">\\n            <button type=\\\"button\\\" class=\\\"btn btn-success\\\" (click)=\\\"ApplyRuleOnOldApplication()\\\"><i class=\\\"fa fa-floppy-o\\\"></i> Submit</button>\\n            <button type=\\\"button\\\" class=\\\"btn btn-danger ml-2\\\" (click)=\\\"closeOldApplicationPopup()\\\"><i class=\\\"fa fa-times\\\"></i> cancel</button>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\"","export default \"<div class=\\\"header float-left w-100 mb-2\\\">\\n  <h2 class=\\\"float-left pr-2\\\"><strong>RULE ENGINE</strong></h2>\\n  <div class=\\\"breadcrumb-wrapper\\\">\\n    <ol class=\\\"breadcrumb\\\">\\n      <li>\\n        <a routerLink=\\\"/dashboard\\\">Dashboard</a>\\n      </li>\\n      <li class=\\\"active\\\">RULE ENGINE</li>\\n    </ol>\\n  </div>\\n</div>\\n<div class=\\\"clearfix\\\"></div>\\n<div class=\\\"row\\\">\\n  <div class=\\\"col-lg-12 portlets\\\">\\n    <div class=\\\"panel\\\">\\n      <div class=\\\"panel-header border-bottom \\\">\\n        <div class=\\\"row mt-2\\\">\\n\\n          <div class=\\\"col-md-6 col-xl-6\\\">\\n            <div class=\\\"row searchfield  mr-1 w-100\\\">\\n              <div class=\\\"col-lg-5 float-left mb-lg-0 mb-2\\\">\\n                <ng-select [items]=\\\"modulelist\\\"\\n                           placeholder=\\\"Select Module\\\" bindValue=\\\"module_id\\\"\\n                           [(ngModel)]=\\\"moduleId\\\"\\n                           bindLabel=\\\"module_name\\\" (change)=\\\"onModuleSelect($event)\\\" [clearable]=\\\"true\\\">\\n                </ng-select>\\n              </div>\\n              <div class=\\\"col-lg-5 float-left mb-lg-0 mb-2\\\">\\n                <ng-select [items]=\\\"subModulelist\\\"\\n                           placeholder=\\\"Select SubModule\\\" bindValue=\\\"sub_module_id\\\"\\n                           [(ngModel)]=\\\"subModuleId\\\"\\n                           bindLabel=\\\"sub_module_name\\\" (change)=\\\"onSubModuleSelect($event)\\\" [clearable]=\\\"true\\\">\\n                </ng-select>\\n              </div>\\n            </div>\\n          </div>\\n          <div class=\\\"col-md-6 col-xl-6\\\" >\\n            <div class=\\\"dt-buttons\\\">\\n              <a href=\\\"javascript:void(0);\\\" routerLink=\\\"/solgen-rule-engine/add-rule\\\"  class=\\\"btn btn-success form-btns  mr-1\\\" tooltip=\\\" Add Form\\\"><i class=\\\"fa fa-plus\\\"></i></a>\\n              <a class=\\\"btn btn-danger form-btns\\\" href=\\\"javascript:void(0);\\\" (click)=\\\"remove()\\\"  tooltip=\\\"Delete\\\"><span><i class=\\\"fa fa-trash\\\"></i></span></a>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n      <div class=\\\"panel-content px-3 pagination2 table-responsive no-padding\\\">\\n\\n\\n\\n\\n        <ngx-datatable #table class=\\\"bootstrap table table-hover table-dynamic\\\"\\n        [rows]=\\\"pagedData.data\\\"\\n        [columnMode]=\\\"'force'\\\"\\n        [scrollbarH]=\\\"true\\\"\\n        [rowHeight]=\\\"'40'\\\"\\n        [headerHeight]=\\\"40\\\"\\n        [footerHeight]=\\\"40\\\"\\n        [externalPaging]=\\\"true\\\"\\n        [externalSorting]=\\\"true\\\"\\n        [loadingIndicator]=\\\"loadSave\\\"\\n        [count]=\\\"pagedData.pager.totalItems\\\"\\n        [offset]=\\\"pagedData.pager.currentPage\\\"\\n        [limit]=\\\"pagedData.pager.pageSize\\\"\\n        (page)='setPage($event)'\\n        (sort)=\\\"onSort($event)\\\"\\n        [selectionType]=\\\"SelectionType.checkbox\\\"\\n        [selectAllRowsOnPage]=\\\"false\\\"\\n        [selected]=\\\"selected\\\"\\n        (select)=\\\"onSelect($event)\\\">\\n<ngx-datatable-column [width]=\\\"42\\\"\\n                 [sortable]=\\\"false\\\"\\n                 [canAutoResize]=\\\"false\\\"\\n                 [draggable]=\\\"false\\\"\\n                 [resizeable]=\\\"false\\\"\\n                 [headerCheckboxable]=\\\"true\\\"\\n                 [checkboxable]=\\\"true\\\">\\n</ngx-datatable-column>\\n\\n<ngx-datatable-column name=\\\"Module\\\" [sortable]=\\\"true\\\" prop=\\\"ModuleName\\\"></ngx-datatable-column>\\n   <ngx-datatable-column name=\\\"SubModule\\\" [sortable]=\\\"true\\\" prop=\\\"SubModuleName\\\"></ngx-datatable-column>\\n   <ngx-datatable-column name=\\\"Rule Name\\\" prop=\\\"RuleName\\\" [sortable]=\\\"true\\\">\\n    <ng-template let-row=\\\"row\\\" ngx-datatable-cell-template>\\n      <div><a [routerLink]=\\\"['/solgen-rule-engine/edit',row.RuleId]\\\">{{row.RuleName }}</a></div>\\n    </ng-template>\\n  </ngx-datatable-column>\\n   <ngx-datatable-column name=\\\"Execution Order\\\" [sortable]=\\\"true\\\" prop=\\\"DisplayOrder\\\"></ngx-datatable-column>\\n   <ngx-datatable-column name=\\\"Status\\\" prop=\\\"StatusId\\\" sortable=\\\"false\\\" headerClass=\\\"text-center\\\">\\n    <ng-template let-row=\\\"row\\\" ngx-datatable-cell-template>\\n      <div class=\\\"text-center\\\" *ngIf=\\\"row.StatusId == 1002\\\">\\n        <!--<span><i class=\\\"fa fa-times text-danger icon_tick\\\"></i></span>-->\\n\\n        <a href=\\\"javascript:void(0);\\\" (click)=\\\"enable(row)\\\"><i title=\\\"Click to enable.\\\" class=\\\"fa fa-times text-danger icon_tick\\\"></i></a>\\n      </div>\\n      <div class=\\\"text-center\\\" *ngIf=\\\"row.StatusId == 1001\\\">\\n        <!--<span><i class=\\\"fa fa-check text-success icon_tick\\\"></i></span>-->\\n        <a href=\\\"javascript:void(0);\\\" (click)=\\\"disable(row)\\\"><i title=\\\"Click to disable.\\\" class=\\\"fa fa-check text-success icon_tick\\\"></i></a>\\n      </div>\\n    </ng-template>\\n  </ngx-datatable-column>\\n\\n\\n<ngx-datatable-column [width]=\\\"80\\\" name=\\\"Action\\\" [sortable]=\\\"false\\\" [maxWidth]=\\\"200\\\" headerClass=\\\"text-center\\\">\\n<ng-template let-row=\\\"row\\\" ngx-datatable-cell-template>\\n<div class=\\\"text-center\\\">\\n  <a  class=\\\"actions-onclick view-list\\\" class=\\\"btn-edit \\\" [routerLink]=\\\"['/solgen-rule-engine/view',row.RuleId]\\\"  title=\\\"View Detail\\\"><i class=\\\"fa fa-eye pr-2 \\\"></i></a>\\n <a *ngIf=\\\"row.IsFromSubModule\\\"  class=\\\"btn-edit \\\" href=\\\"javascript:void(0);\\\" [routerLink]=\\\"['/solgen-rule-engine/edit',row.RuleId]\\\"><i title=\\\"Add/Edit Form Fields\\\" class=\\\"fa fa-pencil text-success pr-2\\\"></i></a>\\n <a *ngIf=\\\"!row.IsFromSubModule\\\"  class=\\\"btn-edit\\\" href=\\\"javascript:void(0);\\\" [routerLink]=\\\"['/solgen-rule-engine/edit',row.RuleId]\\\"><i title=\\\"Add/Edit Form Fields\\\" class=\\\"fa fa-pencil text-success pr-2\\\"></i></a>\\n\\n <a *ngIf=\\\"row.IsFromSubModule\\\" class=\\\"btn-edit disabled\\\" href=\\\"javascript:void(0);\\\"><i class=\\\"fa fa-trash text-secondary pr-2\\\" title=\\\"Delete Form\\\"></i></a>\\n <a *ngIf=\\\"!row.IsFromSubModule\\\" (click)=\\\"DeleteRule(row)\\\" class=\\\"btn-edit\\\" href=\\\"javascript:void(0);\\\"><i class=\\\"fa fa-trash text-danger pr-2\\\" title=\\\"Delete Form\\\"></i></a>\\n</div>\\n</ng-template>\\n</ngx-datatable-column>\\n<ngx-datatable-footer>\\n<ng-template ngx-datatable-footer-template\\n          let-rowCount=\\\"rowCount\\\"\\n          let-pageSize=\\\"pageSize\\\"\\n          let-selectedCount=\\\"selectedCount\\\"\\n          let-currentPage=\\\"currentPage\\\"\\n          let-offset=\\\"offset\\\"\\n          let-isVisible=\\\"isVisible\\\">\\n\\n<div>\\n <div style=\\\"color:black; margin-right:10px;\\\" class=\\\"page-size-record\\\">\\n   <span style=\\\"text-align:right; width:80px;vertical-align: middle;\\\">\\n     <ng-select [searchable]=\\\"false\\\" [items]=\\\"lstPageSize\\\" appendTo=\\\"body\\\" [(ngModel)]='pageSizeValue' dropzone=\\\"fixed\\\" [clearable]=\\\"false\\\" (change)=\\\"onChange($event)\\\" draggable=\\\"false\\\" [closeOnSelect]=\\\"true\\\"\\n                bindLabel=\\\"text\\\" bindValue=\\\"text\\\"></ng-select>\\n   </span>\\n </div>\\n</div>\\n<div class=\\\"page-count\\\" *ngIf='(rowCount  > 0)'>\\n {{commonService.PageString(pagedData.pager.currentPage+1,pageSizeValue,rowCount)}}\\n</div>\\n\\n<!--<div class=\\\"page-count\\\">\\nShowing {{(pagedData.pager.currentPage )* pagedData.pager.pageSize + 1}}  to {{(pagedData.pager.currentPage+1) * pagedData.pager.pageSize}} out of {{rowCount}}  enteries\\n</div>     \\\"pagedData.pager.currentPage+1\\\"-->\\n<datatable-pager [pagerLeftArrowIcon]=\\\"'fa fa-angle-double-left'\\\"\\n[pagerRightArrowIcon]=\\\"'fa fa-angle-double-right'\\\"\\n[pagerPreviousIcon]=\\\"'fa fa-angle-left'\\\"\\n[pagerNextIcon]=\\\"'fa fa-angle-right'\\\"\\n[page]=\\\"pagedData.pager.currentPage+1\\\"\\n[size]=\\\"pageSizeValue\\\"\\n[count]=\\\"pagedData.pager.totalItems\\\"\\n[hidden]=\\\"!((rowCount / pageSize) > 1)\\\"\\n(change)=\\\"setPage($event)\\\">\\n</datatable-pager>\\n</ng-template>\\n</ngx-datatable-footer>\\n</ngx-datatable>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\"","export default \"<p>\\n  solgen-rule-engine-summary works!\\n</p>\\n\"","import { Injectable } from '@angular/core';\r\nimport { environment } from 'src/environments/environment';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { CommonService } from '../shared/common.service';\r\nimport { map } from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class BankService {\r\n  public baseUri = `${environment.WebApiBaseUrl}`;\r\n  pagedData: any;\r\n\r\n  constructor(private http: HttpClient, private commonService: CommonService) { }\r\n\r\n  //function used to fetch list of Bank\r\n  getBankList(name: any, sortColumn: string, sortDir, page: number, pageSize: number, userId: string) {\r\n    if (typeof name == \"undefined\" || name == null) { name = null; }\r\n    else { name = encodeURIComponent((name)); }\r\n    return this.http.get(this.baseUri + `Bank/GetBankList?nameSearch=${name}&sortColumn=${sortColumn}&sortDir=${sortDir}&pageIndex=${page}&pageSize=${pageSize}&userId=${userId}`)\r\n      .pipe(\r\n        map((response: any) => {\r\n          this.pagedData = response;\r\n          return true;\r\n        })\r\n      );\r\n  }\r\n\r\n  //function used to set active/inactive status of Bank\r\n  setBankStatus(tableName: any, primaryKey: any, status: any, moduleName: any, statusName: any) {\r\n    return this.commonService.ActiveInactive(tableName, primaryKey, status, moduleName, statusName);\r\n  }\r\n\r\n  //function is used to get detail of  user\r\n  getBankDetail(id: any) {\r\n    return this.http.get(this.baseUri + `Bank/GetBankDetailById?Bankid=${id}`)\r\n  }\r\n\r\n  //function is used to delte the  user\r\n  deleteBank(tableName: any,primaryid : any, moduleName: any) {\r\n    return this.commonService.Delete(tableName, primaryid, moduleName);\r\n  }\r\n\r\n  //function is used to add edit vendor\r\n  addEditBank(bankModel: BankModel) {\r\n    return this.http.post(this.baseUri + `Bank/AddEditBank`, bankModel);\r\n  }\r\n\r\n  getusersBankList(page: number, pageSize: number,bankId: string) {\r\n\r\n    return this.http.get(this.baseUri + `Bank/GetUsersBankList?pageIndex=${page}&pageSize=${pageSize}&bankId=${bankId}`)\r\n      .pipe(\r\n        map((response: any) => {\r\n          this.pagedData = response;\r\n          return true;\r\n        })\r\n      );\r\n  }\r\n\r\n  getBankDropdownList() {\r\n    return this.http.get(`${this.baseUri}Bank/GetBankDropList`);\r\n  }\r\n\r\n}\r\n\r\nexport class BankModel {\r\n  id: string;\r\n  bankName: string;\r\n  city: string;\r\n  county: string;\r\n  stateId: string;\r\n  statusId: string;\r\n  phone: string;\r\n  address: string;\r\n  zipCode: string;\r\n  constructor() {\r\n    this.id = \"\";\r\n    this.bankName = \"\";\r\n    this.city = \"\";\r\n    this.county = \"\";\r\n    this.stateId = \"\";\r\n    this.statusId = \"\";\r\n    this.address = \"\";\r\n    this.phone = \"\";\r\n    this.zipCode = \"\";\r\n  }\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3ZpZXdzL3NvbGdlbi1ydWxlLWVuZ2luZS9jb21wb25lbnQvc29sZ2VuLXJ1bGUtY29uZGl0aW9uLWNhbGN1bGF0aW9uLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, ElementRef, Input, OnInit, ViewChild } from '@angular/core';\nimport { FormArray, FormBuilder, FormGroup } from '@angular/forms';\nimport { ModalDirective } from 'ngx-bootstrap';\nimport { CommonService } from '../../shared/common.service';\nimport { SolgenRuleCondition, SolgenRuleEngineService, SolgenRuleField, SolgenRuleResultCalculation } from '../solgen-rule-engine.service';\n\n@Component({\n  selector: 'app-solgen-rule-condition-calculation',\n  templateUrl: './solgen-rule-condition-calculation.component.html',\n  styleUrls: ['./solgen-rule-condition-calculation.component.scss']\n})\nexport class SolgenRuleConditionCalculationComponent implements OnInit {\n\n  @ViewChild('conditionCalculationModal', { static: false }) conditionCalculationModal: ModalDirective\n  tableField: FormGroup;\n  @Input() resultForm: FormGroup;\n  moduleId: string;\n  subModuleId: string;\n  resultConditionForm: FormGroup;\n  displayValue: string = '';\n  databaseValue: string = '';\n  sqlFunctionList: any = [];\n  dateParts: any = ['Day', 'Month', 'Quarter', 'Year'];\n  sectionList: any = [];\n  operators: any = [];\n  isDate: boolean = false;\n  customFieldsList: any;\n  constructor(private commonService: CommonService,\n    private ruleEngineService: SolgenRuleEngineService,\n    private fb: FormBuilder) {\n  }\n\n  ngOnChanges(): void {\n\n  }\n\n  ngOnInit(): void {\n\n    this.getSubModules();\n\n    this.resultConditionForm = this.fb.group({\n      resultCalculation: this.fb.array([this.ruleEngineService.buildResultCalculation()])\n    });\n    this.onResultCalculationFormChange();\n\n  }\n\n  get resultCalculation() {\n    return this.resultConditionForm.get('resultCalculation') as FormArray;\n  }\n\n  getSqlFunctionList(functionType: string) {\n    this.commonService.GetSqlFunctionList(functionType).subscribe(m => {\n      this.sqlFunctionList = m;\n    });\n  }\n\n  getSubModules() {\n    this.ruleEngineService.getSubModules(this.moduleId).subscribe((m: any[]) => {\n      this.sectionList = m.filter(a => a.module_name_code != 'loanapplication');\n    });\n\n  }\n\n  onSecondSectionChange(event: any, field: FormGroup) {\n    if (event) {\n      this.ruleEngineService.GetCustomFieldsListBySubModuleId(this.moduleId,event.sub_module_id).subscribe((m: any) => {\n        if (m) {\n          let tableFiledList = [];\n          if (!this.isDate) {\n            tableFiledList = m.data.filter(f => f.dt_code != 'select' && f.dt_code != 'text' && f.dt_code != 'boolean' && f.dt_code != 'date' && f.dt_code != 'datetime').map(f => {\n              return {\n                PrimaryTableColumn: f.PrimaryTableColumn,\n                actual_data_type: f.actual_data_type,\n                display_name: f.display_name,\n                form_field_id: f.form_field_id,\n                dt_code: f.dt_code,\n                name: f.name,\n                select_options: f.select_options,\n                table_name: f.table_name,\n                table_alias: f.table_alias\n              }\n            });\n          } else {\n            tableFiledList = m.data.filter(f => (f.dt_code == 'date' || f.dt_code == 'datetime')).map(f => {\n              return {\n                PrimaryTableColumn: f.PrimaryTableColumn,\n                actual_data_type: f.actual_data_type,\n                display_name: f.display_name,\n                form_field_id: f.form_field_id,\n                dt_code: f.dt_code,\n                name: f.name,\n                select_options: f.select_options,\n                table_name: f.table_name,\n                table_alias: f.table_alias\n              }\n            });\n\n          }\n\n          field.get('secondFields').setValue(tableFiledList);\n        }\n\n      });\n    }\n\n    field.get('secondFieldId').setValue(null);\n    field.get('secondFieldValue').setValue(null);\n  }\n  addField() {\n    this.resultCalculation.push(this.ruleEngineService.buildResultCalculation());\n  }\n\n  onResultCalculationFormChange() {\n    this.resultCalculation.valueChanges.subscribe((m: any) => {\n      if (m) {\n        this.databaseValue = '';\n        this.displayValue = '';\n        m.forEach(f => {\n          if (!this.isDate) {\n\n            if (f.formulaId) {\n              this.databaseValue += f.formulaId.FunctionName;\n              this.displayValue += f.formulaId.DisplayName;\n            }\n\n            if (f.openingBrackets != '') {\n              this.databaseValue += f.openingBrackets;\n              this.displayValue += f.openingBrackets;\n            }\n\n            if (f.firstFieldId) {\n              this.databaseValue += `isnull(${f.firstFieldId.table_alias}.${f.firstFieldId.PrimaryTableColumn},0)`;\n              this.displayValue += `${f.firstFieldId.PrimaryTableColumn}`;\n            }\n\n            if (f.firstFieldValue) {\n              this.databaseValue += `${f.firstFieldValue}`;\n              this.displayValue += `${f.firstFieldValue}`;\n            }\n\n            if (f.closingBrackets != '') {\n              this.databaseValue += f.closingBrackets;\n              this.displayValue += f.closingBrackets;\n            }\n\n            if (f.operatorId) {\n                console.log('operator: ', f.operatorId);\n                if (f.operatorId.operator_expression) {\n                  this.databaseValue += `${f.operatorId.operator_expression}`;\n                  this.displayValue += `${f.operatorId.operator_expression}`;\n                }\n            }\n\n          }\n          else {\n            if (f.formulaId) {\n              this.databaseValue += f.formulaId.FunctionName;\n              this.displayValue += f.formulaId.DisplayName;\n\n              if (f.datePart) {\n                this.databaseValue = f.formulaId.FunctionName.replace('{DATEPART}', f.datePart);\n                console.log(f.formulaId.FunctionName.replace('{DATEPART}', f.datePart));\n                this.displayValue = `${f.datePart},`;\n              }\n\n              if (f.firstFieldValue) {\n                this.databaseValue = f.formulaId.FunctionName.replace('{DATEPART}', f.datePart).replace('{VALUE}', f.firstFieldValue);\n                this.displayValue = this.databaseValue;\n              }\n\n              if (f.secondFieldId) {\n                \n                this.databaseValue = f.formulaId.FunctionName.replace('{DATEPART}', f.datePart).replace('{VALUE}', f.firstFieldValue).replace('{FROMDATE}', `isnull(${f.secondFieldId.table_alias}.${f.secondFieldId.PrimaryTableColumn},getutcdate())`);\n                this.displayValue = this.databaseValue;\n              } else {\n                this.databaseValue = f.formulaId.FunctionName.replace('{DATEPART}', (f.datePart == null ? 'minute' : f.datePart)).replace('{VALUE}', (f.firstFieldValue == null ? 0 : f.firstFieldValue)).replace('{FROMDATE}', `getutcdate()`);\n                this.displayValue = this.databaseValue;\n              }\n            }\n          }\n        });\n\n        console.log('display : database >',this.displayValue, ' : ', this.databaseValue);\n\n\n      }\n    })\n  }\n\n  save() {\n    while ((this.tableField.get('resultCalculation') as FormArray).length != 0) {\n      (this.tableField.get('resultCalculation') as FormArray).removeAt(0);\n    }\n    this.resultCalculation.controls.forEach(m => {\n      (this.tableField.get('resultCalculation') as FormArray).push(m);\n    });\n\n    //this.tableField.get('fieldDisplayValue').setValue(this.displayValue);\n\n    try {\n      this.tableField.get('fieldValue').setValue(this.databaseValue);\n    } catch (e) {\n      this.tableField.get('fieldValue').clearValidators();\n      this.tableField.get('fieldValue').updateValueAndValidity();\n      this.tableField.get('fieldValue').setValue(null);\n    }\n    this.hide();\n  }\n\n  deleteField(index: number) {\n    this.resultCalculation.removeAt(index);\n  }\n\n  show(tableField: FormGroup, moduleId: any, subModuleId: any,customFieldsList: any) {\n    debugger;\n    this.tableField = tableField;\n    this.moduleId = moduleId;\n    this.subModuleId = subModuleId;\n    if(customFieldsList){\n      this.customFieldsList =JSON.parse(JSON.stringify( customFieldsList));\n      this.customFieldsList = this.customFieldsList.filter(x=>x.actual_data_type == this.tableField.value.fieldId.actual_data_type)\n    }\n    this.ngOnInit();\n    // this.getSubModuleList();\n    this.isDate = (this.tableField.value.fieldId.actual_data_type == 'datetime' || this.tableField.value.fieldId.actual_data_type == 'date');\n    let sqlFunctionTypeCode = this.isDate ? 'date' : 'numeric';\n    this.getSqlFunctionList(sqlFunctionTypeCode);\n\n    this.commonService.getOperatorsByDataTypeCode(this.tableField.value.fieldId.actual_data_type).subscribe((m: any) => {\n      this.operators = m.filter(f => f.OperatorTypeId === 1);\n    });\n\n    while (this.resultCalculation.length != 0) {\n        this.resultCalculation.removeAt(0);\n    }\n\n    if ((this.tableField.get('resultCalculation') as FormArray).controls.length != 0) {\n      (this.tableField.get('resultCalculation') as FormArray).controls.forEach(m => {\n\n        let resultCalculation = this.ruleEngineService.buildResultCalculation(m.value);\n\n\n        this.resultCalculation.push(resultCalculation);\n\n      });\n    }\n    else {\n      this.resultCalculation.push(this.ruleEngineService.buildResultCalculation());\n    }\n\n    this.conditionCalculationModal.show();\n  }\n  hide() {\n    this.conditionCalculationModal.hide();\n  }\n\n}\n","import { Component, OnInit, Input, OnChanges, ElementRef, ViewChild, SimpleChanges } from '@angular/core';\nimport { FormGroup, FormArray } from '@angular/forms';\nimport { CommonService } from '../../shared/common.service';\nimport { ModalDirective } from 'ngx-bootstrap';\nimport { SolgenRuleEngineService } from '../solgen-rule-engine.service';\nimport { SolgenRuleConditionCalculationComponent } from './solgen-rule-condition-calculation.component';\n\n@Component({\n  selector: 'app-solgen-rule-engine-condition',\n  templateUrl: './solgen-rule-engine-condition.component.html',\n})\nexport class SolgenRuleEngineConditionComponent implements OnInit, OnChanges {\n  SelectedValue: any[]=[];\n  @Input() ruleEngineForm: FormGroup;\n  @Input() target: FormGroup;\n  @Input() rowNo: number;\n  @Input() subModuleId: any;\n  targetForm: FormGroup;\n  @Input() customFieldsList: any;\n  @Input() vwRuleId: any;\n  newAdd = \"Add\";\n  subModuleList: any[] = [];\n  @ViewChild('addNewCondition', { static: false }) addNewCondition: ElementRef;\n  @ViewChild('addConditionModal', { static: false }) addConditionModel: ModalDirective;\n  @ViewChild('resultCalculationModal', { static: false }) resultCalculationModal: SolgenRuleConditionCalculationComponent;\n  sqlConditionOperators = ['Or', 'And'];\n  hideFieldList = true;\n  textFieldListButton = \" Show Feild List\";\n  moduleAlias: string = '';\n\n  constructor(private ruleEngineService: SolgenRuleEngineService, private commonService: CommonService) { }\n\n  ngOnChanges(): void {\n    // this.getSubModuleList();\n    this.moduleAlias= this.customFieldsList && this.customFieldsList.length  > 0 ?this.customFieldsList[0].subModuleAlias  : '';\n    this.initForm();\n    this.onConditionChange();\n    if (this.target.get('isConditionAdded').value) {\n      this.prepareEditConditionForm();\n    }\n  }\n\n  ngOnInit() {\n    //this.onConditionChange();\n\n  }\n\n  //show and hide table field list\n  showFieldList() {\n    this.hideFieldList = !this.hideFieldList;\n    this.textFieldListButton = this.hideFieldList? \" Show Field List\":\"Hide Field List\";\n  }\n\n  initForm() {\n    this.targetForm = this.ruleEngineService.buildTarget();\n  }\n\n  //fetch section form field list on section change\n  onSubModuleChange(event, control) {\n    if (typeof event !== 'undefined') {\n      this.ruleEngineService.GetCustomFieldsListBySubModuleId(this.ruleEngineForm.get('moduleId').value.value,event.sub_module_id).subscribe((m: any) => {\n        if (m) {\n          let tableFields = m.data.map(f => {\n            return {\n              PrimaryTableColumn: f.PrimaryTableColumn,\n              actual_data_type: f.actual_data_type,\n              display_name: f.display_name,\n              form_field_id: f.form_field_id,\n              dt_code: f.dt_code,\n              name: f.name,\n              select_options: f.select_options,\n              table_name: f.table_name,\n              table_alias: f.table_alias,\n              sub_module_id : f.sub_module_id\n            }\n          });\n          control.get('fieldId').setValue(null);\n          control.get('subModuleId').setValue(event.sub_module_id);\n          control.get('operatorId').setValue(null);\n          control.get('subModuleAlias').setValue(null);\n          control.get('operators').setValue(null);\n          control.get('fieldValue').setValue(null);\n          control.get('fields').setValue(tableFields);\n          control.get('subModuleAlias').setValue(tableFields[0].table_alias);\n          this.customFieldsList=m.data;\n        } else {\n          control.get('fields').setValue(null);\n          control.get('fieldId').setValue(null);\n          control.get('operatorId').setValue(null);\n          control.get('subModuleAlias').setValue(null);\n          control.get('operators').setValue(null);\n          control.get('fieldValue').setValue(null);\n          this.customFieldsList = null;\n        }\n\n      });\n    } else {\n      control.get('fieldId').setValue(null);\n      control.get('operatorId').setValue(null);\n      control.get('subModuleAlias').setValue(null);\n      control.get('operators').setValue(null);\n      control.get('fieldValue').setValue(null);\n      control.get('fields').setValue([]);\n    }\n\n  }\n\n  //show target condition popup on \"Add Target\" click\n  showConditionModal() {\n    this.addConditionModel.show();\n\n  }\n\n  //hide target condition popup modal on cancel click\n  hideConditionModal() {\n    this.addConditionModel.hide();\n  }\n\n  //on condition FormArray change to fetch prepare condition\n  onConditionChange() {\n    this.conditions.valueChanges.subscribe((condition: any[]) => {\n      let displayCondition = '';\n      let databaseCondition = '';\n      condition.forEach((obj) => {\n\n        if (obj.relationWithParent != null) {\n          displayCondition += ` ${obj.relationWithParent.toLowerCase()} `;\n          databaseCondition += ` ${obj.relationWithParent.toLowerCase()} `;\n        }\n\n        if (obj.openingBrackets != null) {\n          displayCondition += obj.openingBrackets;\n          databaseCondition += obj.openingBrackets;\n        }\n\n        if (obj.fieldId != null) {\n          let fieldObj = obj.fieldId;\n          displayCondition += fieldObj.PrimaryTableColumn;\n          if (fieldObj.actual_data_type != 'table') {\n            if (fieldObj.dt_code.includes('text')) {\n              databaseCondition += `isnull(${obj.subModuleAlias}.${fieldObj.PrimaryTableColumn},'0')`;\n            }\n            else if (fieldObj.dt_code.includes('select')) {\n              databaseCondition += `isnull(${obj.subModuleAlias}.${fieldObj.PrimaryTableColumn},'0')`;\n            }\n            else if (fieldObj.dt_code.includes('boolean')) {\n              databaseCondition += `isnull(${obj.subModuleAlias}.${fieldObj.PrimaryTableColumn},0)`;\n            }\n            else if (fieldObj.dt_code.includes('bigint') || fieldObj.dt_code.includes('int') || fieldObj.dt_code.includes('decimal')) {\n              databaseCondition += `isnull(${obj.subModuleAlias}.${fieldObj.PrimaryTableColumn},0)`;\n            }\n            else {\n              databaseCondition += `${obj.subModuleAlias}.${fieldObj.PrimaryTableColumn}`;\n            }\n          }\n        }\n\n        var operatorExpression = '';\n\n        if (obj.operatorId != null) {\n          let operator = obj.operatorId;\n          displayCondition += ` ${operator.operator_display_name}`;\n          databaseCondition += ` ${operator.operator_expression.toUpperCase()}`;\n          operatorExpression = operator.operator_expression.toUpperCase();\n        }\n        if (obj.fieldValue != null) {\n\n          let fieldObj = obj.fieldId;\n\n          if (obj.fieldId !=null && fieldObj.actual_data_type != 'table') {\n            if (fieldObj != null) {\n              if(obj.conditionsId.value == 2){\n                if(operatorExpression == 'IN'){\n                  displayCondition += \"(\" + obj['fieldValue'].map(m => { return `'${m.name}'`; }).join() + \")\";\n                  databaseCondition += \" (\" + obj['fieldValue'].map(m => { return `'${m.table_name}' '${m.PrimaryTableColumn}'` ; }).join() + \")\";\n                }\n                else{\n                  displayCondition += ` ${obj['fieldValue'].name}`; //Is comapre\n                  databaseCondition += ` ${obj['fieldValue'].table_name  + '.' + obj['fieldValue'].PrimaryTableColumn}`;\n                }\n              }\n              else if (fieldObj.dt_code.includes('text')) {\n\n                if (operatorExpression == 'LIKE') {\n\n                  displayCondition += ` '${obj.fieldValue}'`;\n                  databaseCondition += \" '%\" + obj.fieldValue + \"%'\";\n\n                }\n                else if (operatorExpression == 'IN') {\n\n                  displayCondition += ` (${obj.fieldValue})`;\n                  databaseCondition += \" (\" + obj.fieldValue + \")\";\n                }\n                else {\n\n                  displayCondition += ` '${obj.fieldValue}'`;\n                  databaseCondition += \" '\" + obj.fieldValue + \"'\";\n\n                }\n\n              }\n              else if (fieldObj.dt_code.includes('date')) {\n\n                if (operatorExpression == 'BETWEEN') {\n                  let secondValue = '';\n                  if (typeof obj.fieldSecondValue != 'undefined') {\n                    secondValue = new Date(obj.fieldSecondValue).toLocaleDateString();\n                  }\n\n                  displayCondition += ` '${new Date(obj.fieldValue).toLocaleDateString()}' and '${secondValue}'`;\n                  databaseCondition += ` '${new Date(obj.fieldValue).toLocaleDateString()}' and '${secondValue}'`;\n                } else {\n                  displayCondition += \" '\" + new Date(obj.fieldValue).toLocaleDateString() + \"'\";\n                  databaseCondition += \" '\" + new Date(obj.fieldValue).toLocaleDateString() + \"'\";\n                }\n\n              }\n              else if (fieldObj['dt_code'].includes('select')) {\n\n                if (Array.isArray(obj['fieldValue'])) {\n                  displayCondition += \" (\" + obj['fieldValue'].map(m => { return `'${m.name}'`; }).join() + \")\";\n                  databaseCondition += \" (\" + obj['fieldValue'].map(m => { return (fieldObj['actual_data_type'].includes('varchar') ? `'${m.value}'` : `${m.value}`); }).join() + \")\";\n                }\n                else {\n                  displayCondition += \" '\" + obj['fieldValue'].name + \"'\";\n                  databaseCondition += \" '\" + obj['fieldValue'].value + \"'\";\n                }\n              }\n              else if (fieldObj['dt_code'].includes('boolean')) {\n\n                displayCondition += ' ' + obj['fieldValue'];\n                databaseCondition += ' ' + (obj['fieldValue'] == true ? 1 : 0);\n\n              }\n              else {\n\n                 if (operatorExpression == 'BETWEEN') {\n\n                  displayCondition += ` ${obj['fieldValue']} and ${obj['fieldSecondValue']}`;\n                  databaseCondition += ` ${obj['fieldValue']} and ${obj['fieldSecondValue']}`;\n\n                } else if (operatorExpression == 'IN') {\n\n                  displayCondition += ` (${obj['fieldValue']})`;\n                  databaseCondition += ` (${obj['fieldValue']})`;\n\n                }\n                  displayCondition += ` (${obj['fieldValue']})`;\n                  databaseCondition += ` (${obj['fieldValue']})`;\n              }\n            }\n          }\n          else {\n            try {\n              if (Array.isArray(obj.fieldValue)) {\n                displayCondition += ` '${fieldObj.PrimaryTableColumn}` + \" (\" + obj['fieldValue'].map(m => { return `'${m.name}'`; }).join() + \")\";\n                databaseCondition += ` ${obj.subModuleAlias}.${fieldObj.PrimaryTableColumn}` + \", (\" + obj['fieldValue'].map(m => { return (fieldObj['actual_data_type'].includes('varchar') ? `'${m.value}'` : `${m.value}`); }).join() + \"))\";\n              }\n              else {\n                displayCondition += \" '\" + obj['fieldValue'].name + \"'\";\n                databaseCondition += ` ${obj.subModuleAlias}.${fieldObj.PrimaryTableColumn}` + \", '\" + obj['fieldValue'].value + \"')\";\n              }\n            } catch (ex) { console.log(ex.message) }\n          }\n        }\n\n        if (obj['closingBrackets'] != null) {\n          displayCondition += obj['closingBrackets'] + ' ';\n          databaseCondition += obj['closingBrackets'] + ' ';\n        }\n      });\n\n        this.targetForm.get('targetCondition').patchValue({\n          displayCondition: displayCondition,\n          database_condition: databaseCondition\n        });\n    });\n  }\n\n  get conditions() {\n    return this.targetForm.get('conditions') as FormArray;\n  }\n\n  //add new condition on add click\n  addCondition(event) {\n    let condition = this.ruleEngineService.buidCondition();\n    condition.get('subModuleAlias').setValue(this.moduleAlias);\n    this.conditions.push(condition);\n    this.conditions.at(this.conditions.length - 1).get('relationWithParent').setValue(event.target.value);\n    this.addNewCondition.nativeElement.value = \"Add\";\n\n  }\n  onOperatorChange(event, control, i){\n    if (typeof event !== 'undefined') {\n      this.SelectedValue.push(event);\n      control.get('conditionsId').setValue(null);\n\n      if (typeof event !== 'undefined') {\n        control.conditionOperatorsValue = null;\n        this.sortConditionOperatoers(control,control.value.fieldId.dt_code);\n      }\n\n    } else {\n      control.get('conditionsId').setValue(null);\n      control.get('conditions').setValue([]);\n    }\n  }\n  sortConditionOperatoers(control,dt_code) {\n    if (dt_code == 'text' || dt_code == 'textbox' || dt_code == 'textarea' || dt_code == 'select'\n      || dt_code == 'date' || dt_code == 'datetime' || dt_code == 'checkbox' || dt_code == 'radio' || dt_code == 'boolean' || dt_code == 'image') {\n        control.get('conditions').setValue([]);\n        control.get('conditions').setValue([{ name: 'Is Value', value: '1' }, { name: 'Is Compare', value: '2' }]);\n    } else if (dt_code == 'bigint' || dt_code == 'int' || dt_code == 'number' || dt_code == 'decimal') {\n      control.get('conditions').setValue([]);\n      control.get('conditions').setValue([{ name: 'Is Value', value: '1' }, { name: 'Is Compare', value: '2' }, { name: 'Is Calculate', value: '3' }]);\n    }\n  }\n  CalculationModal(tableField: FormGroup){\n    this.resultCalculationModal.show(tableField, this.ruleEngineForm.get('moduleId').value.value, this.ruleEngineForm.get('subModuleId').value.sub_module_id, this.customFieldsList);\n    tableField.get('fieldValue').valueChanges.subscribe(m => {\n      console.log('values updated')\n    });\n  }\n  //fetch operator list on field change.\n  onFieldChange(event, control, i) {\n    if (typeof event !== 'undefined') {\n      this.SelectedValue.push(event);\n      control.get('operatorId').setValue(null);\n      control.get('conditionsId').setValue(null);\n\n      this.commonService.getOperatorsByDataTypeCode(event.actual_data_type).subscribe(m => {\n        control.get('operators').setValue(m);\n      });\n      control.get('subModuleAlias').setValue(event.subModuleAlias);\n      control.get('subModuleId').setValue(event.sub_module_id);\n\n    } else {\n      control.get('operatorId').setValue(null);\n      control.get('operators').setValue([]);\n      control.get('conditionsId').setValue(null);\n      control.get('conditions').setValue([]);\n    }\n\n  }\n\n  get operators() {\n    return this.conditions.get('operators');\n  }\n\n  get fields() {\n    return this.conditions.get('fields');\n  }\n  get tableFields() {\n    return this.conditions.get('tableFields') as FormArray;\n  }\n\n  removeCondition(conditionIndex: number) {\n\n  //this.conditions.at(this.conditions.length - 1).get('relationWithParent').setValue(null);\n    this.conditions.removeAt(conditionIndex);\n\n  }\n\n  get targets() {\n    return this.ruleEngineForm.get('targets') as FormArray;\n  }\n\n  //prepare edit condition form\n  prepareEditConditionForm() {\n\n    let editTargetForm = this.targets.at(this.rowNo) as FormGroup;\n    console.log('editTargetForm: ', editTargetForm);\n\n    this.targetForm.patchValue({\n      targetId: editTargetForm.value.targetId,\n      isConditionAdded: editTargetForm.value.isConditionAdded,\n      targetCondition: editTargetForm.value.targetCondition,\n      isResultAdded: editTargetForm.value.isResultAdded,\n      results: editTargetForm.value.results\n    });\n    if(this.conditions){\n      while (this.conditions.length != 0) {\n        this.conditions.removeAt(0);\n      }\n\n      (editTargetForm.get('conditions') as FormArray).controls.forEach(m => {\n        this.conditions.push(m);\n      });\n    }\n\n  }\n\n  //fill data in target form and show condition popup modal.\n  editCondition() {\n\n    this.prepareEditConditionForm();\n    this.showConditionModal();\n\n  }\n\n  TargetConditions(index: number) {\n    return (this.ruleEngineForm.get('targets') as FormArray).at(index).get('conditions') as FormArray;\n  }\n\n  saveCondition() {\n    this.targetForm.get('isConditionAdded').setValue(true);\n    (this.ruleEngineForm.get('targets') as FormArray).at(this.rowNo).patchValue({\n      targetId: this.targetForm.value.targetId,\n      isConditionAdded: this.targetForm.value.isConditionAdded,\n      targetCondition: this.targetForm.value.targetCondition,\n      isResultAdded: this.targetForm.value.isResultAdded,\n      results: this.targetForm.value.results\n    });\n\n    console.log(this.targetForm.value.targetCondition);\n\n    while (this.TargetConditions(this.rowNo).length != 0) {\n      this.TargetConditions(this.rowNo).removeAt(0);\n    }\n\n    this.conditions.controls.forEach(m => {\n\n      this.TargetConditions(this.rowNo).push(m);\n    });\n\n    console.log((this.ruleEngineForm.get('targets') as FormArray).at(this.rowNo));\n    this.hideConditionModal();\n  }\n\n}\n","import {  Component, ViewChild, Input, OnInit, OnChanges } from '@angular/core';\nimport {  FormGroup, FormArray, FormBuilder } from '@angular/forms';\nimport { CommonService } from '../../shared/common.service';\nimport { SolgenRuleEngineService } from '../solgen-rule-engine.service';\nimport { ModalDirective } from 'ngx-bootstrap';\n\n@Component({\n  selector: 'app-solgen-rule-engine-result-calculation',\n  templateUrl: './solgen-rule-engine-result-calculation.component.html',\n})\nexport class SolgenRuleEngineResultCalculationComponent implements OnInit, OnChanges {\n\n  @ViewChild('resultCalculationModal', { static: false }) resultCalculationModal: ModalDirective\n  tableField: FormGroup;\n  @Input() resultForm: FormGroup;\n  @Input() moduleId: string;\n  resultConditionForm: FormGroup;\n  displayValue: string = '';\n  databaseValue: string = '';\n  sqlFunctionList: any = [];\n  dateParts: any = ['Day', 'Month', 'Quarter', 'Year'];\n  sectionList: any = [];\n  operators: any = [];\n  isDate: boolean = false;\n\n  constructor(private commonService: CommonService,\n    private ruleEngineService: SolgenRuleEngineService,\n    private fb: FormBuilder) {\n  }\n\n  ngOnChanges(): void {\n\n  }\n\n  ngOnInit(): void {\n\n    this.getSubModules();\n\n    this.resultConditionForm = this.fb.group({\n      resultCalculation: this.fb.array([this.ruleEngineService.buildResultCalculation()])\n    });\n    this.onResultCalculationFormChange();\n\n  }\n\n  get resultCalculation() {\n    return this.resultConditionForm.get('resultCalculation') as FormArray;\n  }\n\n  getSqlFunctionList(functionType: string) {\n    this.commonService.GetSqlFunctionList(functionType).subscribe(m => {\n      this.sqlFunctionList = m;\n    });\n  }\n\n  getSubModules() {\n    this.ruleEngineService.getSubModules(this.moduleId).subscribe((m: any[]) => {\n      this.sectionList = m.filter(a => a.module_name_code != 'loanapplication');\n    });\n\n  }\n\n  onFirstSectionChange(event: any, field: FormGroup) {\n    if (event) {\n      this.ruleEngineService.GetCustomFieldsListBySubModuleId(this.moduleId,event.sub_module_id).subscribe((m: any) => {\n        if (m) {\n          let tableFiledList = [];\n          if (!this.isDate) {\n            tableFiledList = m.data.filter(f => f.dt_code != 'select' && f.dt_code != 'text' && f.dt_code != 'boolean' && f.dt_code != 'date' && f.dt_code != 'datetime').map(f => {\n              return {\n                PrimaryTableColumn: f.PrimaryTableColumn,\n                actual_data_type: f.actual_data_type,\n                display_name: f.display_name,\n                form_field_id: f.form_field_id,\n                dt_code: f.dt_code,\n                name: f.name,\n                select_options: f.select_options,\n                table_name: f.table_name,\n                table_alias: f.table_alias\n              }\n            });\n          } else {\n            tableFiledList = m.data.filter(f => (f.dt_code == 'date' || f.dt_code == 'datetime')).map(f => {\n              return {\n                PrimaryTableColumn: f.PrimaryTableColumn,\n                actual_data_type: f.actual_data_type,\n                display_name: f.display_name,\n                form_field_id: f.form_field_id,\n                dt_code: f.dt_code,\n                name: f.name,\n                select_options: f.select_options,\n                table_name: f.table_name,\n                table_alias: f.table_alias\n              }\n            });\n\n          }\n          console.log(tableFiledList);\n          console.log(field);\n          field.get('firstFields').setValue(tableFiledList);\n          console.log(field.get('firstFields').value);\n        }\n\n      });\n    }\n\n    field.get('firstFieldId').setValue(null);\n    field.get('firstFieldValue').setValue(null);\n  }\n\n  onSecondSectionChange(event: any, field: FormGroup) {\n    if (event) {\n      this.ruleEngineService.GetCustomFieldsListBySubModuleId(this.moduleId,event.sub_module_id).subscribe((m: any) => {\n        if (m) {\n          let tableFiledList = [];\n          if (!this.isDate) {\n            tableFiledList = m.data.filter(f => f.dt_code != 'select' && f.dt_code != 'text' && f.dt_code != 'boolean' && f.dt_code != 'date' && f.dt_code != 'datetime').map(f => {\n              return {\n                PrimaryTableColumn: f.PrimaryTableColumn,\n                actual_data_type: f.actual_data_type,\n                display_name: f.display_name,\n                form_field_id: f.form_field_id,\n                dt_code: f.dt_code,\n                name: f.name,\n                select_options: f.select_options,\n                table_name: f.table_name,\n                table_alias: f.table_alias\n              }\n            });\n          } else {\n            tableFiledList = m.data.filter(f => (f.dt_code == 'date' || f.dt_code == 'datetime')).map(f => {\n              return {\n                PrimaryTableColumn: f.PrimaryTableColumn,\n                actual_data_type: f.actual_data_type,\n                display_name: f.display_name,\n                form_field_id: f.form_field_id,\n                dt_code: f.dt_code,\n                name: f.name,\n                select_options: f.select_options,\n                table_name: f.table_name,\n                table_alias: f.table_alias\n              }\n            });\n\n          }\n\n          field.get('secondFields').setValue(tableFiledList);\n        }\n\n      });\n    }\n\n    field.get('secondFieldId').setValue(null);\n    field.get('secondFieldValue').setValue(null);\n  }\n\n  addField() {\n    this.resultCalculation.push(this.ruleEngineService.buildResultCalculation());\n  }\n\n  onResultCalculationFormChange() {\n    this.resultCalculation.valueChanges.subscribe((m: any) => {\n\n      if (m) {\n        this.databaseValue = '';\n        this.displayValue = '';\n        m.forEach(f => {\n\n          if (!this.isDate) {\n\n            if (f.formulaId) {\n              this.databaseValue += f.formulaId.FunctionName;\n              this.displayValue += f.formulaId.DisplayName;\n            }\n\n            if (f.openingBrackets != '') {\n              this.databaseValue += f.openingBrackets;\n              this.displayValue += f.openingBrackets;\n            }\n\n            if (f.firstFieldId) {\n              this.databaseValue += `isnull(${f.firstFieldId.table_alias}.${f.firstFieldId.PrimaryTableColumn},0)`;\n              this.displayValue += `${f.firstFieldId.PrimaryTableColumn}`;\n            }\n\n            if (f.firstFieldValue) {\n              this.databaseValue += `${f.firstFieldValue}`;\n              this.displayValue += `${f.firstFieldValue}`;\n            }\n\n            if (f.closingBrackets != '') {\n              this.databaseValue += f.closingBrackets;\n              this.displayValue += f.closingBrackets;\n            }\n\n            if (f.operatorId) {\n                console.log('operator: ', f.operatorId);\n                if (f.operatorId.operator_expression) {\n                  this.databaseValue += `${f.operatorId.operator_expression}`;\n                  this.displayValue += `${f.operatorId.operator_expression}`;\n                }\n            }\n\n          }\n          else {\n            if (f.formulaId) {\n              this.databaseValue += f.formulaId.FunctionName;\n              this.displayValue += f.formulaId.DisplayName;\n\n              if (f.datePart) {\n                this.databaseValue = f.formulaId.FunctionName.replace('{DATEPART}', f.datePart);\n                console.log(f.formulaId.FunctionName.replace('{DATEPART}', f.datePart));\n                this.displayValue = `${f.datePart},`;\n              }\n\n              if (f.firstFieldValue) {\n                this.databaseValue = f.formulaId.FunctionName.replace('{DATEPART}', f.datePart).replace('{VALUE}', f.firstFieldValue);\n                this.displayValue = this.databaseValue;\n              }\n\n              if (f.secondFieldId) {\n                this.databaseValue = f.formulaId.FunctionName.replace('{DATEPART}', f.datePart).replace('{VALUE}', f.firstFieldValue).replace('{FROMDATE}', `isnull(${f.secondFieldId.table_alias}.${f.secondFieldId.PrimaryTableColumn},getutcdate())`);\n                this.displayValue = this.databaseValue;\n              } else {\n                this.databaseValue = f.formulaId.FunctionName.replace('{DATEPART}', (f.datePart == null ? 'minute' : f.datePart)).replace('{VALUE}', (f.firstFieldValue == null ? 0 : f.firstFieldValue)).replace('{FROMDATE}', `getutcdate()`);\n                this.displayValue = this.databaseValue;\n              }\n            }\n          }\n        });\n\n        console.log('display : database >',this.displayValue, ' : ', this.databaseValue);\n\n\n      }\n    })\n  }\n\n  save() {\n    console.log(1);\n    while ((this.tableField.get('resultCalculation') as FormArray).length != 0) {\n      (this.tableField.get('resultCalculation') as FormArray).removeAt(0);\n    }\n    console.log(2);\n    this.resultCalculation.controls.forEach(m => {\n      (this.tableField.get('resultCalculation') as FormArray).push(m);\n    });\n\n    this.tableField.get('fieldDisplayValue').setValue(this.displayValue);\n\n    try {\n      this.tableField.get('fieldValue').setValue(this.databaseValue);\n    } catch (e) {\n      this.tableField.get('fieldValue').clearValidators();\n      this.tableField.get('fieldValue').updateValueAndValidity();\n      this.tableField.get('fieldValue').setValue(null);\n    }\n    this.hide();\n  }\n\n  deleteField(index: number) {\n    this.resultCalculation.removeAt(index);\n  }\n\n  show(tableField: FormGroup) {\n\n    this.tableField = tableField;\n\n    this.isDate = (this.tableField.value.fieldId.actual_data_type == 'datetime' || this.tableField.value.fieldId.actual_data_type == 'date');\n    let sqlFunctionTypeCode = this.isDate ? 'date' : 'numeric';\n    this.getSqlFunctionList(sqlFunctionTypeCode);\n\n    this.commonService.getOperatorsByDataTypeCode(this.tableField.value.fieldId.actual_data_type).subscribe((m: any) => {\n      this.operators = m.filter(f => f.OperatorTypeId === 1);\n    });\n\n    while (this.resultCalculation.length != 0) {\n        this.resultCalculation.removeAt(0);\n    }\n\n    if ((this.tableField.get('resultCalculation') as FormArray).controls.length != 0) {\n      (this.tableField.get('resultCalculation') as FormArray).controls.forEach(m => {\n\n        let resultCalculation = this.ruleEngineService.buildResultCalculation(m.value);\n\n\n        this.resultCalculation.push(resultCalculation);\n\n      });\n    }\n    else {\n      this.resultCalculation.push(this.ruleEngineService.buildResultCalculation());\n    }\n\n    this.resultCalculationModal.show();\n  }\n\n  hide() {\n    this.resultCalculationModal.hide();\n  }\n}\n","import { Component, Input, OnChanges, OnInit, ViewChild } from '@angular/core';\nimport { FormArray, FormGroup } from '@angular/forms';\nimport { SolgenRuleEngineService } from '../solgen-rule-engine.service';\nimport { SolgenRuleConditionCalculationComponent } from './solgen-rule-condition-calculation.component';\nimport { SolgenRuleEngineResultCalculationComponent } from './solgen-rule-engine-result-calculation.component';\n\n@Component({\n  selector: 'app-solgen-rule-engine-result-table-field',\n  templateUrl: './solgen-rule-engine-result-table-field.component.html',\n})\nexport class SolgenRuleEngineResultTableFieldComponent implements OnInit, OnChanges {\n\n  @Input() resultForm: FormArray;\n  @Input() subModuleId: string = '';\n  @Input() moduleId: string = '';\n  tableFieldList = [];\n  code: any;\n  @Input() customFieldsList: any;\n  operators: any = [];\n\n  @ViewChild(\"resultCalculationModal\", { static: false }) resultCalculation: SolgenRuleConditionCalculationComponent;\n  constructor(private ruleEngineService: SolgenRuleEngineService) { }\n\n  ngOnChanges() {\n    // this.getSubModuleList();\n    if (this.resultForm.value.tableFields.length != 0) {\n      this.tableFieldList = this.resultForm.value.tableFields[0].fieldList;\n    }\n\n  }\n\n  ngOnInit() {\n  }\n\n  get tableFields() {\n    return this.resultForm.get('tableFields') as FormArray;\n  }\n  onFieldCalculateChange(event, tableField) {\n    if (typeof event !== 'undefined') {\n      tableField.get('conditionsId').setValue(null);\n      if (typeof event !== 'undefined') {\n        tableField.conditionOperatorsValue = null;\n        this.sortConditionOperatoers(tableField,tableField.value.fieldId.dt_code);\n        tableField.get('subModuleId').setValue(event.sub_module_id);\n      }\n    } else {\n      tableField.get('conditionsId').setValue(null);\n      tableField.get('conditions').setValue([]);\n    }\n    tableField.get('dataType').setValue(event.actual_data_type);\n    tableField.get('name').setValue(event);\n    tableField.get('fieldValue').setValue(null);\n      tableField.get('fieldDisplayValue').setValue(null);\n      if ((tableField.get('resultCalculation') as FormArray).length != 0) {\n        (tableField.get('resultCalculation') as FormArray).removeAt(0);\n      }\n  }\n  sortConditionOperatoers(tableField,dt_code) {\n    if (dt_code == 'text' || dt_code == 'textbox' || dt_code == 'textarea' || dt_code == 'select'\n      || dt_code == 'date' || dt_code == 'datetime' || dt_code == 'checkbox' || dt_code == 'radio' || dt_code == 'boolean' || dt_code == 'image') {\n        tableField.get('conditions').setValue([]);\n        tableField.get('conditions').setValue([{ name: 'Is Value', value: '1' }, { name: 'Is Compare', value: '2' }]);\n    } else if (dt_code == 'bigint' || dt_code == 'int' || dt_code == 'number' || dt_code == 'decimal') {\n      tableField.get('conditions').setValue([]);\n      tableField.get('conditions').setValue([{ name: 'Is Value', value: '1' }, { name: 'Is Compare', value: '2' }, { name: 'Is Calculate', value: '3' }]);\n    }\n  }\n  CalculationModal(tableField: FormGroup){\n    this.resultCalculation.show(tableField, '', this.subModuleId, this.customFieldsList);\n    tableField.get('fieldValue').valueChanges.subscribe(m => {\n      console.log('values updated')\n    });\n  }\n  addTableField() {\n\n    this.tableFields.push(this.ruleEngineService.buildResultTableField(null));\n  }\n\n  removeTableField(tableFieldindex: number) {\n\n    this.tableFields.removeAt(tableFieldindex);\n  }\n}\n","import { Component, Input, OnChanges, OnInit, ViewChild } from '@angular/core';\nimport { FormArray, FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { ModalDirective } from 'ngx-bootstrap';\nimport { CommonService } from '../../shared/common.service';\nimport { ToastrService } from 'ngx-toastr';\nimport { SolgenRuleEngine, SolgenRuleEngineService, SolgenRuleResult, SolgenRuleTarget } from '../solgen-rule-engine.service';\n\n@Component({\n  selector: 'app-solgen-rule-engine-result',\n  templateUrl: './solgen-rule-engine-result.component.html',\n})\nexport class SolgenRuleEngineResultComponent implements OnInit, OnChanges {\n\n  @Input() target: FormGroup;\n  @Input() ruleEngineForm: FormGroup;\n  @Input() customFieldsList: any;\n  @Input() vwRuleId: any;\n  resultForm: FormGroup;\n  resultActionList: any[];\n  editIndex: number = -1;\n  @ViewChild('addResult', { static: false }) addResultModel: ModalDirective;\n  tableList: any[];\n  tempTableList: any[];\n  moduleId: string = '';\n  constructor(private fb: FormBuilder,\n    private ruleEngineService: SolgenRuleEngineService,\n    private commonService: CommonService) { }\n\n  ngOnChanges() {\n    this.moduleId = this.ruleEngineForm.get('moduleId').value.value;\n    this.getSubModules();\n\n  }\n\n  ngOnInit() {\n    this.initForm();\n    this.clearTableFields();\n    this.getResultActions();\n\n  }\n\n  onActionChange(event) {\n    this.clearTableFields();\n    if (typeof event !== 'undefined') {\n      this.resultForm.get('actionId').setValue(event.resultActionId);\n      this.prepareActionChangeContent(event.code,true);\n    }\n\n  }\n\n  prepareActionChangeContent(code: string, onChange = false) {\n\n    if (code == 'validation') {\n      if (onChange) {\n        this.resultForm.get('resultCondition').setValue(null);\n      }\n\n      this.resultForm.get('resultCondition').setValidators([Validators.required]);\n      this.resultForm.get('resultCondition').updateValueAndValidity();\n    } else {\n\n      if (onChange) {\n        this.resultForm.get('resultCondition').setValue(null);\n      }\n\n      this.resultForm.get('resultCondition').clearValidators();\n      this.resultForm.get('resultCondition').updateValueAndValidity();\n    }\n\n\n    if (code === 'create') {\n      this.tempTableList = this.tableList;\n      this.tableList = this.tableList.filter(m => m.module_name_code == 'LoanApplicationRequiredDocument');\n    } else {\n      if (this.tempTableList) {\n        this.tableList = this.tempTableList;\n      }\n    }\n    this.resultForm.get('subModuleId').setValue(this.ruleEngineForm.get('subModuleId').value.sub_module_id);\n  }\n\n  getResultActions() {\n\n    this.commonService.getResultActions().subscribe((m: any[]) => {\n      this.resultActionList = m;\n    });\n  }\n\n  getSubModules() {\n\n    this.ruleEngineService.getSubModules(this.ruleEngineForm.get('moduleId').value.value).subscribe((m: any[]) => {\n      this.tableList = m.filter(a => a.module_name_code != 'loanproduct' && a.module_name_code != 'loanapplication');\n    });\n\n  }\n\n  showResultModal() {\n\n    this.editIndex = -1;\n    this.addResultModel.show();\n    this.resetResultForm();\n  }\n\n  hideResultModal() {\n    this.addResultModel.hide();\n  }\n\n  get results() {\n    return this.target.get('results') as FormArray;\n  }\n\n  get tableFields() {\n    return this.resultForm.get('tableFields') as FormArray;\n  }\n\n  clearTableFields() {\n\n    while (this.tableFields.length !== 0) {\n      this.tableFields.removeAt(0);\n    }\n  }\n\n  initForm() {\n\n    this.resultForm = this.fb.group({\n      resultId: [null],\n      name: [null, Validators.required],\n      action: [null, Validators.required],\n      actionId: [null, Validators.required],\n      subModuleId: [null],\n      fieldList: [null],\n      resultCondition: [null],\n      tableFields: this.fb.array([this.buildResultTableField()]),\n      isEdit: [false]\n    });\n  }\n\n  buildResultTableField(tableField = null) {\n\n    let tableFieldGroup = this.fb.group({\n      RuleTargetResultConditionId: [null],\n      RuleTargetId: [null],\n      fieldId: [null],\n      name: [null, Validators.required],\n      fieldSelectList: [],\n      displayName: [null],\n      dataType: [null, Validators.required],\n      fieldDisplayValue: [null],\n      fieldValue: [null, Validators.required],\n      showPopUpModal: [false],\n      conditions:[],\n      conditionsId: [null, Validators.required],\n      resultCalculation: this.fb.array([this.ruleEngineService.buildResultCalculation()])\n    });\n\n    return tableFieldGroup;\n  }\n\n  editResult(index) {\n\n    this.editIndex = index;\n    let editResultForm = this.results.at(this.editIndex) as FormGroup;\n    let formValue = editResultForm;\n    this.resultForm = formValue;\n\n    this.resultForm.get('isEdit').setValue(true);\n    this.prepareActionChangeContent(editResultForm.get('action').value.code);\n\n    this.addResultModel.show();\n  }\n\n  saveResult() {\n    if ((this.resultForm.get('isEdit').value == null || this.resultForm.get('isEdit').value == false) && this.resultForm.valid) {\n      this.prepareQuery(this.resultForm);\n      this.results.push(this.resultForm);\n      this.target.get('isResultAdded').setValue(true);\n      this.hideResultModal();\n\n    } else if (this.resultForm.get('isEdit').value == true && this.resultForm.valid) {\n      this.results.removeAt(this.editIndex);\n      this.prepareQuery(this.resultForm);\n      this.results.insert(this.editIndex,this.resultForm);\n      this.target.get('isResultAdded').setValue(true);\n      this.hideResultModal();\n\n    } else {\n\n      alert('Invalid');\n\n    }\n  }\n\n  deleteResultForm() {\n    if (confirm(\"Are you sure you want to delete this result?\")) {\n      this.results.removeAt(this.editIndex);\n      this.hideResultModal();\n    }\n  }\n\n  resetResultForm() {\n    this.initForm();\n\n  }\n\n  prepareQuery(result: FormGroup) {\n    let actionName = result.get('action').value.code;\n\n    if (actionName == 'create') {\n      this.createQuery();\n    } else if (actionName == 'update') {\n      this.updateQuery();\n    }\n  }\n\n  createQuery() {\n    let tableName = this.resultForm.value.tableFields[0].fieldId.table_name;\n    let columns = '';\n    let columnsValue = '';\n    let query = `insert into ${tableName} (`;\n    this.resultForm.value.tableFields.forEach((obj, index) => {\n\n      let comma = '';\n      if (this.resultForm.value.tableFields.length != (index + 1)) {\n        comma = ', ';\n      }\n\n      if (obj.fieldId.dt_code == 'text') {\n\n        columns +=`${obj.name}${comma}`;\n        columnsValue += `''${obj.fieldValue}''${comma}`;\n\n      } else if (obj.fieldId.dt_code == 'decimal' || obj.fieldId.dt_code == 'int' || obj.fieldId.dt_code == 'bigint') {\n\n        columns += `${obj.name}${comma}`;\n        columnsValue += `${obj.fieldValue}${comma}`;\n\n      } else if (obj.fieldId.dt_code == 'boolean') {\n\n        columns += `${obj.name}${comma}`;\n        columnsValue += `${(obj.fieldValue === true ? 1 : 0)}${comma}`;\n\n      } else if (obj.fieldId.dt_code == 'date') {\n\n        columns += `${obj.name}${comma}`;\n        columnsValue += `'${obj.fieldValue}'${comma}`;\n\n      } else if (obj.fieldId.dt_code == 'select') {\n\n        columns += `${obj.name}${comma}`;\n        columnsValue += `'${obj.fieldValue.value}'${comma}`;\n\n      }\n\n    });\n\n    query += `${columns}) select ${columnsValue}`;\n\n    this.resultForm.get('resultCondition').setValue(query);\n\n  }\n\n  updateQuery() {\n    let tableName = this.resultForm.value.tableFields[0].fieldId.table_alias;\n\n    let query = 'update ' + tableName +' set ';\n\n    this.resultForm.value.tableFields.forEach((obj, index) => {\n\n      let comma = '';\n      if (this.resultForm.value.tableFields.length != (index + 1)) {\n        comma = ', ';\n      }\n      console.log('obj: ',obj);\n\n      if (obj.fieldId.dt_code == 'select') {\n\n        query += `${tableName}.${obj.fieldId.name}='${obj.fieldValue.value}'${comma}`;\n      } else if (obj.dataType.includes('char')) {\n\n        query += `${tableName}.${obj.fieldId.name}='${obj.fieldValue}'${comma}`;\n      } else if (obj.dataType.includes('decimal') || obj.dataType.includes('int') || obj.dataType.includes('bigint')) {\n        query += `${tableName}.${obj.fieldId.name}=${obj.fieldValue}${comma}`;\n      } else if (obj.dataType.includes('bit')) {\n\n        query += `${tableName}.${obj.fieldId.name}=${(obj.fieldValue === true ? 1 : 0)}${comma}`;\n      } else if (obj.dataType.includes('date') && obj.isCalculate == false) {\n        query += `${tableName}.${obj.fieldId.name}='${obj.fieldValue}'${comma}`;\n      } else if (obj.dataType.includes('date') && obj.isCalculate == true) {\n\n        if (obj.fieldValue == null) {\n          obj.fieldValue = obj.fieldDisplayValue\n        }\n        query += `${tableName}.${obj.fieldId.name}=${obj.fieldValue}${comma}`;\n      }\n\n    });\n    this.resultForm.get('resultCondition').setValue(query);\n\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3ZpZXdzL3NvbGdlbi1ydWxlLWVuZ2luZS9jb21wb25lbnQvc29sZ2VuLXJ1bGUtZW5naW5lLXRhcmdldC5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, EventEmitter, OnInit, Output,Input } from '@angular/core';\n\n@Component({\n  selector: 'app-solgen-rule-engine-target',\n  templateUrl: './solgen-rule-engine-target.component.html',\n  styleUrls: ['./solgen-rule-engine-target.component.scss']\n})\nexport class SolgenRuleEngineTargetComponent implements OnInit {\n\n  @Output() deleteTargetEvent = new EventEmitter();\n  @Input() vwRuleId: any;\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n  deleteTarget() {\n    this.deleteTargetEvent.emit();\n  }\n\n}\n","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { FormArray, FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { SelectionType } from '@swimlane/ngx-datatable';\nimport { ModalDirective } from 'ngx-bootstrap';\nimport { ToastrService } from 'ngx-toastr';\nimport { object } from 'underscore';\nimport { BankService } from '../bank/bank.service';\nimport { CommonService } from '../shared/common.service';\nimport { CheckRuleName, SolgenRuleCondition, SolgenRuleEngine, SolgenRuleEngineService, SolgenRuleResult, SolgenRuleTarget } from './solgen-rule-engine.service';\n\n@Component({\n  selector: 'app-solgen-rule-engine-add-or-edit',\n  templateUrl: './solgen-rule-engine-add-or-edit.component.html',\n  styles: [`\n  .list-group-item:first-child{\n    border-radius:0px;\n  }\n  .list-group-item:last-child{\n    border-radius:0px;\n  }\n`]\n})\nexport class SolgenRuleEngineAddOrEditComponent implements OnInit {\n\n  minimumDate: any;\n  loanProductList: any[];\n  subModule: any;\n  ruleTypeList: any[];\n  ruleEngineVersionList: any = [];\n  ruleEngineVersionListForChange: any = [];\n  selectedApplication: any = [];\n  selectedOldApplication: any = [];\n  events: any = [];\n  moduleList: any[];\n  subModuleList: any[];\n  SelectionType = SelectionType;\n  ruleEngineForm: FormGroup;\n  loadSave: boolean = false;\n  productName: string;\n  eventName: string;\n  isEditEvent = true;\n  productId: any;\n  inputProductId: any;\n  pageTitle: any;\n  ruleEnginedata: any;\n  isGlobalRuleType = true;\n  editFromVersion: boolean = false;\n  id: any;\n  laPagedData: any = {\n    pager: {},\n    data: []\n  };\n  loanApplicationlistFiltertext = '';\n  listFiltertext = '';\n  laSortColumn = 'CreatedOn';\n  laSortDir = 'desc';\n  oldApplicationSortColumn = 'CreatedOn';\n  oldApplicationSortDir = 'desc';\n  currentPage: number = 1;\n  laPageSizeValue: number = 10;\n  loanApplicationPageSizeValue: number = 10;\n  loginuserid: any;\n  batchid: number = 0;\n  loading = false;\n  appmodel: CheckRuleName = new CheckRuleName();\n  bankList: any = [];\n  lstPageSize: any;\n  isSubmitButtonDisabled = false;\n  selectedVersionForChange: any = null;\n  RuleNameToShow: string = \"\";\n  vwRuleId: any;\n    @ViewChild('ApplicationPopupForApplyLatestRule', { static: false }) applyLatestRuleOnOldApp: ModalDirective;\n  customFieldsList: any;\n  loanApplicationPageData: any = {\n    pager: {},\n    data: []\n  };\n  constructor(private ruleEngineService: SolgenRuleEngineService,\n    private fb: FormBuilder, private router: Router,\n    private toaster: ToastrService,\n    private route: ActivatedRoute,\n    private commonService: CommonService,\n    private bankService: BankService) { }\n\n  ngOnInit() {\n    this.initForm();\n    this.getModuleList();\n    this.onModuleChange();\n    this.onSubModuleChange();\n\n    this.route.paramMap.subscribe(params => {\n      this.id = params.get('id');\n      this.vwRuleId = params.get('vwRuleId');\n      if (this.id) {\n        this.fillRuleEngineForm(this.id);\n        this.getPageSizes();\n      }\n      else if(this.vwRuleId)\n      {\n        this.ruleEngineForm.controls['name'].disable();\n        this.ruleEngineForm.controls['moduleId'].disable();\n        this.ruleEngineForm.controls['subModuleId'].disable();\n        this.ruleEngineForm.controls['isActive'].disable();\n        this.ruleEngineForm.controls['displayOrder'].disable();          \n        this.fillRuleEngineForm(this.vwRuleId);\n        this.getPageSizes();\n      }     \n      else {\n        this.ruleEngineService.getDisplayOrder().subscribe((m) => {\n          this.displayOrder.setValue(m);\n        });\n\n        this.pageTitle = 'Add Rule Engine';\n      }\n    });\n  }\n\n  fillRuleEngineForm(id) {\n    this.loadSave = true;\n    this.pageTitle = 'Edit Rule Engine';\n    this.ruleEngineService.GetRuleEngineDetail(id).subscribe((result: any) => {\n      console.log(result);\n      this.ruleEnginedata = result;\n      let rule = this.ruleEnginedata;\n      this.editPrepare(rule);\n    });\n  }\n\n  editPrepare(ruleEngine: any) {\n    this.isEditEvent = false;\n    this.eventName = ruleEngine.EventName;\n    this.productName = ruleEngine.ProductName\n    this.RuleNameToShow = ruleEngine.RuleName;\n    this.ruleEngineForm.patchValue({\n      ruleId: ruleEngine.RuleId,\n      name: ruleEngine.RuleName,\n      moduleId: ruleEngine.ModuleId,\n      subModuleId: ruleEngine.SubModuleId,\n      eventId: ruleEngine.SubModuleEventId,\n      ruleVersion: ruleEngine.RuleVersion,\n      isActive: ruleEngine.IsActive,\n      displayOrder: ruleEngine.displayOrder\n    });\n\n\n    while (this.targets.length != 0) {\n      this.targets.removeAt(0);\n    }\n    if(ruleEngine.targets){\n      ruleEngine.targets.forEach((m: any) => {\n\n        this.targets.push(this.ruleEngineService.buildTarget(m));\n\n      });\n\n\n    }\n    this.loadSave = false;\n\n  }\n\n  initForm() {\n    this.ruleEngineForm = this.fb.group({\n      ruleId: [\"\"],\n      name: [\"\", Validators.required],\n      moduleId: [null, Validators.required],\n      subModuleId: [null, Validators.required],\n      eventId: [0, Validators.required],\n      isActive: [false],\n      ruleVersion: [0],\n      displayOrder: [0],\n      targets: this.fb.array([this.ruleEngineService.buildTarget()])\n    });\n  }\n\n  getModuleList() {\n    this.commonService.getSolgenModulesItemsList('custom_modules_layout').subscribe((result: any) => {\n      this.moduleList = this.commonService.masters;\n    });\n\n  }\n\n  get ruleId() {\n    return this.ruleEngineForm.get('ruleId');\n  }\n  get name() {\n    return this.ruleEngineForm.get('name');\n  }\n  get moduleId() {\n    return this.ruleEngineForm.get('moduleId');\n  }\n  get subModuleId() {\n    return this.ruleEngineForm.get('subModuleId');\n  }\n  get eventId() {\n    return this.ruleEngineForm.get('eventId');\n  }\n  get targets() {\n    return this.ruleEngineForm.get('targets') as FormArray;\n  }\n  get displayOrder() {\n    return this.ruleEngineForm.get('displayOrder');\n  }\n  get ruleVersion() {\n    return this.ruleEngineForm.get('ruleVersion') as FormArray;\n  }\n\n  onEventChange(event) {\n\n    this.eventName = event.Name;\n    this.isEditEvent = false;\n    this.inputProductId = this.productId;\n  }\n\n  onModuleChange() {\n    this.moduleId.valueChanges.subscribe((m: any) => {\n      this.ruleEngineService.getSubModules(m.value).subscribe((s: any) => {\n        this.subModuleList = s;//.filter(a => a.Status_id === 1001 );\n      });\n    });\n  }\n\n  onSubModuleChange() {\n    this.subModuleId.valueChanges.subscribe((m: any) => {\n      this.getSubModuleEventList(m);\n      this.getSubModuleList();\n    });\n  }\n  getSubModuleList() {\n    let module = this.ruleEngineForm.get('moduleId').value;\n    let subModule = this.ruleEngineForm.get('subModuleId').value;\n    if(module && subModule){\n      return this.ruleEngineService.GetCustomFieldsListBySubModuleId(module.value,subModule.sub_module_id).subscribe((m: any) => {\n        if (m) {\n          let tableFields = m.data.map(f => {\n            return {\n              PrimaryTableColumn: f.PrimaryTableColumn,\n              actual_data_type: f.actual_data_type,\n              display_name: f.display_name,\n              form_field_id: f.form_field_id,\n              dt_code: f.dt_code,\n              name: f.label,\n              select_options: f.select_options,\n              table_name: f.table_name,\n              table_alias: f.table_alias,\n              subModuleAlias: f.table_alias,\n              sub_module_id : f.sub_module_id\n            }\n          });\n          this.customFieldsList = tableFields;\n        }\n      });\n    }\n\n  }\n  addTarget() {\n    this.targets.push(this.ruleEngineService.buildTarget());\n  }\n\n  deleteTarget(targetIndex: number) {\n    if (confirm(\"Are you sure you want to remove this target?\")) {\n      this.targets.removeAt(targetIndex);\n    }\n  }\n\n  editEvent() {\n    this.isEditEvent = !this.isEditEvent;\n  }\n\n  getSubModuleEventList(subModule) {\n    console.log('getSubModuleEventList');\n    if (!this.editFromVersion) {\n      if (subModule) {\n        if (this.resetTarget()) {\n          this.subModule = subModule;\n          this.ruleEngineService.getSubModuleEventList(subModule.sub_module_id).subscribe((m: any[]) => {\n            this.events = m;\n            console.log(m);\n          });\n        } else {\n          //this.loanProductId.setValue(this.subModule.sub_module_id);\n        }\n      }\n    }\n  }\n\n  showAddTarget() {\n    if (this.targets.controls.length == 0) {\n      return true;\n    }\n    else if (this.targets.controls[this.targets.controls.length - 1].get('isResultAdded').value) {\n      return true\n    } else {\n      return false;\n    }\n  }\n\n  resetTarget() {\n    if (this.eventId.value != 0) {\n      if (confirm(\"Are you sure you want to change form? if you change form, all related data will be lost.\")) {\n        this.eventName = '';\n        this.isEditEvent = true;\n        this.eventId.setValue(0);\n\n        return true;\n      } else {\n        return false;\n      }\n    } else {\n      return true;\n    }\n  }\n  createFieldValue(c : any){\n    let fieldValue: any;\n    if(c.fieldValue){\n      if(c.conditionsId.value == '2' && c.operatorId.operator_display_name.includes('multiple') && (c.fieldId.dt_code == 'select' || c.fieldId.dt_code == 'text')){ //Is compare\n       fieldValue = c.fieldValue.map(m => { return ((c.fieldId.actual_data_type.includes('varchar')\n            || c.fieldId.actual_data_type.includes('table'))\n            ? `'${m.name}'` : `${m.name}`); }).join();\n      }\n      else {\n        fieldValue = c.fieldValue;\n      }\n\n      return fieldValue;\n    }\n  }\n  prepareTarget() {\n    return this.targets.value.map((t, index) => {\n      return {\n        DisplayOrder: index,\n        targetId: t.targetId,\n        targetCondition: t.targetCondition,\n        conditions: t.conditions.map((c, cIndex) => {\n          return {\n            DisplayOrder: cIndex,\n            subModuleId :c.subModuleId,\n            conditionId: c.conditionId,\n            relationWithParent: c.relationWithParent,\n            openingBrackets: c.openingBrackets,\n            subModuleAlias: c.subModuleAlias,\n            fieldId: c.fieldId.form_field_id,\n            operatorId: c.operatorId.operator_id,\n            fieldValue: this.createFieldValue(c),\n            fieldSecondValue: c.fieldSecondValue,\n            conditions: c.conditions,\n            conditionsId: c.conditionsId,\n            closingBrackets: c.closingBrackets,\n            isTime: c.isTime,\n            resultCalculation: c.resultCalculation.map((rc, rcIndex) => {\n              debugger;\n              return {\n                ruleTargetResultConditionCalculationID : rc.ruleTargetResultConditionCalculationID,\n                DisplayOrder: rcIndex,\n                closingBrackets: rc.closingBrackets,\n                formulaId: (rc.formulaId != null && typeof rc.formulaId.SqlFunctionId !== 'undefined' ? rc.formulaId.SqlFunctionId : null),\n                firstFieldId: (rc.firstFieldId == null ? null : rc.firstFieldId.form_field_id),\n                firstFieldValue: rc.firstFieldValue,\n                firstFieldSectionId: rc.firstFieldId.sub_module_id,\n                secondFieldId: (rc.secondFieldId == null ? null : rc.secondFieldId.form_field_id),\n                secondFieldValue: rc.secondFieldValue,\n                secondFieldSectionId: rc.secondFieldSectionId == null ? null : rc.secondFieldSectionId.sub_module_id,\n                datePart: rc.datePart,\n                operatorId: (rc.operatorId != null && typeof rc.operatorId.operator_id !== 'undefined' ? rc.operatorId.operator_id : null),\n                openingBrackets: rc.openingBrackets,\n              }\n            })\n          }\n        }),\n        results: t.results.map((rr, rrIndex) => {\n          return {\n            DisplayOrder: rrIndex,\n            resultId: rr.resultId,\n            name: rr.name,\n            actionId: rr.actionId,\n            subModuleId: rr.subModuleId,\n            resultCondition: rr.resultCondition,\n            tableFields: rr.tableFields.map((f, fIndex) => {\n              return {\n                RuleTargetResultConditionId : f.RuleTargetResultConditionId,\n                RuleTargetId : f.RuleTargetId,\n                DisplayOrder: fIndex,\n                fieldId: (typeof f.fieldId === 'undefined' ? null : f.fieldId.form_field_id),\n                name: f.name,\n                dataType: f.dataType,\n                fieldValue: (f.fieldValue != null && typeof f.fieldValue.value !== 'undefined' ? f.fieldValue.value : (f.fieldValue == null ? f.fieldDisplayValue : f.fieldValue)),\n                fieldDisplayValue: f.fieldDisplayValue,\n                conditions : f.conditions,\n                conditionsId : f.conditionsId,\n                subModuleId : f.subModuleId,\n                resultCalculation: f.resultCalculation.map((rc, rcIndex) => {\n                  debugger;\n                  return {\n                    ruleTargetResultConditionCalculationID : rc.ruleTargetResultConditionCalculationID,\n                    DisplayOrder: rcIndex,\n                    closingBrackets: rc.closingBrackets,\n                    formulaId: (rc.formulaId != null && typeof rc.formulaId.SqlFunctionId !== 'undefined' ? rc.formulaId.SqlFunctionId : null),\n                    firstFieldId: (rc.firstFieldId == null ? null : rc.firstFieldId.form_field_id),\n                    firstFieldValue: rc.firstFieldValue,\n                    firstFieldSectionId: rc.firstFieldId.sub_module_id,\n                    secondFieldId: (rc.secondFieldId == null ? null : rc.secondFieldId.form_field_id),\n                    secondFieldValue: rc.secondFieldValue,\n                    secondFieldSectionId: rc.secondFieldSectionId == null ? null : rc.secondFieldSectionId.sub_module_id,\n                    datePart: rc.datePart,\n                    operatorId: (rc.operatorId != null && typeof rc.operatorId.operator_id !== 'undefined' ? rc.operatorId.operator_id : null),\n                    openingBrackets: rc.openingBrackets,\n                  }\n                })\n              }\n            })\n\n          }\n        }),\n      }\n    });\n\n    this.editFromVersion = false;\n  }\n\n  save() {\n    if (this.ruleEngineForm.valid) {\n      this.loadSave = true;\n      this.appmodel.RuleId = this.ruleEngineForm.value.ruleId;\n      this.appmodel.RuleName = this.ruleEngineForm.value.name;\n      console.log(this.ruleEngineForm.value.loanProducts);\n      let newTarget = this.prepareTarget();\n      let newResultForm = {\n        ruleId: this.ruleEngineForm.value.ruleId,\n        name: this.ruleEngineForm.value.name,\n        moduleId: this.ruleEngineForm.value.moduleId.value,\n        subModuleId: this.ruleEngineForm.value.subModuleId.sub_module_id,\n        eventId: this.ruleEngineForm.value.eventId,\n        isActive: this.ruleEngineForm.value.isActive,\n        displayOrder: this.ruleEngineForm.value.displayOrder,\n        targets: newTarget,\n      };\n\n      console.log('rule form value: ', this.ruleEngineForm.value);\n      console.log('new rule form: ', newResultForm);\n      this.ruleEngineService.checkNameExist(this.appmodel).subscribe((result: any) => {\n        if (result.statusCode == 201) {\n          this.toaster.error(result.responseMessage);\n          this.loadSave = false;\n        }\n        else {\n          this.ruleEngineService.addUpdateRuleEngine(newResultForm).subscribe((result: any) => {\n            if (result.statusCode == 200) {\n              this.toaster.success(result.responseMessage);\n              this.loadSave = false;\n              this.router.navigateByUrl(\"/solgen-rule-engine\");\n\n            } else {\n              this.loadSave = false;\n              this.toaster.error(result.responseMessage);\n            }\n          });\n        }\n\n      });\n    }\n  }\n  refreshLA(listFor: string = \"VERSION\") {\n    //this.laPagedData = [];\n    this.loading = true;\n    if (listFor == 'NEWRULEONOLDAPP') {\n      this.loanApplicationlistFiltertext = \"\";\n    } else if (listFor == 'VERSION') {\n      this.listFiltertext = \"\";\n    }\n    let pageSize = (listFor == \"VERSION\") ? this.laPageSizeValue : this.loanApplicationPageSizeValue;\n    let filterText = (listFor == \"VERSION\") ? this.listFiltertext : this.loanApplicationlistFiltertext;\n    this.ruleEngineService.getLoanApplicationListForApplyRule(filterText,\n      this.laSortColumn,\n      this.laSortDir,\n      this.currentPage,\n      pageSize,\n      this.loginuserid, this.batchid, this.id, listFor).subscribe(response => {\n        if (listFor == 'NEWRULEONOLDAPP') {\n          this.loanApplicationPageData = response;\n        } else if (listFor == 'VERSION') {\n          this.laPagedData = response;\n          setTimeout(function () { window.dispatchEvent(new Event('resize')); }, 200);\n        }\n        this.loading = false;\n      }, error => {\n        this.loading = false;\n      });\n\n  }\n\n  searchLA(listFor: string = \"VERSION\") {\n    this.loading = true;\n    let pageSize = (listFor == \"VERSION\") ? this.laPageSizeValue : this.loanApplicationPageSizeValue;\n    let filterText = (listFor == \"VERSION\") ? this.listFiltertext : this.loanApplicationlistFiltertext;\n    this.ruleEngineService.getLoanApplicationListForApplyRule(filterText,\n      ((listFor == \"VERSION\") ? this.laSortColumn : this.oldApplicationSortColumn),\n      ((listFor == \"VERSION\") ? this.laSortDir : this.oldApplicationSortDir),\n      this.currentPage,\n      pageSize,\n      this.loginuserid, this.batchid, this.id, listFor).subscribe(response => {\n        if (listFor == 'NEWRULEONOLDAPP') {\n          this.loanApplicationPageData = response;\n        } else if (listFor == 'VERSION') {\n          this.laPagedData = response;\n        }\n        this.loading = false;\n      }, error => {\n        this.loading = false;\n      });\n  }\n\n  onChangeLA($event, listFor: string = \"VERSION\") {\n    console.log($event);\n    this.loading = true;\n    let filterText = (listFor == \"VERSION\") ? this.listFiltertext : this.loanApplicationlistFiltertext;\n    this.ruleEngineService.getLoanApplicationListForApplyRule(filterText,\n      ((listFor == \"VERSION\") ? this.laSortColumn : this.oldApplicationSortColumn),\n      ((listFor == \"VERSION\") ? this.laSortDir : this.oldApplicationSortDir),\n      this.currentPage,\n      $event.text,\n      this.loginuserid, this.batchid, this.id, listFor).subscribe(response => {\n        if (listFor == 'NEWRULEONOLDAPP') {\n          this.loanApplicationPageData = response;\n        } else if (listFor == 'VERSION') {\n          this.laPagedData = response;\n        }\n        this.loading = false;\n      }, error => {\n        this.loading = false;\n      });\n  }\n  onSort($event, listFor: string = \"VERSION\") {\n    const sort = $event.sorts[0];\n    if (listFor == \"VERSION\") {\n      this.laSortDir = sort.dir;\n      this.laSortColumn = sort.prop;\n    } else {\n      this.oldApplicationSortDir = sort.dir;\n      this.oldApplicationSortColumn = sort.prop;\n    }\n    this.loading = true;\n    let pageSize = (listFor == \"VERSION\") ? this.laPageSizeValue : this.loanApplicationPageSizeValue;\n    let filterText = (listFor == \"VERSION\") ? this.listFiltertext : this.loanApplicationlistFiltertext;\n    this.ruleEngineService.getLoanApplicationListForApplyRule(filterText,\n      ((listFor == \"VERSION\") ? this.laSortColumn : this.oldApplicationSortColumn),\n      ((listFor == \"VERSION\") ? this.laSortDir : this.oldApplicationSortDir),\n      $event.page,\n      pageSize,\n      this.loginuserid, this.batchid, this.id, listFor).subscribe(response => {\n        if (listFor == 'NEWRULEONOLDAPP') {\n          this.loanApplicationPageData = response;\n        } else if (listFor == 'VERSION') {\n          this.laPagedData = response;\n        }\n        console.log('setPageLA: ', response);\n        this.loading = false;\n      }, error => {\n        this.loading = false;\n      });\n  }\n  setPageLA($event, listFor: string = \"VERSION\") {\n    this.loading = true;\n    let pageSize = (listFor == \"VERSION\") ? this.laPageSizeValue : this.loanApplicationPageSizeValue;\n    let filterText = (listFor == \"VERSION\") ? this.listFiltertext : this.loanApplicationlistFiltertext;\n    this.ruleEngineService.getLoanApplicationListForApplyRule(filterText,\n      ((listFor == \"VERSION\") ? this.laSortColumn : this.oldApplicationSortColumn),\n      ((listFor == \"VERSION\") ? this.laSortDir : this.oldApplicationSortDir),\n      $event.page,\n      pageSize,\n      this.loginuserid, this.batchid, this.id, listFor).subscribe(response => {\n        if (listFor == 'NEWRULEONOLDAPP') {\n          this.loanApplicationPageData = response;\n        } else if (listFor == 'VERSION') {\n          this.laPagedData = response;\n        }\n        console.log('setPageLA: ', response);\n        this.loading = false;\n      }, error => {\n        this.loading = false;\n      });\n  }\n\n  onActivate(event) {\n  }\n  getPageSizes() {\n    this.commonService.getMasterItemsList(\"PageSize\").subscribe((res: any) => {\n      this.lstPageSize = this.commonService.masters;\n    })\n  }\n  onSelect({ selected }) {\n    this.selectedApplication.splice(0, this.selectedApplication.length);\n    this.selectedApplication.push(...selected);\n  }\n  onSelectOldApplication({ selected }) {\n    this.selectedOldApplication.splice(0, this.selectedOldApplication.length);\n    this.selectedOldApplication.push(...selected);\n  }\n  makeSubmitButtonDisabled() {\n    const index = this.ruleEngineVersionList.findIndex((element, index) => {\n      if (element.RuleId == this.id) {\n        return true;\n      }\n    });\n    if (index > 0) {\n      this.isSubmitButtonDisabled = true;\n    } else {\n      this.isSubmitButtonDisabled = false;\n    }\n  }\n  ApplySelectedVersion() {\n    if (this.selectedApplication.length > 0 && this.selectedVersionForChange > 0) {\n      if (confirm(\"Are you sure you want update rule version of selected application?\")) {\n        let selectedIds = this.selectedApplication.map(m => { return m.Id }).join(',');\n        console.log(selectedIds);\n        this.ruleEngineService.ApplyRuleVersion(this.selectedVersionForChange, selectedIds).subscribe(m => {\n          if (m) {\n            this.refreshLA();\n            this.selectedVersionForChange = null;\n            this.toaster.success('Version is successfully updated.');\n          } else {\n            this.toaster.error('Something went wrong. Please try again.');\n          }\n        });\n      }\n    } else {\n      this.toaster.warning('Application(s) and version is required.');\n    }\n  }\n  OpenLatestRuleOnOldApp() {\n    var $this = this;\n    this.loanApplicationlistFiltertext = \"\";\n    //setTimeout(function () {\n      $this.ruleEngineService.getLoanApplicationListForApplyRule(this.loanApplicationlistFiltertext,\n        $this.oldApplicationSortColumn,\n        $this.oldApplicationSortDir,\n        $this.currentPage,\n        $this.loanApplicationPageSizeValue,\n        $this.loginuserid, $this.batchid, $this.id, 'NEWRULEONOLDAPP').subscribe(response => {\n          $this.loanApplicationPageData = response;\n          $this.loading = false;\n        }, error => {\n          $this.loading = false;\n        })\n      $this.applyLatestRuleOnOldApp.show();\n    //}, 100);\n  }\n  ApplyRuleOnOldApplication() {\n    if (this.selectedOldApplication.length > 0) {\n      if (confirm(\"Are you sure you want to apply this rule to selected application(s)?\")) {\n        let selectedIds = this.selectedOldApplication.map(m => { return m.Id }).join(',');\n        console.log(selectedIds);\n        this.ruleEngineService.ApplyRuleVersion(this.id, selectedIds).subscribe(m => {\n          if (m) {\n            this.selectedVersionForChange = null;\n            this.toaster.success('Rule is successfully Applied.');\n            this.closeOldApplicationPopup();\n          } else {\n            this.toaster.error('Something went wrong. Please try again.');\n          }\n        });\n      }\n    } else {\n      this.toaster.warning('Application(s) is required.');\n    }\n  }\n  closeOldApplicationPopup() {\n    this.refreshLA(\"VERSION\");\n    this.applyLatestRuleOnOldApp.hide();\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3ZpZXdzL3NvbGdlbi1ydWxlLWVuZ2luZS9zb2xnZW4tcnVsZS1lbmdpbmUtbGlzdC5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit, Input } from '@angular/core';\nimport { CommonService, ModuleList } from '../shared/common.service';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { ToastrService } from 'ngx-toastr';\nimport { FormBuilder } from '@angular/forms';\nimport { ConfirmationDialogService } from '../shared/confirmation-dialog/confirmation-dialog.service';\nimport { SelectionType } from '@swimlane/ngx-datatable';\nimport { FormService } from '../manageform/form.service';\nimport { SolgenRuleEngineService } from './solgen-rule-engine.service';\n\n@Component({\n  selector: 'app-solgen-rule-engine-list',\n  templateUrl: './solgen-rule-engine-list.component.html',\n  styleUrls: ['./solgen-rule-engine-list.component.scss']\n})\nexport class SolgenRuleEngineListComponent implements OnInit {\n\n\n  companyType: any;\n  modulelist: any;\n  subModulelist: any;\n  ddlModulelist: any[] = [];\n  ddlSubModulelist: any[] = [];\n  lstUserType: any;\n  searchUserType = '';\n  loginuserid: any;\n  companyid: any;\n  isAddForm = false;\n  loading = false;\n  id: any;\n  sortDir = 'desc';\n  sortColumn = 'RuleId';\n  deleteId: any;\n  listFilter = '';\n  searchTxt = '';\n  selectedValue: any;\n  SelectedText: any;\n  lstPageSize: any;// = 0;\n  pageSizeValue: number;\n  modulecode: number = 0;\n  modulenamecode: any;\n  modulePermission: ModuleList;\n  loadSave: boolean = false;\n  moduleId: any;\n  subModuleId: any;\n  isCompanyTypeFinancialInstitute: boolean = false;\n  companyId = 1004;\n  userInfo: any[] = [];\n  @Input() offset: number;\n  currentPage: any;\n  SelectionType = SelectionType;\n  selected = [];\n  rulId: string =\"\";\n  pagedData: any = {\n    pager: {},\n    data: []\n  };\n\n  laPagedData: any = {\n    pager: {},\n    data: []\n  };\n\n  constructor(private fb: FormBuilder,\n    private formservice: FormService,\n    private commonService: CommonService,\n    private SolgenService: SolgenRuleEngineService,\n    private router: Router,\n    private toaster: ToastrService,\n    private dialogService: ConfirmationDialogService,\n    private route: ActivatedRoute) {\n    const moduleCode = this.route.snapshot.data.moduleCode;\n    this.modulePermission = this.commonService.getPermission(moduleCode);\n    this.commonService.getLoggedInName.subscribe((userdetail: any) => {\n      this.loginuserid = userdetail.id;\n      this.companyid = userdetail.companyId;\n    });\n\n\n  }\n\n  ngOnInit() {\n    this.userInfo =  JSON.parse(localStorage.getItem('userinfo'));\n    this.companyType = this.userInfo[\"companyType\"];\n    this.companyId = this.userInfo[\"companyId\"];\n\n    if (this.companyType === \"companytypeFinancialInstitute\" && this.companyId === 1004) {\n      this.isCompanyTypeFinancialInstitute = true;\n    }\n    this.currentPage = 0;\n    this.pageSizeValue = 15;\n    // this.pageSizeValue = 10;\n    this.getPageSizes();\n    this.refresh();\n    this.getModuleddl();\n\n    this.route.paramMap.subscribe(\n      params => {\n        const id = params.get('id');\n        this.id = id;\n      });\n  }\n\n  getModuleddl() {\n    this.formservice.getModuleList().subscribe((result: any) => {\n      if (result) {\n        let _result = JSON.parse(result);\n        this.modulelist = _result.module;\n        this.ddlModulelist = _result.module;\n      }\n    });\n  }\n  getPageSizes() {\n    this.commonService.getMasterItemsList(\"PageSize\").subscribe((res: any) => {\n      this.lstPageSize = this.commonService.masters;\n    })\n  }\n  onModuleSelect(event) {\n    if (event) {\n      this.moduleId = event.module_id;\n      this.formservice.getSubModuleListByModuleId(this.moduleId).subscribe((result: any) => {\n        this.subModuleId = null;\n        if (result) {\n          let _result = JSON.parse(result);\n          this.subModulelist = _result.submodule;\n        }\n      });\n    }\n    else {\n      this.moduleId = null;\n      this.subModuleId = null;\n      this.subModulelist = null;\n    }\n    ///////////////// this.lstPageSize = 0;\n    this.currentPage = 0;\n    this.refresh();\n  }\n  onSubModuleSelect(event) {\n    if (event) {\n      this.subModuleId = event.sub_module_id;\n    }\n    else {\n      this.subModuleId = null;\n    }\n    ////////////this.lstPageSize = 0;\n    this.currentPage = 0;\n    this.refresh();\n  }\n\n  onChange($event) {\n    this.loading = true;\n    this.SolgenService.GetSolgenList(this.listFilter, this.moduleId, this.subModuleId, this.sortColumn, this.sortDir, 0, this.pageSizeValue,this.companyId).subscribe(response => {\n      this.pagedData = this.SolgenService.pagedData;\n      this.offset = 1;\n      this.loading = false;\n    }, error => {\n      this.loading = false;\n    })\n  }\n  setPage($event) {\n    this.loading = true;\n    this.SolgenService.GetSolgenList(this.listFilter, this.moduleId, this.subModuleId, this.sortColumn, this.sortDir, $event.page - 1, this.pageSizeValue,this.companyId).subscribe(response => {\n      this.pagedData = this.SolgenService.pagedData;\n      this.loading = false;\n    }, error => {\n      this.loading = false;\n    });\n  }\n  onSort($event) {\n    const sort = $event.sorts[0]\n    this.sortDir = sort.dir;\n    this.sortColumn = sort.prop;\n    this.loading = true;\n    this.SolgenService.GetSolgenList(this.listFilter, this.moduleId, this.subModuleId, this.sortColumn, this.sortDir, $event.page - 1, this.pageSizeValue,this.companyId).subscribe(response => {\n      this.pagedData = this.SolgenService.pagedData;\n      this.loading = false;\n    }, error => {\n      this.loading = false;\n    });\n  }\n\n\n\n  remove() {\n    if (this.rulId != null && this.rulId != \"\") {\n      const message = `Are you sure you want to delete Rule(s)?`;\n      this.dialogService.confirm('Delete Rule(s)', message).subscribe(confirmed => {\n        if (confirmed) {\n          this.SolgenService.deleteRules(this.rulId).subscribe(r => {\n            this.toaster.success(`Rule(s) has been deleted successfully.`);\n            this.rulId = \"\";\n            this.selected = [];\n            this.refresh();\n          }, error => {\n          });\n        }\n      });\n    }\n    else {\n      this.toaster.error(\"Please select at least one row.\");\n    }\n  }\n\n  onSelect({ selected }) {\n    if (this.rulId == \"\" || this.rulId == null || this.rulId == 'undefined') {\n      this.selected.splice(0, this.selected.length);\n      this.selected.push(...selected);\n\n      for (let i = 0; i < selected.length; i++) {\n       // if (selected[i].asociatedUser !== 1) {\n        this.rulId += selected[i].RuleId.toString() + \",\";\n       // }\n      }\n\n    }\n    else {\n      this.rulId = null;\n      this.rulId = \"\";\n      for (let i = 0; i < selected.length; i++) {\n        //if (selected[i].asociatedUser !== 1) {\n        this.rulId += selected[i].RuleId.toString() + \",\";\n       // }\n      }\n    }\n  }\n\n  refresh() {\n    this.loading = true;\n    this.SolgenService.GetSolgenList(this.listFilter, this.moduleId, this.subModuleId, this.sortColumn, this.sortDir, 0, this.pageSizeValue,this.companyId).subscribe(response => {\n      this.pagedData = this.SolgenService.pagedData;\n      this.offset = 1;\n      this.loading = false;\n    }, error => {\n      this.loading = false;\n    })\n  }\n\n  DeleteRule(row: any) {\n\n    const message = `Are you sure you want to delete rule \"${row.RuleName}\"?`;\n    this.dialogService.confirm('Delete Rule ', message).subscribe(confirmed => {\n      if (confirmed) {\n        this.SolgenService.deleteRule(row.RuleId).subscribe((result: any) => {\n          if (result.statusCode == 200) {\n            this.toaster.success(result.responseMessage);\n            this.refresh();\n          }\n          else {\n            this.toaster.error(result.responseMessage);\n          }\n        })\n      }\n    });\n  }\n\n\n\n\n  disable(row) {\n\n    const message = `Are you sure you want to disable this Rule \"${row.RuleName}\"?`;\n    this.dialogService.confirm('Disable Rule', message).subscribe(confirmed => {\n      if (confirmed) {\n        this.SolgenService.changeStatus(row.RuleId).subscribe(r => {\n          this.refresh();\n          this.toaster.success(`\"${row.RuleName}\" has been disabled successfully `);\n        }, error => {\n        });\n      }\n    });\n  }\n\n  enable(row) {\n    const message = `Are you sure you want to enable this Rule  \"${row.RuleName}\"?`;\n    this.dialogService.confirm('Enable Email Template', message).subscribe(confirmed => {\n      if (confirmed) {\n        this.SolgenService.changeStatus(row.RuleId).subscribe(response => {\n          this.refresh();\n          this.toaster.success(`\"${row.RuleName}\" has been enabled successfully`);\n        }, error => {\n        });\n      }\n    });\n  }\n\n}\n","import { NgModule } from \"@angular/core\";\r\nimport { RouterModule, Routes } from \"@angular/router\";\r\nimport { SolgenRuleEngineAddOrEditComponent } from \"./solgen-rule-engine-add-or-edit.component\";\r\nimport { SolgenRuleEngineListComponent } from \"./solgen-rule-engine-list.component\";\r\nimport { SolgenRuleEngineSummaryComponent } from \"./solgen-rule-engine-summary.component\";\r\n\r\n\r\nconst routes: Routes = [\r\n    { path: '', component: SolgenRuleEngineListComponent, data: { title: 'Rule Engine' } },\r\n    { path: 'add-rule', component: SolgenRuleEngineAddOrEditComponent, data: { title: 'Add Rule Engine' } },\r\n    {\r\n      path: 'edit/:id', component: SolgenRuleEngineAddOrEditComponent, data: { title: 'Edit Rule Engine' }\r\n    },\r\n    {\r\n      path: 'view/:vwRuleId', component: SolgenRuleEngineAddOrEditComponent, data: { title: 'View Rule Engine' }\r\n    },\r\n    {\r\n      path: 'summary', component: SolgenRuleEngineSummaryComponent, data: { title: 'Rule Engine Summary' }\r\n    },\r\n  ];\r\n  @NgModule({\r\n    imports: [RouterModule.forChild(routes)],\r\n    exports: [RouterModule]\r\n  })\r\nexport class SolgenRuleEngineRoutingModule { }","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3ZpZXdzL3NvbGdlbi1ydWxlLWVuZ2luZS9zb2xnZW4tcnVsZS1lbmdpbmUtc3VtbWFyeS5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-solgen-rule-engine-summary',\n  templateUrl: './solgen-rule-engine-summary.component.html',\n  styleUrls: ['./solgen-rule-engine-summary.component.scss']\n})\nexport class SolgenRuleEngineSummaryComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SharedModule } from '../shared/shared.module';\r\nimport { ModalModule } from 'ngx-bootstrap/modal';\r\nimport { SolgenRuleEngineRoutingModule } from './solgen-rule-engine-routing.module';\r\nimport { SolgenRuleEngineTargetComponent } from './component/solgen-rule-engine-target.component';\r\nimport { SolgenRuleEngineResultComponent } from './component/solgen-rule-engine-result.component';\r\nimport { SolgenRuleEngineResultTableFieldComponent } from './component/solgen-rule-engine-result-table-field.component';\r\nimport { SolgenRuleEngineResultCalculationComponent } from './component/solgen-rule-engine-result-calculation.component';\r\nimport { SolgenRuleEngineAddOrEditComponent } from './solgen-rule-engine-add-or-edit.component';\r\nimport { SolgenRuleEngineListComponent } from './solgen-rule-engine-list.component';\r\nimport { SolgenRuleEngineSummaryComponent } from './solgen-rule-engine-summary.component';\r\nimport { SolgenRuleConditionCalculationComponent } from './component/solgen-rule-condition-calculation.component';\r\nimport { SolgenRuleEngineConditionComponent } from './component/solgen-rule-engine-condition.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    SolgenRuleEngineListComponent,\r\n    SolgenRuleEngineConditionComponent,\r\n    SolgenRuleEngineTargetComponent,\r\n    SolgenRuleEngineResultComponent,\r\n    SolgenRuleEngineResultTableFieldComponent,\r\n    SolgenRuleEngineResultCalculationComponent,\r\n    SolgenRuleEngineAddOrEditComponent,\r\n    SolgenRuleEngineSummaryComponent, SolgenRuleConditionCalculationComponent],\r\n  imports: [\r\n    CommonModule,\r\n    SolgenRuleEngineRoutingModule,\r\n    SharedModule,\r\n    ModalModule.forRoot()\r\n  ]\r\n})\r\nexport class SolgenRuleEngineModule { }\r\n","import { Injectable } from \"@angular/core\";\r\nimport { environment } from '../../../environments/environment';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { FormBuilder, Validators, FormArray } from '@angular/forms';\r\nimport { map } from 'rxjs/operators';\r\nimport { Observable } from 'rxjs';\r\nimport { any } from \"underscore\";\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class SolgenRuleEngineService {\r\n\r\n  public baseUri = `${environment.WebApiBaseUrl}`;\r\n  public SolRuleEngine = `${environment.WebApiBaseUrl}RuleEngine`;\r\n  public moduleUri = `${environment.WebApiBaseUrl}Modules`;\r\n\r\n  customFieldsList: any;\r\n  pagedData: any;\r\n  ruleInfo: any;\r\n  ConditionsOperatorsList : any = [{ name: 'Is Value', value: '1' }, { name: 'Is Compare', value: '2' }, { name: 'Is Calculate', value: '3' }];\r\n  constructor(private http: HttpClient, private fb: FormBuilder) { }\r\n\r\n\r\n  GetSolgenList(name: any, moduleId: any, subModuleId: any, sortColumn: string, sortDir: string, page: number, pageSize: number, companyId: number): Observable<any> {\r\n    if (typeof name == \"undefined\" || name == null) { name = null; }\r\n    else { name = encodeURIComponent((name)); }\r\n    return this.http.get(`${this.baseUri}SolgenRuleEngine/GetSolgenRuleList?name=${name}&SortColumn=${sortColumn}&moduleId=${moduleId}&subModuleId=${subModuleId}&SortDir=${sortDir}&PageNo=${page}&PageSize=${pageSize}&companyId=${companyId}`)\r\n      .pipe(\r\n        map((response: any) => {\r\n          this.pagedData = response;\r\n          return true;\r\n        })\r\n      );\r\n  }\r\n\r\n  getSubModuleEventList(subModuleId: any) {\r\n    return this.http.get(`${this.baseUri}SolgenRuleEngine/GetSolgenSubModuleEventList?subModuleId=${subModuleId}`);\r\n  }\r\n\r\n  getSubModules(moduleId) {\r\n    return this.http.get(`${this.baseUri}SolgenRuleEngine/GetSolgenSubModules?moduleId=${moduleId}`);\r\n  }\r\n\r\n  getSubModuleFields(subModuleName) {\r\n    return this.http.get(`${this.moduleUri}/GetSubModuleFields?subModuleName=${subModuleName}`);\r\n  }\r\n\r\n  GetCustomFieldsListBySubModuleId(moduleId: any,subModuleId: any) {\r\n    return this.http.get(`${this.baseUri}SolgenRuleEngine/GetSolgenCustomFieldBySubModuleId?moduleId=${moduleId}&subModuleId=${subModuleId}`);\r\n  }\r\n\r\n  checkNameExist(model: CheckRuleName) {\r\n    return this.http.post(`${this.baseUri}SolgenRuleEngine/CheckSolgenRuleNameExist`, model);\r\n  }\r\n\r\n  addUpdateRuleEngine(data: any) {\r\n    return this.http.post(`${this.baseUri}SolgenRuleEngine/AddUpdateSolgenRuleEngine`, data);\r\n  }\r\n\r\n  deleteRule(id: any) {\r\n    return this.http.get(this.baseUri + `SolgenRuleEngine/DeleteSolgenRule?ruleId=${id}`)\r\n  }\r\n\r\n  changeStatus(id: any) {\r\n    return this.http.post(`${this.baseUri}SolgenRuleEngine/ChangeSolgenRuleStatus/${id}`, null);\r\n  }\r\n\r\n  getDisplayOrder() {\r\n    return this.http.get(`${this.baseUri}SolgenRuleEngine/GetSolgenRuleDisplayOrder`);\r\n  }\r\n\r\n  deleteRules(ruleIds: string) {\r\n    return this.http.get(this.baseUri + `SolgenRuleEngine/DeletedMultipleSolgenRules?ruleIds=${ruleIds}`)\r\n  }\r\n\r\n  executeRuleEngineTarget(loanApplicationId: number, eventCode: string, connectionId) {\r\n    let model = {\r\n      loanApplicationId: loanApplicationId,\r\n      eventCode: eventCode,\r\n      connectionId: connectionId\r\n    };\r\n    console.log(model);\r\n    return this.http.post(this.baseUri + `RuleEngine/ExecuteRuleEngineTarget`, model);\r\n  }\r\n\r\n  sortConditionOperatoers(dt_code) {\r\n    if (dt_code == 'text' || dt_code == 'textbox' || dt_code == 'textarea' || dt_code == 'select'\r\n      || dt_code == 'date' || dt_code == 'datetime' || dt_code == 'checkbox' || dt_code == 'radio' || dt_code == 'boolean' || dt_code == 'image') {\r\n        return [{ name: 'Is Value', value: '1' }, { name: 'Is Compare', value: '2' }];\r\n    } else if (dt_code == 'bigint' || dt_code == 'int' || dt_code == 'number' || dt_code == 'decimal') {\r\n      return [{ name: 'Is Value', value: '1' }, { name: 'Is Compare', value: '2' }, { name: 'Is Calculate', value: '3' }];\r\n    }\r\n  }\r\n\r\n  buidCondition(condition = null) {\r\n\r\n    let conditiongroup = this.fb.group({\r\n      conditionId: [null],\r\n      relationWithParent: [null],\r\n      openingBrackets: \"(\",\r\n      subModuleId: [null, Validators.required],\r\n      subModuleAlias: [null, Validators.required],\r\n      fieldId: [null, Validators.required],\r\n      fields: [],\r\n      operatorId: [null, Validators.required],\r\n      operators: [],\r\n      //    isCalculate: [{ value: false, disabled: true }],\r\n      fieldSelectList: [],\r\n      fieldValue: [null, Validators.required],\r\n      fieldSecondValue: [null],\r\n      closingBrackets: \")\",\r\n      isTime: [\"\"],\r\n      displayOrder: [0],\r\n      conditions: [],\r\n      conditionsId: [null, Validators.required],\r\n      resultCalculation: this.fb.array([this.buildResultCalculation()])\r\n    });\r\n\r\n    if (condition != null) {\r\n      let fieldValue = null;\r\n      let fieldSecondValue = null;\r\n      if (typeof condition.fieldId !== 'undefined') {\r\n\r\n        if (condition.fieldId.dt_code == 'select' && condition.operatorId.operator_expression != 'in') {\r\n          fieldValue = JSON.parse(condition.fieldId.select_options).filter(m => m.value === condition.fieldValue)[0]\r\n        } else if (condition.fieldId.dt_code == 'select' && condition.operatorId.operator_display_name.includes('multiple')) {\r\n\r\n          let values = condition.fieldValue.split(',').map(m => { return m.replace(/'/g, '') });\r\n\r\n          fieldValue = JSON.parse(condition.fieldId.select_options).filter(m => values.includes(m.value));\r\n\r\n        } else if (condition.fieldId.dt_code == 'date') {\r\n\r\n          fieldValue = new Date(condition.fieldValue);\r\n\r\n        } else {\r\n\r\n          fieldValue = condition.fieldValue\r\n\r\n        }\r\n\r\n        if (condition.fieldId.dt_code == 'select' && condition.operatorId.operator_expression == 'between') {\r\n          fieldSecondValue = JSON.parse(condition.fieldId.select_options).filter(m => m.value === condition.fieldSecondValue)[0]\r\n        } else if (condition.fieldId.dt_code == 'date' && condition.operatorId.operator_expression == 'between') {\r\n          fieldSecondValue = new Date(condition.fieldSecondValue);\r\n        } else if (condition.operatorId.operator_expression == 'between') {\r\n          fieldSecondValue = condition.fieldSecondValue\r\n        }\r\n\r\n      }\r\n      let operatorContionsId = (typeof condition.conditionsId !== 'undefined' ? JSON.parse(condition.conditionsId) : {})\r\n      conditiongroup.patchValue({\r\n        conditionId: condition.conditionId,\r\n        relationWithParent: (typeof condition.relationWithParent !== 'undefined' ? condition.relationWithParent : ''),\r\n        openingBrackets: condition.openingBrackets,\r\n        subModuleId: condition.subModuleId,\r\n        subModuleAlias: ((typeof condition.subModuleAlias !== 'undefined' ? condition.subModuleAlias : '')),\r\n        fieldId: (typeof condition.fieldId !== 'undefined' ? condition.fieldId : null),\r\n        fields: condition.fields,\r\n        fieldSelectList: (typeof condition.fieldId !== 'undefined' && condition.fieldId.dt_code == 'select' ? JSON.parse(condition.fieldId.select_options) : []),\r\n        operatorId: condition.operatorId,\r\n        operators: condition.operators,\r\n        fieldValue:(operatorContionsId && operatorContionsId.value == '2' && fieldValue) ?  JSON.parse(fieldValue):fieldValue,\r\n        fieldSecondValue: fieldSecondValue,\r\n        closingBrackets: condition.closingBrackets,\r\n        isTime: condition.isTime,\r\n        conditions: this.sortConditionOperatoers(typeof condition.fieldId !== 'undefined' ? condition.fieldId.dt_code : ''),\r\n        conditionsId:  operatorContionsId,\r\n      });\r\n\r\n    }\r\n    //prepare condtion data\r\n    while ((conditiongroup.get('resultCalculation') as FormArray).length != 0) {\r\n      (conditiongroup.get('resultCalculation') as FormArray).removeAt(0);\r\n\r\n    }\r\n\r\n    if (condition) {\r\n      if (condition.resultCalculation) {\r\n        condition.resultCalculation.forEach((m: any) => {\r\n          (conditiongroup.get('resultCalculation') as FormArray).push(this.buildResultCalculation(m));\r\n        });\r\n      }\r\n    }\r\n    return conditiongroup;\r\n  }\r\n\r\n  buidResult(result = null) {\r\n\r\n    if (result == null) {\r\n      return this.fb.group({\r\n        resultId: [null],\r\n        name: [null, Validators.required],\r\n        action: [null, Validators.required],\r\n        actionId: [null, Validators.required],\r\n        subModuleId: [null],\r\n        fieldList: [null],\r\n        resultCondition: [null],\r\n        tableFields: this.fb.array([this.buildResultTableField()]),\r\n        isEdit: [false]\r\n      });\r\n    } else {\r\n      let resultGroup = this.fb.group({\r\n        resultId: [result.ruleTargetResultId],\r\n        name: [result.name, Validators.required],\r\n        action: [result.action, Validators.required],\r\n        actionId: [result.actionId, Validators.required],\r\n        subModuleId: [result.subModuleId],\r\n        fieldList: [result.fields],\r\n        resultCondition: [result.resultCondition],\r\n        tableFields: this.fb.array([this.buildResultTableField()]),\r\n        isEdit: [true],\r\n        displayOrder: [0]\r\n      });\r\n\r\n      if (result.action.code != 'validation') {\r\n        resultGroup.get('subModuleId').setValidators([Validators.required]);\r\n      }\r\n\r\n      //prepare condtion data\r\n      while ((resultGroup.get('tableFields') as FormArray).length != 0) {\r\n        (resultGroup.get('tableFields') as FormArray).removeAt(0);\r\n\r\n      }\r\n      if (result.tableFields) {\r\n        result.tableFields.forEach((m: any) => {\r\n          (resultGroup.get('tableFields') as FormArray).push(this.buildResultTableField(m));\r\n        });\r\n      }\r\n      return resultGroup;\r\n    }\r\n  }\r\n\r\n  buildResultTableField(tableField = null) {\r\n\r\n    let tableFieldGroup = this.fb.group({\r\n      RuleTargetResultConditionId: [null],\r\n      RuleTargetId: [null],\r\n      fieldId: [null],\r\n      subModuleId: [null, Validators.required],\r\n      name: [null, Validators.required],\r\n      fieldSelectList: [],\r\n      displayName: [null],\r\n      dataType: [null, Validators.required],\r\n      fieldDisplayValue: [null],\r\n      fieldValue: [null, Validators.required],\r\n      showPopUpModal: [false],\r\n      resultCalculation: this.fb.array([this.buildResultCalculation()]),\r\n      conditionsId: [null, Validators.required],\r\n      conditions: [],\r\n    });\r\n    if (tableField != null) {\r\n      let fieldValue = null;\r\n      if (tableField.fieldId) {\r\n        if (tableField.fieldId.dt_code == 'select') {\r\n          fieldValue = JSON.parse(tableField.fieldId.select_options).filter(m => m.value === tableField.fieldValue)[0]\r\n          if(!fieldValue){\r\n            fieldValue = tableField.fieldValue;\r\n          }\r\n        } else if (tableField.fieldId.dt_code == 'date') {\r\n          fieldValue = new Date(tableField.fieldValue);\r\n        } else {\r\n          fieldValue = tableField.fieldValue\r\n        }\r\n      }\r\n      else {\r\n        if (typeof tableField.name !== 'undefined') {\r\n          if (tableField.name == 'CompanyId') {\r\n            fieldValue = 't34.CompanyId';\r\n          } else if (tableField.name == 'StatusId') {\r\n            fieldValue = 't34.StatusId'\r\n          } else if (tableField.name == 'LoanApplicationId') {\r\n            fieldValue = 't34.Id'\r\n          } else {\r\n            fieldValue = tableField.fieldValue\r\n          }\r\n        } else {\r\n          fieldValue = tableField.fieldValue\r\n        }\r\n      }\r\n      let operatorsCondition = (typeof tableField.conditionsId !== 'undefined' ? JSON.parse(tableField.conditionsId) : {});\r\n      tableFieldGroup.patchValue({\r\n        RuleTargetResultConditionId: (typeof tableField.ruleTargetResultConditionId !== 'undefined' ? tableField.ruleTargetResultConditionId : null),\r\n        subModuleId: tableField.subModuleId,\r\n        RuleTargetId: (typeof tableField.ruleTargetId !== 'undefined' ? tableField.ruleTargetId : null),\r\n        fieldId: (typeof tableField.fieldId !== 'undefined' ? tableField.fieldId : tableField),\r\n        name: (typeof tableField.name !== 'undefined' ? tableField.name : ''),\r\n        fieldSelectList: ((typeof tableField.fieldId !== 'undefined' && tableField.fieldId.dt_code == 'select') ? JSON.parse(tableField.fieldId.select_options) : []),\r\n        displayName: (typeof tableField.label !== 'undefined' ? tableField.label : ''),\r\n        dataType: (typeof tableField.dataType !== 'undefined' ? tableField.dataType : typeof tableField.actual_data_type !== 'undefined' ? tableField.actual_data_type : ''),\r\n        fieldValue: (operatorsCondition && operatorsCondition.value == '2' && fieldValue) ? JSON.parse(tableField.fieldValue):fieldValue,\r\n        fieldDisplayValue: (typeof tableField.fieldDisplayValue !== 'undefined' ? tableField.fieldDisplayValue : null),\r\n        conditions: this.sortConditionOperatoers(typeof tableField.fieldId !== 'undefined' ? tableField.fieldId.dt_code : ''),\r\n        conditionsId: operatorsCondition,\r\n      });\r\n    }\r\n    //prepare condtion data\r\n    while ((tableFieldGroup.get('resultCalculation') as FormArray).length != 0) {\r\n      (tableFieldGroup.get('resultCalculation') as FormArray).removeAt(0);\r\n\r\n    }\r\n\r\n    if (tableField) {\r\n      if (tableField.resultCalculation) {\r\n        tableField.resultCalculation.forEach((m: any) => {\r\n\r\n          (tableFieldGroup.get('resultCalculation') as FormArray).push(this.buildResultCalculation(m));\r\n        });\r\n      }\r\n    }\r\n\r\n    return tableFieldGroup;\r\n  }\r\n\r\n  buildResultCalculation(resultCalculate = null) {\r\n\r\n    let resultCalculation = this.fb.group({\r\n      ruleTargetResultConditionCalculationID: [''],\r\n      ruleId: [null],\r\n      ruleTargetId: [null],\r\n      ruleTargetResultId: [null],\r\n      ruleTargetResultConditionId: [null],\r\n      formulaId: [],\r\n      openingBrackets: ['('],\r\n      firstFieldSectionId: [null],\r\n      firstFields: [null],\r\n      firstFieldId: [null],\r\n      firstFieldValue: [null],\r\n      secondFieldSectionId: [null],\r\n      secondFields: [null],\r\n      secondFieldId: [null],\r\n      secondFieldValue: [null],\r\n      datePart: [null],\r\n      operatorId: [null],\r\n      closingBrackets: [')']\r\n    });\r\n\r\n    if (resultCalculate != null) {\r\n      resultCalculation.patchValue({\r\n        ruleTargetResultConditionCalculationID: resultCalculate.ruleTargetResultConditionCalculationID,\r\n        ruleId: resultCalculate.ruleId,\r\n        ruleTargetId: resultCalculate.ruleTargetId,\r\n        ruleTargetResultId: resultCalculate.ruleTargetResultId,\r\n        formulaId: (typeof resultCalculate.formulaId !== 'undefined' ? resultCalculate.formulaId : null),\r\n        ruleTargetResultConditionId: resultCalculate.ruleTargetResultConditionId,\r\n        openingBrackets: resultCalculate.openingBrackets,\r\n        firstFieldSectionId: resultCalculate.firstFieldSectionId,\r\n        firstFields: (typeof resultCalculate.firstFields === 'undefined' ? null : resultCalculate.firstFields),\r\n        firstFieldId: (typeof resultCalculate.firstFieldId === 'undefined' ? null : resultCalculate.firstFieldId),\r\n        firstFieldValue: (typeof resultCalculate.firstFieldValue === 'undefined' ? null : resultCalculate.firstFieldValue),\r\n        secondFieldSectionId: (typeof resultCalculate.secondFieldSectionId === 'undefined' ? null : resultCalculate.secondFieldSectionId),\r\n        secondFields: (typeof resultCalculate.secondFields === 'undefined' ? null : resultCalculate.secondFields),\r\n        secondFieldId: (typeof resultCalculate.secondFieldId === 'undefined' ? null : resultCalculate.secondFieldId),\r\n        secondFieldValue: (typeof resultCalculate.secondFieldValue === 'undefined' ? null : resultCalculate.secondFieldValue),\r\n        datePart: (typeof resultCalculate.datePart === 'undefined' ? null : resultCalculate.datePart),\r\n        operatorId: (typeof resultCalculate.operatorId === 'undefined' ? null : resultCalculate.operatorId),\r\n        closingBrackets: resultCalculate.closingBrackets\r\n      });\r\n\r\n    }\r\n\r\n    return resultCalculation;\r\n  }\r\n\r\n  buildTarget(target = null) {\r\n    if (target == null) {\r\n      return this.fb.group({\r\n        targetId: [''],\r\n        isConditionAdded: [false],\r\n        conditions: this.fb.array([this.buidCondition()]),\r\n        targetCondition: this.fb.group({\r\n          targetId: [''],\r\n          ruleId: [''],\r\n          statusId: [''],\r\n          displayCondition: [''],\r\n          database_condition: [''],\r\n          rowId: ['']\r\n        }),\r\n        isResultAdded: [false],\r\n        results: this.fb.array([], Validators.required),\r\n        displayOrder: [0]\r\n      });\r\n    } else {\r\n      let targetGroup = this.fb.group({\r\n        targetId: [target.targetId],\r\n        isConditionAdded: true,\r\n        conditions: this.fb.array([this.buidCondition()]),\r\n        targetCondition: this.fb.group({\r\n          targetId: [target.targetId],\r\n          ruleId: [target.ruleId],\r\n          statusId: [target.statusId],\r\n          displayCondition: [target.displayCondition],\r\n          database_condition: [target.databaseCondition],\r\n          rowId: [target.rowId]\r\n        }),\r\n        isResultAdded: true,\r\n        results: this.fb.array([]),\r\n        displayOrder: [0]\r\n      });\r\n\r\n      //prepare condtion data\r\n      while ((targetGroup.get('conditions') as FormArray).length != 0) {\r\n        (targetGroup.get('conditions') as FormArray).removeAt(0);\r\n      }\r\n\r\n      target.conditions.forEach((m: any) => {\r\n        (targetGroup.get('conditions') as FormArray).push(this.buidCondition(m));\r\n\r\n      });\r\n\r\n      //prepare result data\r\n      while ((targetGroup.get('results') as FormArray).length != 0) {\r\n        (targetGroup.get('results') as FormArray).removeAt(0);\r\n\r\n      }\r\n\r\n      if (typeof target.results != 'undefined') {\r\n        target.results.forEach((m: any) => {\r\n          (targetGroup.get('results') as FormArray).push(this.buidResult(m));\r\n        });\r\n      }\r\n\r\n      return targetGroup;\r\n    }\r\n  }\r\n\r\n  getRuleList(name: any, loanproduct: any, sortColumn: string, sortDir, page: number, pageSize: number): Observable<any> {\r\n\r\n    if (typeof name == \"undefined\" || name == null) { name = null; }\r\n    else { name = encodeURIComponent((name)); }\r\n\r\n    return this.http.get(`${this.baseUri}RuleEngine/GetRuleList?name=${name}&loanproduct=${loanproduct}&sortColumn=${sortColumn}&sortDir=${sortDir}&page=${page}&pageSize=${pageSize}`)\r\n      .pipe(\r\n        map((response: any) => {\r\n          this.pagedData = response;\r\n          return true;\r\n        })\r\n      );\r\n  }\r\n\r\n  getRuleSummaryList(name: any, sortColumn: string, sortDir, page: number, pageSize: number): Observable<any> {\r\n\r\n    if (typeof name == \"undefined\" || name == null) { name = null; }\r\n    else { name = encodeURIComponent((name)); }\r\n\r\n    return this.http.get(`${this.baseUri}RuleEngine/GetRuleSummaryList?name=${name}&sortColumn=${sortColumn}&sortDir=${sortDir}&page=${page}&pageSize=${pageSize}`)\r\n      .pipe(\r\n        map((response: any) => {\r\n          this.pagedData = response;\r\n          return true;\r\n        })\r\n      );\r\n  }\r\n\r\n  getLoanApplicationListForApplyRule(name: any, sortColumn: string, sortDir, page: number, pageSize: number, userId: number, batchId: number, ruleId: number, listFor: string): Observable<any> {\r\n    return this.http.get(`${this.baseUri}RuleEngine/GetLoanApplicationListForApplyRule?nameSearch=${name}&sortColumn=${sortColumn}&sortDir=${sortDir}&pageIndex=${page}&pageSize=${pageSize}&ruleId=${ruleId}&listFor=${listFor}`);\r\n  }\r\n\r\n\r\n  GetRuleEngineDetail(id: any) {\r\n    return this.http.get(`${this.baseUri}SolgenRuleEngine/GetSolgenRuleDetailById?ruleId=${id}`);\r\n  }\r\n\r\n  ApplyRuleVersion(id: any, ApplicationIds: any) {\r\n    let model = {\r\n      RuleId: id,\r\n      ApplicationIds: ApplicationIds\r\n    };\r\n    console.log(model);\r\n    return this.http.post(this.baseUri + `RuleEngine/ApplyRuleVersionToApplication`, model);\r\n  }\r\n}\r\n\r\nexport class CheckRuleName {\r\n  RuleId: number;\r\n  RuleName: string;\r\n\r\n}\r\n//----------- Classes for SolgenRuleEngine-------------\r\n\r\nexport class SolgenRuleModule {\r\n  text: any;\r\n  value: any;\r\n}\r\n\r\nexport class SolgenRuleSelectOption {\r\n  name: any;\r\n  value: any;\r\n}\r\n\r\n\r\nexport class SolgenRuleField {\r\n  name: any;\r\n  display_name: any;\r\n  form_field_id: any;\r\n  actual_data_type: any;\r\n  dt_code: any;\r\n  table_name: any;\r\n  table_alias: any;\r\n  PrimaryTableColumn: any;\r\n  select_options: SolgenRuleSelectOption[] = [];\r\n}\r\n\r\nexport class SolgenRuleSubModule {\r\n  sub_module_id: any;\r\n  sub_module_name: any;\r\n  module_css_class: any;\r\n  module_name_code: any;\r\n  module_code: any;\r\n  module_route: any;\r\n  Status_id: any;\r\n}\r\n\r\nexport class SolgenRuleOperator {\r\n  operator_id: any;\r\n  operator_display_name: any;\r\n  operator_expression: any;\r\n  operation_data_type: any;\r\n  OperatorTypeIdL: any;\r\n}\r\n\r\nexport class SolgenRuleCondition {\r\n  conditionId: any;\r\n  targetId: any;\r\n  ruleId: any;\r\n  relationWithParent: any;\r\n  openingBrackets: any;\r\n  subModuleId: SolgenRuleSubModule;\r\n  subModuleAlias: any;\r\n  fieldValue: any;\r\n  fieldSecondValue: any;\r\n  closingBrackets: any;\r\n  isTime: any;\r\n  fieldId: SolgenRuleField;\r\n  fields: SolgenRuleField[] = [];\r\n  fieldSelectList: any[] = [];\r\n  operatorId: SolgenRuleOperator;\r\n  operators: SolgenRuleOperator[] = [];\r\n  conditionOperatorsValue: SolgenRuleSelectOption;\r\n  conditionCalculation: SolgenRuleResultCalculation[] = [];\r\n  conditionOperators: any[] = [];\r\n  displayOrder: any;\r\n  constructor() {\r\n    this.conditionId = null;\r\n    this.relationWithParent = null;\r\n    this.openingBrackets = '(';\r\n    this.subModuleId = null;\r\n    this.subModuleAlias = null;\r\n    this.fieldId = null;\r\n    this.operatorId = null;\r\n    this.operators = null;\r\n    this.conditionOperatorsValue = null;\r\n    this.closingBrackets = ')',\r\n      this.isTime = \"\";\r\n    this.displayOrder = 0;\r\n    this.fieldSelectList = null;\r\n    this.fieldValue = null;\r\n  }\r\n}\r\n//   conditionId: [null],\r\n//   relationWithParent: [null],\r\n//   openingBrackets: \"(\",\r\n//   subModuleId: [null],\r\n//   subModuleAlias: [null, Validators.required],\r\n//   fieldId: [null, Validators.required],\r\n//   fields: [],\r\n//   operatorId: [null, Validators.required],\r\n//   operators: [],\r\n//   conditionOperatorsValue: [null, Validators.required],\r\n//   //    isCalculate: [{ value: false, disabled: true }],\r\n//   fieldSelectList: [],\r\n//   fieldValue: [null, Validators.required],\r\n//   fieldSecondValue: [null],\r\n//   closingBrackets: \")\",\r\n//   isTime: [\"\"],\r\n//   displayOrder: [0],\r\nexport class SolgenRuleAction {\r\n  resultActionId: any;\r\n  name: any;\r\n  code: any;\r\n  statusId: any;\r\n}\r\n\r\nexport class SolgenRuleResultCalculation {\r\n  ruleTargetResultConditionCalculationID: any;\r\n  ruleId: any;\r\n  ruleTargetId: any;\r\n  formulaId: any;\r\n  ruleTargetResultId: any;\r\n  ruleTargetResultConditionId: any;\r\n  firstFields: SolgenRuleField[] = [];\r\n  firstFieldId: any;\r\n  firstFieldValue: any;\r\n  secondFieldSectionId: any;\r\n  secondFields: any;\r\n  secondFieldId: any;\r\n  secondFieldValue: any;\r\n  datePart: any; openingBrackets: any;\r\n  firstFieldSectionId: SolgenRuleSubModule;\r\n  operatorId: SolgenRuleOperator;\r\n  closingBrackets: any;\r\n  statusId: any;\r\n}\r\n\r\nexport class SolgenRuleTableField {\r\n  ruleTargetResultConditionId: any;\r\n  ruleTargetId: any;\r\n  fieldId: SolgenRuleField;\r\n  name: any;\r\n  label: any;\r\n  fieldValue: any;\r\n  dataType: any;\r\n  fieldDisplayValue: any;\r\n  select_options: any;\r\n  resultCalculation: SolgenRuleResultCalculation[] = [];\r\n  isCalculated: boolean;\r\n}\r\n\r\nexport class SolgenRuleResult {\r\n  ruleTargetResultId: any;\r\n  ruleTargetId: any;\r\n  name: any;\r\n  actionId: any;\r\n  action: SolgenRuleAction;\r\n  fields: SolgenRuleField[] = [];\r\n  subModuleId: any;\r\n  resultCondition: any;\r\n  companyId: any;\r\n  tableFields: SolgenRuleTableField[] = [];\r\n  isEdit: boolean = true;\r\n}\r\nexport class SolgenTargetCondition{\r\n  targetId: any;\r\n  ruleId: any;\r\n  statusId: any;\r\n  displayCondition: any;\r\n  database_condition: any;\r\n  rowId: any;\r\n}\r\nexport class SolgenRuleTarget {\r\n  targetId: any;\r\n  ruleId: any;\r\n  statusId: any;\r\n  displayCondition: any;\r\n  databaseCondition: any;\r\n  displayOrder: any;\r\n  companyId: any;\r\n  isConditionAdded: any;\r\n  targetCondition :SolgenTargetCondition;\r\n  conditions: SolgenRuleCondition[] = [];\r\n  isResultAdded: any;\r\n  results: SolgenRuleResult[] = [];\r\n  constructor() {\r\n    this.targetId = null;\r\n    this.ruleId = null;\r\n    this.statusId = null;\r\n    this.displayCondition = null;\r\n    this.databaseCondition = null;\r\n    this.displayCondition = 0;\r\n    this.companyId = null;\r\n    this.conditions = [];\r\n    this.results = [];\r\n  }\r\n}\r\n\r\nexport class SolgenRuleEngine {\r\n  RuleId: any;\r\n  RuleName: any;\r\n  ModuleId: SolgenRuleModule;\r\n  SubModuleId: SolgenRuleSubModule;\r\n  CompanyId: any;\r\n  SubModuleEventId: any;// old property ame eventId\r\n  EventName: any;\r\n  StatusId: any;\r\n  RuleClonedFrom: any;\r\n  IsActive: boolean;\r\n  displayOrder: any;\r\n  productName: any;\r\n  targets: SolgenRuleTarget[] = [];// this.fb.array([this.ruleEngineService.buildTarget()])\r\n  constructor() {\r\n    this.SubModuleId = new SolgenRuleSubModule();\r\n  }\r\n}\r\n\r\n///------------- end\r\n"],"sourceRoot":"webpack:///"}