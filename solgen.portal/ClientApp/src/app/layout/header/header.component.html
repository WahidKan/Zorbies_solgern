<style>
    .ng-select .ng-clear-wrapper {
        display: none;
    }
    
    #sidebarMenu {
        height: 100%;
        position: fixed;
        left: 0;
        width: 250px;
        margin-top: 810px;
        transform: translateX(-250px);
        transition: transform 250ms ease-in-out;
        background: #2C4373
    }
    
    .sidebarMenuInner {
        margin: 0;
        padding: 0;
        border-top: 1px solid rgba(255, 255, 255, 0.10);
    }
    
    .sidebarMenuInner li {
        list-style: none;
        color: #fff;
        font-weight: bold;
        padding: 20px;
        cursor: pointer;
        border-bottom: 1px solid rgba(255, 255, 255, 0.10);
    }
    
    .sidebarMenuInner li span {
        display: block;
        font-size: 14px;
        color: rgba(255, 255, 255, 0.50);
    }
    
    .sidebarMenuInner li a {
        color: #fff;
        font-weight: bold;
        cursor: pointer;
        text-decoration: none;
    }
    
    input[type="checkbox"]:checked~#sidebarMenu {
        transform: translateX(0);
    }
    
    input[type=checkbox] {
        transition: all 0.3s;
        box-sizing: border-box;
        display: none;
    }
    
    .sidebarIconToggle {
        transition: all 0.3s;
        box-sizing: border-box;
        cursor: pointer;
        position: absolute;
        z-index: 99;
        height: 100%;
        width: 100%;
        top: 22px;
        left: 15px;
        height: 22px;
        width: 22px;
    }
    
    .spinners {
        transition: all 0.3s;
        box-sizing: border-box;
        position: absolute;
        height: 3px;
        width: 100%;
        background-color: #fff;
    }
    
    .horizontal {
        transition: all 0.3s;
        box-sizing: border-box;
        position: relative;
        float: left;
        margin-top: 3px;
    }
    
    .diagonal.part-1 {
        position: relative;
        transition: all 0.3s;
        box-sizing: border-box;
        float: left;
    }
    
    .diagonal.part-2 {
        transition: all 0.3s;
        box-sizing: border-box;
        position: relative;
        float: left;
        margin-top: 3px;
    }
    
    input[type=checkbox]:checked~.sidebarIconToggle>.horizontal {
        transition: all 0.3s;
        box-sizing: border-box;
        opacity: 0;
    }
    
    input[type=checkbox]:checked~.sidebarIconToggle>.diagonal.part-1 {
        transition: all 0.3s;
        box-sizing: border-box;
        transform: rotate(135deg);
        margin-top: 8px;
    }
    
    input[type=checkbox]:checked~.sidebarIconToggle>.diagonal.part-2 {
        transition: all 0.3s;
        box-sizing: border-box;
        transform: rotate(-135deg);
        margin-top: -9px;
    }
    
    .userIcon {
        width: 200px;
        display: flex;
        flex-direction: column;
        justify-content: center;
        margin: 15px;
    }
    
    .btn-primary-custom {
        font-family: Raleway-SemiBold;
        font-size: 13px;
        color: rgba(58, 133, 191, 0.75);
        letter-spacing: 1px;
        line-height: 15px;
        border: 2px solid rgba(58, 133, 191, 0.75);
        border-radius: 40px;
        background: transparent;
        transition: all 0.3s ease 0s;
    }
    /* .imageCircle{
  height: 150px;
  width: 150px;
  border-radius: 50%;
  color: #fff;
  border: 1px solid black;
} */
    
    img {
        width: 150px;
        height: 150px;
        object-fit: cover;
        border-radius: 50%;
    }
</style>


<div *ngIf="headerData && headerData.userType !='Customer'" class="topbar">

    <div class="header-left">
        <div class="topnav d-flex align-items-center">
            <a *ngIf="headerData.userType !='Customer'" class="menutoggle" id="menutoggleid" href="javascript:void(0);" data-toggle="sidebar-collapsed"><span class="menu__handle"><span>Menu</span></span></a>
            <!-- <a *ngIf="headerData.userType =='Customer'" class="menutoggle" id="menutoggleid" href="javascript:void(0);" data-toggle="sidebar-collapsed"><span class="menu__handle"><span>Menu</span></span></a> -->
            <!-- <input  *ngIf="headerData.userType =='Customer' && mobileScreen" [(ngModel)]="data"  type="checkbox" id="openSidebarMenu">
      <label *ngIf="headerData.userType =='Customer' && mobileScreen"    for="openSidebarMenu" class="sidebarIconToggle">
        <div class="spinners diagonal part-1"></div>
        <div class="spinners horizontal"></div>
        <div class="spinners diagonal part-2"></div>
      </label> -->


            <!-- <div id="sidebarMenu">
        <ul class="sidebarMenuInner">
          <li>

            <div class="userIcon">

              <div class="imageCircle">
                <img src="{{companyLogo}}" alt="Card image">
              </div>



              <h4 style="margin-top: 10px;">{{username}}</h4>
            </div>

          </li>
          <li><i class="fa fa-dashboard"></i><a style="margin-left: 10px;" routerLink="dashboard" [routerLinkActive]="'active'" (click)="data=false">Dashboard</a></li>
          <li><i class="fa fa-phone" aria-hidden="true"></i><a style="margin-left: 10px;" routerLink="mobile/service-request" [routerLinkActive]="'active'" (click)="data=false">Service Request</a></li>
          <li><i class="fa fa-file-text-o" aria-hidden="true"></i><a style="margin-left: 10px;" routerLink="mobile/total-contracts" [routerLinkActive]="'active'" (click)="data=false">Contracts</a></li>
          <li><i class="fa fa-file-text-o" aria-hidden="true"></i><a style="margin-left: 10px;" routerLink="mobile/document-upload" [routerLinkActive]="'active'"  (click)="data=false">Document Upload</a></li>
          <li><i class="fa fa-file-text-o" aria-hidden="true"></i><a style="margin-left: 10px;" routerLink="mobile/signed-loan-document" [routerLinkActive]="'active'" (click)="data=false">Signed Loan Document</a></li>
          <li> <i class="fa fa-cog" aria-hidden="true"></i><a style="margin-left: 10px;" routerLink="mobile/settings" [routerLinkActive]="'active'" (click)="data=false">Settings</a></li>
          <li><i class="feather-power" aria-hidden="true"></i><a style="margin-left: 10px;" (click)="logout()">Logout</a></li>
        </ul>
      </div> -->

            <!-- <h3>
        <a routerLink="dashboard" [ngStyle]="{'background-image':' url('+companyLogo+')'}">

        </a>
        <img src='{{companyLogo}}'/>
      </h3> -->
            <!-- {{companyLogo}} -->
            <!-- <div>
            <a routerLink="dashboard" [ngStyle]="{'background-image':' url('+companyLogo+')'}">
      dffd
            </a>
        </div> -->
            <ul class="nav nav-icons d-none">
                <!-- <img  style="height: 50px;width: 100px;border-radius:50%;object-fit:contain" src='{{companyLogo}}'/> -->
                <a *ngIf="headerData.userType=='Customer'" href="javascript:void(0);" routerLink="/dashboard">
                    <span>
            <img style="background-color: #2f4050;height: 50px;width: 100%;" src={{companyLogo}} alt="Logo">

          </span>
                </a>


                <!--<li *ngIf="!headerData.isInternalUser" class="pb-2">
        <img src="../../../assets/default-theme/imagesNew/solgenbg.png" />
                  <div class="form-group">
                    <ng-select [items]="lstheadercompany" [clearable]="false" [searchable]="false"  placeholder="Select Company"
                               [(ngModel)]="companyIdDdl"
                               (change)="updateToken($event)"
                               bindLabel="CompanyName" bindValue="CompanyId" class="form-control"></ng-select>
                    </div>
                </li>-->
            </ul>
            <div class="headr-search" *ngIf="headerData.userType!='Customer'">

                <ng-select #ddlSearch (close)="ddlSearch.filterValue = searchTerm" (input)="searchTerm = ddlSearch.filterValue" [ngClass]="ddlselect" [items]="list" placeholder="Search..." [closeOnSelect]="true" (change)="OnChange($event);" (clear)="Clearddl()" (scrollToEnd)="onScrollToEnd()"
                    [virtualScroll]="true" [typeahead]="typeahead" (keyup)="OnChange($event)" [(ngModel)]="selectedData" bindLabel="name" bindValue="value">
                    <ng-template ng-option-tmp let-item="item" let-index="index" let-search="searchTerm" class="p-1">

                        <div class="card">
                            <div class="card-body search_res p-2 smview">
                                <a href="javascript:void(0);" class="smview" (click)="redirectToPage(item.link_name)">
                                    <span class="iconbx bg-info"><i class="{{item.icon}}"></i></span>
                                    <div class="search_des">
                                        <h5 class="text-truncate" [title]="item.data">{{item.data}}</h5>
                                        <p>{{item.type}}</p>
                                    </div>
                                </a>
                            </div>
                        </div>
                    </ng-template>


                </ng-select>
                <!--<button type="button" (click)="btnSearch()">
            Search
          </button>-->
            </div>
            <span *ngIf="headerData.userType !='Customer'" class="wlcome-admin mx-2">

        {{headerData != null ? headerData.userType : ""}}
        {{headerData != null && headerData.userType != "Super Admin" ? headerData.companyName : ""}}

      </span>
            <!--<p-autoComplete  #autocompletePanel [(ngModel)]="selectedData" placeholder="Search..." [suggestions]="filteredData" (completeMethod)="search($event)" [minLength]="1" field="name">

        <ng-template let-listdata pTemplate="item">
          <div class="country-item">

            <div>{{listdata.name}} <br /> {{listdata.tablename}}</div>
          </div>
        </ng-template>

      </p-autoComplete>-->




        </div>
    </div>


    <!--div class="header-center  ">
    <span *ngIf="headerData.userType !='Customer'">

      {{headerData != null ? headerData.userType : ""}} {{headerData != null ? headerData.companyName : ""}}

    </span>

  </div>-->

    <div class="header-right">
        <a href="javascript:;" id="menu-toggle-btn" (click)="isResponsiveMenu(e)" class="nav-responsive">
            <i class="feather-more-vertical"></i>
        </a>
        <ul [ngClass]="isrespoBtn ? 'header-menu nav navbar-nav' : 'header-menu nav navbar-nav restop-view'">

            <!-- BEGIN NOTIFICATION DROPDOWN -->
            <!--<li>{{connectionId}} <input type="text" name="name" #userId value="" /><button type="button" (click)="sendNotification()">Send</button> </li>-->
            <!-- <li (click)="manageDialer()">
       <button type="button"><i class="feather-phone-call"></i></button> -->

            <li>
                <!-- <b class="btn" title="login" href="javascript:void(0);"><i
style="background: #2b7dfa !important;"
class="feather-log-in" ></i></a> -->
                <!-- <button type="button">Go back to Admin<i class="feather-phone-call"></i></button> -->
                <!-- <a href="javascript:void(0);" class="btn btn-success mr-1"><i class="feather-save"></i> Submit</a> -->
                <div (click)="switchToAdmin()" *ngIf="isFromSuperAdmin=='true'" class="mt-1">
                    <a href="javascript:;" class="btn btn-primary"><i class="feather-repeat mr-1" ></i>Switch to Super Admin</a>
                </div>
            </li>

            <li class="lappy-search">
                <a href="javascript:;" role="button" class="" id="menu1" type="button" data-toggle="dropdown">
                    <i class="feather-search"></i>
                </a>
                <ul class="dropdown-menu" role="menu" aria-labelledby="menu1">
                    <!-- <li *ngIf="comptype.companyType!='companytypeFinancialInstitute' && headerData.userType!='Customer'">

                        <ng-select #ddlSearch [ngClass]="ddlselect" [items]="users$ | async" placeholder="Search..." [closeOnSelect]="true" (change)="OnChange($event)" (clear)="Clearddl()" (scrollToEnd)="onScrollToEnd()" [virtualScroll]="true" [typeahead]="typeahead" (keyup)="OnChange($event)"
                            [(ngModel)]="selectedData" bindLabel="name" bindValue="value">
                            <ng-template ng-option-tmp let-item="item" let-index="index" let-search="searchTerm" class="p-1">

                                <div class="card">
                                    <div class="card-body search_res p-2 smview">
                                        <a href="javascript:void(0);" class="smview" (click)="redirectToPage(item.link_name)">
                                            <span class="iconbx bg-info"><i class="{{item.icon}}"></i></span>
                                            <div class="search_des">
                                                <h5 class="text-truncate" [title]="item.data">{{item.data}}</h5>
                                                <p>{{item.type}}</p>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                            </ng-template>


                        </ng-select>
                    </li> -->
                </ul>
            </li>

            <li *ngIf="headerData.userType !='Customer'" class="call-dialer">
                <a href="#" role="button" data-toggle="modal" data-target="#mycallpopup">
                    <i class="feather-phone-call"></i>
                    <span class="pulse"></span>
                </a>
            </li>
            <li *ngIf="headerData.userType !='Customer'" class="full-screen">
                <a href="javascript:;" (click)="openFullscreen()">
                    <span *ngIf="!isFullScreen">
            <i class="feather-maximize"></i>
            <!--<i class="icon-fullscreen">
    <img src="../../../assets/images/expasnd.png" style="max-width: 18px; padding-top: 2px; float: left;" />
  </i>-->
          </span>
                    <span *ngIf="isFullScreen">
            <i class="feather-minimize"></i>
            <!--<i class="icon-fullscreen">
    <img src="../../../assets/images/exit-screen.png" style="max-width: 18px; padding-top: 2px; float: left;" />
  </i>-->
          </span>
                </a>
            </li>

            <li *ngIf="headerData.userType !='Customer'" class="dropdown" id="notifications-header">
                <a data-toggle="collapse" href="#notifications" role="button" aria-expanded="false" aria-controls="notifications">
                    <i class="icon-bell"></i>
                    <!--<span class="badge badge-danger badge-header">{{totalNotification}}</span>-->
                    <span class="pulse-danger"></span>
                </a>
                <ul class="dropdown-menu" id="notifications">
                    <li class="dropdown-header clearfix">
                        <p class="pull-left">{{totalNotification}} Pending Notifications</p>
                    </li>
                    <li>
                        <ul class="dropdown-menu-list withScroll" data-height="220">
                            <li *ngFor="let notification of notificationList">
                                <a href="javascript:void(0);" *ngIf="comptype.companyId!=1004" style="font-size:12px !important" (click)="onNotification(notification)">
                  io
                  <!--<i class="fa fa-star p-r-10 f-18 c-orange"></i>-->
                  {{onNotificationMessaeg(notification.Message)}}
                  <!--Steve have rated your photo
                  <span class="dropdown-time">Just now</span>-->
                </a>

                                <a href="javascript:void(0);" *ngIf="comptype.companyId ==1004" style="font-size:12px !important" (click)="onLoanHomiNotification(notification)">
                                    <!--<i class="fa fa-star p-r-10 f-18 c-orange"></i>-->
                                    {{notification.Message | truncate:50}}
                                    <!--Steve have rated your photo
                  <span class="dropdown-time">Just now</span>-->
                                </a>
                            </li>

                        </ul>
                    </li>

                    <li class="dropdown-footer clearfix">
                        <a [routerLink]="['/notifications']" class="pull-left">See all notifications</a>
                        <!--<a href="javascript:void(0);" class="pull-right">
              <i class="icon-settings"></i>
            </a>-->
                    </li>
                </ul>
            </li>
            <!-- END NOTIFICATION DROPDOWN -->
            <!-- BEGIN USER DROPDOWN -->
            <!--<li *ngIf="isSwitchCompany" class="swith-comp"><a href="javascript:void(0)" class="btn btn-dark form-btns" data-toggle="modal" data-target="#headerswtichuser"><span><i class="fa fa-sign-out"></i> Switch Company</span></a></li>-->
            <li class="dropdown" id="user-header">
                <a data-toggle="collapse" href="#myprofile" role="button" aria-expanded="false" aria-controls="myprofile">
                    <span class="user-pimg">
            <img src={{imageLink}} style="height:43px; width:45px; cursor:pointer" alt="user">
          </span>

                    <span class="username">{{username}}  <i class="fa fa-angle-down pl-2"></i><!-- <small>Admin</small>--></span>
                </a>
                <ul class="dropdown-menu" id="myprofile">
                    <li><a class="smview" routerLink="/myprofile"><i class="feather-user"></i><span>My Profile</span></a></li>
                    <li><a class="smview" routerLink="/changepassword"><i class="icon-lock"></i><span>Change Password</span></a></li>
                    <!--<li><a routerLink="/calendar"><i class="icon-calendar"></i><span>My Calendar</span></a></li>
          <li><a href="javascript:void(0);"><i class="icon-settings"></i><span>Account Settings</span></a></li>-->
                    <li>
                        <a href="javascript:void(0);" (click)="logout()" title="Sign Out"><i class="feather-power smview"></i><span>Sign Out</span></a>
                    </li>
                </ul>
            </li>
            <!-- END USER DROPDOWN -->
        </ul>
    </div>
    <!-- header-right -->
</div>
<app-notification-detail #notificationDetailModal1> </app-notification-detail>

<app-customer-header *ngIf="headerData?.userType =='Customer' && !mobileScreen"></app-customer-header>

<!-- <ng-container>
  <div>
    <app-voicecall #voiceCallPopup [CallOnLoad]="callOnLoad" [Default]="default" [Minimize]="minimize" [PhoneNo]="phoneNo" [PrimaryId]="primaryId" [RefId]="refId" ></app-voicecall>
  </div>
</ng-container> -->




<div class="modal fade" id="headerswtichuser" tabindex="-1" role="dialog" aria-labelledby="headerexampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-md modal-info switch-cpop" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="headerexampleModalLabel">Associated Companies</h4>
                <button #closeButton type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
            </div>
            <div class="modal-body">
                <div class="login-box-fields" [ngClass]="{'disabled':loadSave}">
                    <div class="card border-0">
                        <ul class="list-group list-group-flush multicompanylogin" *ngIf="headerData!=null && headerData !='undefined'">
                            <li class="list-group-item" *ngFor="let comp of lstheadercompany">
                                <a *ngIf='comp.CompanyName !== headerData.companyName' href="javascript:void(0);" title="Switch Company" (click)="updateToken(comp.CompanyId)">
                                    <!--<img src="{{comp.CompanyLogo}}" style="height:50px;width:60px;" />-->
                                    <span>{{comp.CompanyName}}</span>
                                </a>
                                <a *ngIf='comp.CompanyName == headerData.companyName' href="javascript:void(0);" class="selectedcompany" title="Switch Company">
                                    <!--<img src="{{comp.CompanyLogo}}" style="height:50px;width:60px;" />-->
                                    <span>{{comp.CompanyName}}</span>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>


        </div>
    </div>
    <app-loader [size]=60 [color]="'white'" *ngIf="loadSave" class="loader-popup"></app-loader>
    <!-- <app-mobile-sidebar #mobileSidebarmappingModalvalue></app-mobile-sidebar> -->
</div>