<div>
  <form [formGroup]="leadSettingForm" autocomplete="off">
    <div class="row" [ngClass]="{'disabled':loading}" style="align-items:center">
      <div class="col-lg-12"  *ngIf="comptype.companyType!='companytypeFinancialInstitute'">
        <label>Convert Object:<span class="text-danger">*</span> </label>
      </div>
      <div class="col-lg-12"  *ngIf="comptype.companyType!='companytypeFinancialInstitute'">
        <div class="form-group">
          <div class="custom-control custom-radio custom-control-inline p-0">
            <input id="loanapplicationId" (change)="loanapplication($event)" type="radio" value="LoanApplication" formControlName="IsLoanapplication">
            <label for="loanapplicationId" class="radio-label font-weight-normal">Loan Application</label>
          </div>
          <div class="custom-control custom-radio custom-control-inline p-0">
            <input id="opportunityId" type="radio" value="Opportunity" (change)="opportunity($event)" formControlName="IsLoanapplication">
            <label for="opportunityId" class="radio-label font-weight-normal">Opportunity</label>
          </div>
        </div>
      </div>
      <!--<div class="col-lg-12 ">
        <label>Related Object:<span class="text-danger">*</span> </label>
      </div>
      <div class="col-lg-12">
        <div class="form-group mt-2 d-inline mr-3">
          <label class="switch">
            <input type="checkbox" id="IsAccount" formControlName="IsAccount" /> <span class="slider round"><span>Yes</span></span>
          </label><label class="font-weight-normal">Account</label>
        </div>
        <div class="form-group mt-2 d-inline">
          <label class="switch">
            <input type="checkbox" id="IsContact" formControlName="IsContact" /> <span class="slider round"><span>Yes</span></span>
          </label><label class="font-weight-normal">Contact</label>
        </div>
      </div>-->



      <div class="table-responsive border" *ngIf="isLinkPage" style="overflow-x: auto;">

        <table id="example" class="table ">
          <thead class="thead-bg">
            <tr>
              <th style="min-width:200px" scope="col">Module Wizard</th>

              <th scope="col"></th>
            </tr>
          </thead>
          <tbody formArrayName="fields">
            <tr [formGroupName]="i" *ngFor="let field of fields.controls; let i=index">
              <td>
                <div class="form-group">
                  <ng-select [items]="lstpage" [closeOnSelect]="true" placeholder="Select Page " formControlName="linkPage" (change)="onChangeField($event,field,i)"
                             bindLabel="text" bindValue="value" [ngClass]="{'is-invalid': (field.controls.linkPage.invalid && (field.controls.linkPage.dirty || field.controls.linkPage.touched) && field.controls.linkPage.errors?.required) }"></ng-select>
                  <small *ngIf="field.controls.linkPage.invalid && (field.controls.linkPage.dirty || field.controls.linkPage.touched) && field.controls.linkPage.errors?.required"
                         style="color:red;">Please select Link Page</small>
                </div>
              </td>
              <td>
                <div class="form-group mb-0">
                  <a (click)="addFields()" class="btn btn-primary  mr-2" href="javascript:void(0);"><span><i class="feather-plus"></i> Add</span></a>
                  <a *ngIf="i > 0" href="javascript:void(0);" class="btn-edit" (click)="removeFields(i)"><i class="feather-trash-2 text-danger"></i></a>

                </div>
              </td>
            </tr>

          </tbody>
        </table>
      </div>


      <!--<div class="col-lg-12 px-0 text-right mt-2">
        <a (click)="addFields()" class="btn btn-primary  mr-2" href="javascript:void(0);"><span><i class="feather-plus"></i> Add</span></a>
        <a href="javascript:void(0);" (click)="filtersearch()" class="btn btn-success mr-2"><i class="feather-search pr-2"></i>Search</a>
        <a href="javascript:void(0);" (click)="close()" class="btn btn-danger"><i class="feather-x pr-2"></i>Cancel</a>

      </div>-->

      <div class="col-md-12 action-buttons mt-4 mb-3"> <a href="javascript:void(0)" class="btn btn-success mr-2" (click)="ManageLeadConfiguration()"><span><i class="feather-save"></i> Submit </span></a> <a href="javascript:void(0)" class="btn btn-danger "><span><i class="feather-x"></i>  Cancel</span></a> </div>
    </div>

  </form>
  <app-loader [size]=60 [color]="'white'" *ngIf="loadSave" class="loader"></app-loader>
</div>
