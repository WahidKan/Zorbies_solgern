
<div class="header float-left w-100 mb-2">
  <h2 class="float-left pr-2"><strong>{{Heading}}</strong></h2>
  <div class="breadcrumb-wrapper">
    <ol class="breadcrumb">
      <li>
        <a routerLink="/dashboard">Dashboard</a>
      </li>
      <li>
        <a routerLink="/task">Tasks</a>
      </li>
      <li class="active">{{breadcrum}}</li>
    </ol>
  </div>

</div>
<div class="clearfix"></div>
<div class="panel">
  <div class="panel-content ">
    <form [formGroup]="addForm" (ngSubmit)="addTask()">
      <div class="bank-box">
        <div class="row">
          <div class="col-12 col-md-6 col-lg-4">
            <label>New Task:*<span class="text-danger"></span></label>
            <div class="form-group">
              <input type="text" class="form-control" formControlName="newTask" maxlength="50" placeholder="Enter new task"
                     [ngClass]="{'is-invalid': (newTask.invalid && (newTask.dirty || newTask.touched) &&
                               (newTask.errors?.required || newTask.errors?.maxlength)) }">
              <small *ngIf="newTask.invalid && (newTask.dirty || newTask.touched) && newTask.errors?.required"
                     class="text-danger"> Task is required</small>
            </div>
          </div>
          <div class="col-12 col-md-6 col-lg-4">
            <label>Due Date:*<span class="text-danger"></span></label>
            <div class="form-group">
              <p-calendar formControlName="dueDate" placeholder="Select Due Date"
                          [showTime]="false"
                          dateFormat="mm/dd/yy" showButtonBar="true" [monthNavigator]="true"
                          [yearNavigator]="true" yearRange="1919:2030"
                          [ngClass]="{'is-invalid': (dueDate.invalid && (dueDate.dirty || dueDate.touched) &&
                        (dueDate.errors?.required || dueDate.errors?.maxlength)) }"> </p-calendar>
              <small *ngIf="dueDate.invalid && (dueDate.dirty || dueDate.touched) && dueDate.errors?.required"
                     class="text-danger"> Date is required</small>
            </div>
          </div>

          <div class="col-12 col-md-6 col-lg-4">
            <label>Due Time:*<span class="text-danger"></span></label>
            <div class="form-group">
              <p-calendar inputStyleClass="form-control start-date"
                          formControlName="dueTime" placeholder="Select Due Time"
                          [timeOnly]="true" inputId="timeonly"
                          [ngClass]="{'is-invalid': (dueTime.invalid && (dueTime.dirty || dueTime.touched) &&
                        (dueTime.errors?.required || dueTime.errors?.maxlength)) }"> </p-calendar>
              <small *ngIf="dueTime.invalid && (dueTime.dirty || dueTime.touched) && dueTime.errors?.required"
                     class="text-danger">Time  is required</small>
            </div>
          </div>
          <div class="col-12 col-md-6 col-lg-4">
            <label>Assigned User:*<span class="text-danger"></span></label>
            <div class="form-group">
              <ng-select #clearDrop [items]="lstActiveStatus"
                         placeholder="Select Assigned User"
                         formControlName="assignedUser"
                         bindValue="value" bindLabel="text"
                         [closeOnSelect]="true"
                         [ngClass]="{'is-invalid': (assignedUser.invalid && (assignedUser.dirty || assignedUser.touched) &&
                        (assignedUser.errors?.required || assignedUser.errors?.maxlength)) }"> </ng-select>
              <small *ngIf="assignedUser.invalid && (assignedUser.dirty || assignedUser.touched) && assignedUser.errors?.required"
                     class="text-danger"> User  is required</small>
              <!--<select >
        <option value="volvo">Hector Campus</option>
        <option value="saab">vinny Vek</option>

      </select>-->
            </div>
          </div>
          <div class="col-12 col-md-6 col-lg-4">
            <label>Status:*<span class="text-danger"></span></label>
            <div class="form-group">
              <ng-select #clearDrop [items]="lstStatus"
                         formControlName="status"
                         styleClass="prime-slider-override form-control"
                         placeholder="Select Status" bindValue="value" bindLabel="text"
                         [closeOnSelect]="true"
                         [ngClass]="{'is-invalid': (status.invalid && (status.dirty || status.touched) &&
                          (status.errors?.required || status.errors?.maxlength)) }"> </ng-select>
              <small *ngIf="status.invalid && (status.dirty || status.touched) && status.errors?.required"
                     class="text-danger"> Status  is required</small>
              <!--<select >
        <option value="volvo">Hector Campus</option>
        <option value="saab">vinny Vek</option>

      </select>-->
            </div>
          </div>
          <div class="col-12 col-md-6 col-lg-2">
            <div class="form-group">
              <label>Send Email:</label>
              <div class="form-control border-0 px-0">
                <label class="switch">
                  <input type="checkbox" checked="" id="address" formControlName="sendEmail">
                  <span class="slider round"><span>Yes</span></span>
                </label>
              </div>
            </div>
          </div>
          <div class="col-12 col-md-6 col-lg-2">
            <label>Send SMS:</label>
            <div class="form-control border-0 px-0">
              <label class="switch">
                <input type="checkbox" checked="" id="zipCode" formControlName="sendSms">
                <span class="slider round"><span>Yes</span></span>
              </label>
            </div>
          </div>
          <div class="col-12 col-md-12 col-lg-12 mb-3">
            <a *ngIf='addOrUpdatePermission' href="javascript:void(0);" type="submit" class="btn btn-success mr-2" (click)="addTask()">

              <i class="feather-save"></i> Submit
            </a>
            <a href="javascript:void(0);" class="btn btn-danger" (click)="Cancel()"><i class="fa fa-times"></i> Cancel</a>
          </div>
        </div>

      </div>
    </form>

  </div>

  <app-loader [size]=60 [color]="'white'" *ngIf="loadSave" class="loader"></app-loader>
</div>
