<div class="page">
  <!-- Breadcrumb-->
  <div class="breadcrumb-holder">
    <div class="container-fluid">
      <div class="row">
        <div class="col-md-9 mt-3" *ngIf="!isCustomer">
          <span class="dash">Manage Proposals</span>
          <ul class="breadcrumb">
            <li class="breadcrumb-item"><a routerLink="/dashboard">Dashboard</a></li>
            <li *ngIf="isContactPage" class="breadcrumb-item"><a routerLink="/contact">Manage Contacts</a></li>
            <li class="breadcrumb-item" style="cursor:pointer;"><a (click)="cancelForm()">Manage Proposals</a></li>
            <li class="breadcrumb-item active">{{pageTitle}}</li>
          </ul>
        </div>
        <div class="col-md-9 mt-3" *ngIf="isCustomer">
          <span class="dash">Proposal</span>
          <ul class="breadcrumb">
            <li class="breadcrumb-item"><a routerLink="/dashboard">Dashboard</a></li>
            <li class="breadcrumb-item" style="cursor:pointer;"><a routerLink="/lease">Proposal</a></li>
            <li class="breadcrumb-item active">{{pageTitle}}</li>
          </ul>
        </div>
        <div class="col-md-3 text-right mt-4">
          <button class="w-auto sw-100 btn btn-dark" (click)="cancelForm()"><i class="fa fa-arrow-left"></i>&nbsp;Back</button>
        </div>
      </div>
    </div>
  </div>
  <!-- Header Section-->
  <section class="dashboard-header section-padding">
    <div class="container-fluid">
      <div class="lease-box" [ngClass]="{'disabled':loadSave}">
        <div class="row d-flex align-items-md-stretch">
          <div class="col-12">
            <div class="bg-white border rounded pb-4">
              <div class="col-md-12 mt-4" *ngIf="!isEditLease && isNotCustomer">
                <div class="row">
                  <div class="col-6 col-md-6 col-lg-7">
                    <label>Find Contact</label>
                    <div class="form-group">
                      <app-search-as-type (onIdPicked)="fillForm($event)"></app-search-as-type>
                    </div>
                  </div>
                  <div class="col-6 col-md-6 col-lg-4" *ngIf="moduleContactPermission!==null && moduleContactPermission.roleModuleAddFlag">
                    <label>Or</label>
                    <div class="form-group">
                      <a routerLink="/contact/addcontact" class="btn btn-orange form-btns"><i class="feather-plus"></i>Add Contact</a>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-md-12 mt-4 all-btn" *ngIf="isEditLease && isOperationUser && (modulePermission!==null && modulePermission.roleModuleAddFlag || modulePermission!==null && modulePermission.roleModuleUpdateFlag)">
                <a href="javascript:void(0);" [ngClass]="IsReviewSupportingDoc ? 'btn btn-success mb-2' : 'btn btn-secondary mb-2'" data-toggle="modal" data-target="#exampleBtn1" (click)="displayContactdocs()" title="Review Supporting Document(s)"><i class="far fa-file-alt"></i><span>Review Supporting Document(s)</span></a>
                <a href="javascript:void(0);" [ngClass]="IsReviewLeaseDoc ? 'btn btn-success mb-2' : 'btn btn-secondary mb-2'" data-toggle="modal" data-target="#exampleBtn3" (click)="displayLeaseReviewdocs()" title="Review Lease Document(s)"><i class="far fa-file"></i><span>Review Proposal Document(s)</span></a>
                <a href="javascript:void(0);" [ngClass]="IsSendToBankApproval ? 'btn btn-success mb-2' : 'btn btn-secondary mb-2'" data-toggle="modal" data-target="#exampleBtn2" (click)="sendForBankApproval()" title="Send to Bank for Approval" *ngIf="isOperationUser"><i class="fa fa-share-square"></i><span>Send to Bank for Approval</span></a>
                <a href="javascript:void(0);" [ngClass]="IsGenerateLeaseDoc ? 'btn btn-success mb-2' : 'btn btn-secondary mb-2'" data-toggle="modal" data-target="#exampleBtn4" title="Generate Proposal Documentation" (click)="generatelease()"><i class="fas fa-chalkboard-teacher"></i><span>{{leaseDocumentTitle}}</span></a>
                <a *ngIf="LeasePreferredDocumentSignedBy === 'Wet Signature'" href="javascript:void(0);" [ngClass]="IsDownloadToPDFWet ? 'btn btn-success mb-2' : 'btn btn-secondary mb-2'" data-toggle="modal" data-target="#exampleBtn5" title="Upload Wet Signature Document" (click)="docpdfwetsig()">
                  <i class="far fa-file-pdf"></i><span>Upload Wet Signature Document</span>
                </a>
                <a href="javascript:void(0);" *ngIf="LeasePreferredDocumentSignedBy === 'DocuSign'" (click)="uploadDocuSign()" [ngClass]="IsSendToDocuSign ? 'btn btn-success mb-2' : 'btn btn-secondary mb-2'" data-toggle="modal" data-target="#exampleBtn10" title="Upload Signed Proposal Document"><i class="fas fa-file-signature"></i><span>{{UploadDocuSignTitle}}</span></a>
                <a href="javascript:void(0);" [ngClass]="IsReceiveInsuranceDocument ? 'btn btn-success mb-2' : 'btn btn-secondary mb-2'" title="Create Insurance Request" (click)="LeaseInsurance()"><i class="fas fa-file-export"></i><span>Create Insurance Request</span></a>
                <a href="javascript:void(0);" *ngIf="showEquipmentDiv" (click)="createTitleWorkRequest()" [ngClass]="IsReceivedVendordocument ? 'btn btn-success mb-2' : 'btn btn-secondary mb-2'" data-toggle="modal" data-target="#exampleBtn7" title="Create Title Work Request"><i class="far fa-copy"></i><span>Create Title Work Request</span></a>


                <!--<a *ngIf="type == 'Vehicle Lease' && additions2 == 0" href="javascript:void(0);" class="btn btn-secondary mb-2" title="UCC Filing"><i class="fas fa-tasks"></i><span>UCC Filing</span></a>-->
                <a *ngIf="additions2 != 0 || type=='Equipment Lease'" href="javascript:void(0);" (click)="uccFillingRequest()" [ngClass]="IsPrepareUCCFillingRequest ? 'btn btn-success mb-2' : 'btn btn-secondary mb-2'" data-toggle="modal" data-target="#exampleBtn12" title="UCC Filing"><i class="fas fa-tasks"></i><span>UCC Filing</span></a>





                <a href="javascript:void(0);" [ngClass]="IsCreateAmorSchedule ? 'btn btn-success mb-2' : 'btn btn-secondary mb-2'" title="Create Amortization Schedule"><i class="far fa-calendar-alt"></i><span>Create Amortization Schedule</span></a>
                <a href="javascript:void(0);" (click)="sendFundingPackageForBank()" [ngClass]="IsSendFundingPackToBank  ? 'btn btn-success mb-2' : 'btn btn-secondary mb-2'" data-toggle="modal" data-target="#exampleBtn11" title="Send Funding Package to Bank"><i class="fas fa-hotel"></i><span>Send Funding Package to Bank</span></a>

              </div>

              <div *ngIf="!isLeaseInsuranceRequest">
                <form [formGroup]="leaseForm" #f="ngForm">
                  <div class="col-md-12 mt-4">
                    <div class="panel-group accordian" id="accordion" role="tablist" aria-multiselectable="true">
                      <div class="panel panel-default mb-2" *ngIf="!showCustomer">
                        <div class="panel-heading" role="tab" id="headingOne">
                          <h4 class="panel-title mb-0">
                            <a class="collapsed" id="firstcollapse" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
                              BUSINESS INFORMATION - PROPOSAL REQUEST <small class="ml-2" *ngIf="contactCreatedOn">{{buissnessName}}</small>
                            </a>
                          </h4>
                        </div>
                        <div id="collapseOne" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
                          <div class="panel-body bg-light p-3">
                            <div class="row">
                              <div class="col-12 col-md-6 col-lg-4">
                                <label>Business Name:</label>
                                <div class="form-group">
                                  <input type="text" class="form-control" formControlName="contactBussinessName" maxlength="500" disabled>

                                </div>
                              </div>

                              <div class="col-12 col-md-6 col-lg-4">
                                <label>Business Tin:</label>
                                <div class="form-group">
                                  <p-inputMask styleClass="form-control" mask="99-9999999" placeholder="__-_______" formControlName="contactBussinessTIN" disabled="true">
                                  </p-inputMask>
                                </div>
                              </div>

                              <!--<div class="col-12 col-md-6 col-lg-4">
    <label>Business Tin:</label>
    <div class="form-group">
      <input type="text" class="form-control" formControlName="contactBussinessTIN" maxlength="200" disabled>
    </div>
  </div>-->
                              <div class="col-12 col-md-6 col-lg-4">
                                <label>Type of Company:</label>
                                <div class="form-group">
                                  <ng-select [items]="lstcompanyType"
                                             placeholder="Select Company Type" bindValue="value" bindLabel="text" formControlName="contactTypeOfCompany" [loading]="isLoading">
                                  </ng-select>
                                </div>
                              </div>

                              <div class="col-12 col-md-6 col-lg-4">
                                <label>Business Phone:</label>
                                <div class="form-group">
                                  <p-inputMask styleClass="form-control" mask="(999) 999-9999" formControlName="bussinessPhone" disabled="true" placeholder="(___) ___-____"></p-inputMask>
                                </div>
                              </div>

                              <!--<div class="col-12 col-md-6 col-lg-4">
    <label>Business Phone:</label>
    <div class="form-group">
      <input type="text" class="form-control" formControlName="bussinessPhone" maxlength="100" disabled>
    </div>
  </div>-->

                              <div class="col-12 col-md-12 col-lg-12">
                                <label class="m-label-s">CONTACT DETAIL:</label>
                                <hr size="4" class="mt-0 border-secondary">
                              </div>

                              <div class="col-12 col-md-6 col-lg-4">
                                <label>Contact Phone:</label>
                                <div class="form-group">
                                  <p-inputMask styleClass="form-control" mask="(999) 999-9999" formControlName="contactBussinessPhone" disabled="true" placeholder="(___) ___-____"></p-inputMask>
                                </div>
                              </div>

                              <!--<div class="col-12 col-md-6 col-lg-4">
                                <label>Contact Phone:</label>
                                <div class="form-group">
                                  <input type="text" class="form-control" formControlName="contactBussinessPhone" maxlength="100" disabled>

                                </div>
                              </div>-->

                              <div class="col-12 col-md-6 col-lg-4">
                                <label>Contact First Name:</label>
                                <div class="form-group">
                                  <input type="text" class="form-control" formControlName="contactFirstName" maxlength="100" disabled>

                                </div>
                              </div>
                              <div class="col-12 col-md-6 col-lg-4">
                                <label>Contact Last Name:</label>
                                <div class="form-group">
                                  <input type="text" class="form-control" formControlName="contactLastName" maxlength="100" disabled>
                                </div>
                              </div>


                              <div class="col-12 col-md-6 col-lg-4">
                                <label>Contact Position:</label>
                                <div class="form-group">
                                  <ng-select [items]="lstcontactPosition"
                                             placeholder="Select Contact Position" bindValue="value" bindLabel="text" formControlName="contactPosition" [loading]="isLoading">
                                  </ng-select>
                                </div>
                              </div>
                              <div class="col-12 col-md-6 col-lg-4">
                                <label>Contact Email:</label>
                                <div class="form-group">
                                  <input type="text" class="form-control" formControlName="contactEmail" maxlength="200" disabled>
                                </div>
                              </div>
                              <div class="col-12 col-md-6 col-lg-4">
                                <label>Social Security#:</label>
                                <div class="form-group">
                                  <p-inputMask styleClass="form-control" mask="999-99-9999" [disabled]="isContactSocialSecurityNumber" formControlName="contactSocialSecurityNumber" placeholder="___-__-____"></p-inputMask>
                                </div>
                              </div>

                              <div class="col-12 col-md-12 col-lg-12">
                                <label class="m-label-s">Business Mailing Address:</label>
                                <hr size="4" class="mt-0 border-secondary">
                              </div>

                              <div class="col-12 col-md-6 col-lg-4">
                                <label>Mailing Address</label>
                                <div class="form-group">
                                  <textarea class="form-control" formControlName="contactBussinessMailAddress" maxlength="1000" disabled></textarea>

                                </div>
                              </div>
                              <div class="col-12 col-md-6 col-lg-4">
                                <label>City:</label>
                                <div class="form-group">
                                  <input type="text" class="form-control" formControlName="contactMailAddressCity" maxlength="200" disabled>

                                </div>
                              </div>
                              <div class="col-12 col-md-6 col-lg-4">
                                <label>County:</label>
                                <div class="form-group">
                                  <input type="text" class="form-control" formControlName="contactMailAddressCounty" maxlength="500" disabled>

                                </div>
                              </div>
                              <div class="col-12 col-md-6 col-lg-4">
                                <label>State:</label>
                                <div class="form-group">
                                  <ng-select [items]="lstStates"
                                             placeholder="Select State" bindValue="value" bindLabel="text" formControlName="contactMailAddressState">
                                  </ng-select>
                                </div>
                              </div>
                              <div class="col-12 col-md-6 col-lg-4">
                                <label>Zip:</label>
                                <div class="form-group">
                                  <input type="text" class="form-control" formControlName="contactMailAddressZip" maxlength="50" disabled>

                                </div>
                              </div>


                              <div class="col-12 col-md-12 col-lg-12">
                                <label class="m-label-s">Business Physical Address:</label>
                                <hr size="4" class="mt-0 border-secondary">
                              </div>

                              <div class="col-12 col-md-6 col-lg-4">
                                <div class="custom-checkbox">
                                  <label class="mr-3">Physical Address</label>
                                </div>
                                <div class="form-group">
                                  <textarea class="form-control" formControlName="contactBussinessPhysicalAddress" maxlength="1000" disabled></textarea>

                                </div>
                              </div>
                              <div class="col-12 col-md-6 col-lg-4">
                                <label>City:</label>
                                <div class="form-group">
                                  <input type="text" class="form-control" formControlName="contactPhysicalAddressCity" maxlength="200" disabled>

                                </div>
                              </div>
                              <div class="col-12 col-md-6 col-lg-4">
                                <label>County:</label>
                                <div class="form-group">
                                  <input value="" class="form-control" type="text" placeholder="" formControlName="contactPhysicalAddressCounty" maxlength="50" disabled>
                                </div>
                              </div>

                              <div class="col-12 col-md-6 col-lg-4">
                                <label>State:</label>
                                <div class="form-group">
                                  <ng-select [items]="lstStates"
                                             placeholder="Select State" bindValue="value" bindLabel="text" formControlName="contactPhysicalAddressState" disabled>
                                  </ng-select>
                                </div>
                              </div>

                              <div class="col-12 col-md-6 col-lg-4">
                                <label>Zip:</label>
                                <div class="form-group">
                                  <input type="text" class="form-control" formControlName="contactPhysicalAddressZip" maxlength="50" disabled>

                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>

                      <div class="panel panel-default mb-2" *ngIf="!showCustomer">
                        <div class="panel-heading" role="tab" id="headingTwo">
                          <h4 class="panel-title mb-0">
                            <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                              GUARANTOR INFORMATION <!--<small class="ml-2 btn-orange p-2" onclick="location.href='#'"><i class="feather-plus mr-1 "></i> Add More</small>-->
                            </a>
                          </h4>
                        </div>
                        <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
                          <div formArrayName="guarantors" class="panel-body bg-light p-3">
                            <div *ngFor="let guarantor of guarantors.controls; let i=index">
                              <div [formGroupName]="i" class="border p-3 mb-4 bg-white">
                                <guarantor [group]="leaseForm.controls.guarantors.controls[i]" [states]="lstStates" [isDisabled]="disabled"></guarantor>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>


                      <div class="panel panel-default mb-2" *ngIf="!showCustomer">
                        <div class="panel-heading" role="tab" id="headingTwo">
                          <h4 class="panel-title mb-0">
                            <a class="collapsed" role="button" data-toggle="collapse" id="threecollapse" data-parent="#accordion" href="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                              VENDOR INFORMATION
                            </a>
                          </h4>
                        </div>
                        <div id="collapseThree" class="panel-collapse collapse {{showthree}}" role="tabpanel" aria-labelledby="headingThree">
                          <div class="panel-body bg-light p-3">
                            <vendor-details (onIdPicked)="setVendorID($event)" (onIdPickedVendorEmailId)="setVendorEmailId($event)"
                                            [vendorId]="vendorId"></vendor-details>
                          </div>
                        </div>
                      </div>

                      <div class="panel panel-default mb-2" *ngIf="!showCustomer">
                        <div class="panel-heading" role="tab" id="headingFour">
                          <h4 class="panel-title mb-0">
                            <a role="button" class="collapsed" id="fourcollapse" data-toggle="collapse" data-parent="#accordion" href="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                              PROPOSAL INFORMATION
                            </a>
                          </h4>
                        </div>
                        <div id="collapseFour" class="panel-collapse collapse {{showfour}}" role="tabpanel" aria-labelledby="headingFour">
                          <div formArrayName="leases" class="panel-body bg-light p-3">
                            <div *ngFor="let lease of leases.controls; let i=index">
                              <div [formGroupName]="i">
                                <leaseform [group]="leaseForm.controls.leases.controls[i]" [isLeaseDocumentPrefrered]="IsLeaseDocumentPrefrered"
                                           [isUCCFilling]="leaseForm.controls.leases.controls[i].get('isLeaseUCCFilling').value" [states]="lstStates" [banks]="lstBanks" [customerHideTag]="customerHideTag" [showHideTag]="showHideTag" [templates]="templateList"
                                           [IsLanderAgree]="IsLanderAgree" [insurance]="lstInsurance" [isEditLease]="isEditLease"
                                           [ContactPreferredDocumentSignedBy]="ContactPreferredDocumentSignedBy"
                                           [bankUserName]="bankUserName" [leaseID]="leaseID">

                                </leaseform>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>

                      <div class="panel panel-default mb-2" *ngIf="showCustomer">
                        <div class="panel-heading" role="tab" id="headingFour">
                          <h4 class="panel-title mb-0">
                            <a role="button" class="collapsed" id="fourcollapse" data-toggle="collapse" data-parent="#accordion" href="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                              GENERAL PROPOSAL INFORMATION
                            </a>
                          </h4>
                        </div>
                        <div id="collapseFour" class="panel-collapse collapse {{showfour}}" role="tabpanel" aria-labelledby="headingFour">
                          <div formArrayName="leases" class="panel-body bg-light p-3">
                            <div *ngFor="let lease of leases.controls; let i=index">
                              <div [formGroupName]="i">
                                <leaseform [group]="leaseForm.controls.leases.controls[i]" [isLeaseDocumentPrefrered]="IsLeaseDocumentPrefrered"
                                           [isUCCFilling]="leaseForm.controls.leases.controls[i].get('isLeaseUCCFilling').value" [states]="lstStates" [banks]="lstBanks" [customerHideTag]="customerHideTag" [showHideTag]="showHideTag" [templates]="templateList"
                                           [IsLanderAgree]="IsLanderAgree" [insurance]="lstInsurance" [isEditLease]="isEditLease"
                                           [ContactPreferredDocumentSignedBy]="ContactPreferredDocumentSignedBy"
                                           [bankUserName]="bankUserName" [leaseID]="leaseID">

                                </leaseform>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>

                      <div class="panel panel-default mb-2" *ngIf="leaseID!=null">
                        <div class="panel-heading" role="tab" id="headingFive">
                          <h4 class="panel-title mb-0">
                            <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
                              <span *ngIf="isBankUser">PROPOSAL DOCUMENTS</span>
                              <span *ngIf="!isBankUser"> UPLOAD/VIEW DOCUMENTS </span>
                            </a>
                          </h4>
                        </div>
                        <div id="collapseFive" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingFive">
                          <div class="panel-body bg-light pt-3 pl-1">
                            <app-upload [contactId]="leaseID" [prefixNameOfDocument]="LeaseNum" calledFrom="lease"
                                        [reloadPage]="IsReload"></app-upload>
                          </div>
                        </div>
                      </div>
                      <div class="col-12" *ngIf="isBankUser">

                      </div>
                      <div class="col-12" *ngIf="isBankUser">
                        <div class="form-group">
                          <div class="custom-control custom-checkbox">
                            <input class="custom-control-input" id="ContactLenderAgree" (change)="setLenderAgree($event)" type="checkbox" formControlName="ContactLenderAgree" />

                            <label class="custom-control-label" for="ContactLenderAgree">
                              <p>By clicking here, <b>{{bankName}}</b> agree to purchase and fund Proposal upon receipt of Proposal Funding Package .</p>
                            </label>
                          </div>
                        </div>
                      </div>
                    </div>
                    </div>
                  <div class="col-md-12">
                    <a href="javascript:void(0);" *ngIf="addOrUpdatePermission && !isBankUser && !isCustomer" class="btn btn-primary form-btns" (click)="saveLeaseDetails()"><i class="feather-save"></i> Submit</a>
                    <a href="javascript:void(0);" class="btn btn-primary form-btns" (click)="displayContactdocs()" *ngIf="isBankUser"><i class="fas fa-eye"></i> Review Supporting Documentation</a>
                    <a href="javascript:void(0);" class="btn btn-primary form-btns" (click)="ApproveLease()" *ngIf="isBankUser && addOrUpdateBankPermission && UpdateBankUserPermission"><i class="feather-save"></i> Approve Proposal for Purchase</a>
                    <a href="javascript:void(0);" class="btn btn-danger form-btns" (click)="cancelForm()"><i class="fa fa-times"></i> Cancel</a>
                    <a href="javascript:void(0);" *ngIf="isOperationUser==true && IsDeleteLease==true"
                       class="btn btn-danger form-btns" (click)="DeleteLease()"><i class="fas fa-trash-alt"></i>Delete Proposal</a>
                  </div>
                </form>
              </div>

              <div id="divpreviewinsreq" *ngIf="isLeaseInsuranceRequest">
                <form [formGroup]="leaseInsuranceForm">
                  <div class="col-md-12 mt-4">
                    <div class="row mt-3">
                      <div class="col-12 mb-2">
                        <h3 class="heading">Proposal Insurance Request</h3>
                      </div>
                      <div class="col-12 p-0">
                        <div class="col-12 col-md-6 col-lg-4">
                          <label>Insurance Company Name:<span class="text-danger">*</span></label>
                          <div class="form-group">
                            <ng-select [items]="leaseInsuranceData" [closeOnSelect]="true" placeholder="Select Insurance Company Name" formControlName="name" (change)="setLeaseInsuranceDetails($event)"
                                       bindLabel="text" bindValue="value"
                                       [ngClass]="{'is-invalid': (name.invalid && (name.dirty || name.touched) && name.errors?.required) }"></ng-select>
                            <small *ngIf="name.invalid && (name.dirty || name.touched) && name.errors?.required"
                                   style="color:red;">Insurance company name is required</small>
                            <label class="text-danger">Please select insurance company name. Below information will get automatically filled on selecting insurance company name from above selection.</label>

                          </div>
                        </div>
                      </div>
                      <div class="col-12 col-md-6 col-lg-4">
                        <label>Insurance Agent Name:</label>
                        <div class="form-group">
                          <input type="text" class="form-control" formControlName="agentName" disabled>
                        </div>
                      </div>
                      <div class="col-12 col-md-6 col-lg-4">
                        <label>Insurance Agent Email:</label>
                        <div class="form-group">
                          <input type="text" class="form-control" formControlName="agentEmail" disabled />
                        </div>
                      </div>
                      <!--<div class="col-12 col-md-6 col-lg-4">
    <label>Insurance Phone:</label>
    <div class="form-group">
      <input type="text" class="form-control" formControlName="phone" disabled />
    </div>
  </div>-->
                      <div class="col-12 col-md-6 col-lg-4">
                        <label>Insurance Phone:</label>
                        <div class="form-group">
                          <p-inputMask styleClass="form-control" mask="(999) 999-9999" formControlName="phone" disabled="true" placeholder="(___) ___-____"></p-inputMask>
                        </div>
                      </div>
                      <div class="col-12 col-md-12 col-lg-12">
                        <label class="m-label-s">Insurance Company Address:</label>
                        <hr size="4" class="mt-0 border-secondary">
                      </div>
                      <div class="col-12 col-md-6 col-lg-4">
                        <label>Address:</label>
                        <div class="form-group">
                          <textarea type="text" class="form-control" formControlName="address" disabled></textarea>
                        </div>
                      </div>
                      <div class="col-12 col-md-6 col-lg-4">
                        <label>City:</label>
                        <div class="form-group">
                          <input type="text" class="form-control" formControlName="city" disabled>
                        </div>
                      </div>
                      <div class="col-12 col-md-6 col-lg-4">
                        <label>County:</label>
                        <div class="form-group">
                          <input type="text" class="form-control" formControlName="county" disabled>
                        </div>
                      </div>
                      <div class="col-12 col-md-6 col-lg-4">
                        <label>State:</label>
                        <div class="form-group cus-arrow">
                          <input type="text" class="form-control" formControlName="stateName" disabled>
                        </div>
                      </div>
                      <div class="col-12 col-md-6 col-lg-4">
                        <label>Zip Code:</label>
                        <div class="form-group">
                          <input type="text" class="form-control" formControlName="zipCode" disabled>
                        </div>
                      </div>


                      <!--Lease Information Tab Starts Here-->


                      <div class="col-12 mb-2">
                        <h3 class="heading">Proposal Information</h3>
                      </div>


                      <div class="col-12 col-md-6 col-lg-4">
                        <label>Proposal Number:</label>
                        <div class="form-group">
                          <input type="text" class="form-control" formControlName="leaseNumber" disabled>
                        </div>
                      </div>
                      <div class="col-12 col-md-6 col-lg-4">
                        <label>Bank Name:</label>
                        <div class="form-group">
                          <input type="text" class="form-control" formControlName="bankName" disabled>
                        </div>
                      </div>
                      <div class="col-12 col-md-6 col-lg-4">
                        <label>Use Type:</label>
                        <div class="form-group">
                          <input type="text" class="form-control" formControlName="leaseUseType" disabled>
                        </div>
                      </div>
                      <div class="col-12 col-md-6 col-lg-4">
                        <label>Proposal Type:</label>
                        <div class="form-group">
                          <input type="text" class="form-control" formControlName="leaseType" disabled>
                        </div>
                      </div>
                      <div class="col-12 col-md-12 col-lg-12">
                        <label>Collateral Information (Year, Make, Model):</label>
                        <div class="form-group">
                          <textarea class="form-control" formControlName="collateralInformation" disabled></textarea>
                        </div>
                      </div>
                      <div class="col-12 col-md-6 col-lg-4">
                        <label>VIN or Serial Number:</label>
                        <div class="form-group">
                          <input class="form-control" type="text" formControlName="leaseVINSerialNumber" maxlength="25" disabled>
                        </div>
                      </div>
                      <div class="col-12 col-md-6 col-lg-4">
                        <label>Date of Proposal:</label>
                        <div class="form-group">
                          <input class="form-control start-date" dateFormat="mm/dd/yy" formControlName="leaseDate" disabled />
                        </div>
                      </div>
                      <div class="col-12 col-md-6 col-lg-4">
                        <label>Maturity Date:</label>
                        <div class="form-group">
                          <input class="form-control start-date" dateFormat="mm/dd/yy" formControlName="leaseMaturityDate" disabled />
                        </div>
                      </div>
                      <div class="col-12 col-md-12 col-lg-12">
                        <label class="m-label-s">CONTACT DETAIL:</label>
                        <hr size="4" class="mt-0 border-secondary">
                      </div>
                      <div class="col-12 col-md-6 col-lg-4">
                        <label>Business Name:</label>
                        <div class="form-group">
                          <input type="text" class="form-control" formControlName="contactBussinessName" maxlength="500" disabled />
                        </div>
                      </div>

                      <div class="col-12 col-md-6 col-lg-4">
                        <label>Business Tin:</label>
                        <div class="form-group">
                          <p-inputMask styleClass="form-control" mask="99-9999999" formControlName="contactBussinessTIN" placeholder="__-_______" disabled="true">
                          </p-inputMask>
                        </div>
                      </div>

                      <!--<div class="col-12 col-md-6 col-lg-4">
    <label>Business Tin:</label>
    <div class="form-group">
      <input type="text" class="form-control" formControlName="contactBussinessTIN" maxlength="9" disabled />
    </div>
  </div>-->
                      <!--<div class="col-12 col-md-6 col-lg-4">
    <label>Business Phone:</label>
    <div class="form-group">
      <input type="text" class="form-control" formControlName="bussinessPhone" maxlength="100" disabled />
    </div>
  </div>-->
                      <div class="col-12 col-md-6 col-lg-4">
                        <label>Business Phone:</label>
                        <div class="form-group">
                          <p-inputMask styleClass="form-control" mask="(999) 999-9999" formControlName="bussinessPhone" disabled="true" placeholder="(___) ___-____"></p-inputMask>
                        </div>
                      </div>

                      <!--<div class="col-12 col-md-6 col-lg-4">
                        <label>Contact Phone:</label>
                        <div class="form-group">
                          <input type="text" class="form-control" formControlName="contactBussinessPhone" maxlength="100" disabled />
                        </div>
                      </div>-->

                      <div class="col-12 col-md-6 col-lg-4">
                        <label>Contact Phone:</label>
                        <div class="form-group">
                          <p-inputMask styleClass="form-control" mask="(999) 999-9999" formControlName="contactBussinessPhone" disabled="true" placeholder="(___) ___-____"></p-inputMask>
                        </div>
                      </div>

                      <div class="col-12 col-md-6 col-lg-4">
                        <label>Contact First Name:</label>
                        <div class="form-group">
                          <input type="text" class="form-control" formControlName="contactFirstName" maxlength="100" disabled />
                        </div>
                      </div>
                      <div class="col-12 col-md-6 col-lg-4">
                        <label>Contact Last Name:</label>
                        <div class="form-group">
                          <input type="text" class="form-control" formControlName="contactLastName" maxlength="100" disabled />
                        </div>
                      </div>
                      <div class="col-12 col-md-6 col-lg-4">
                        <label>Contact Position:</label>
                        <div class="form-group">
                          <input type="text" class="form-control" formControlName="contactPosition" maxlength="100" disabled />
                        </div>
                      </div>
                      <div class="col-12 col-md-12 col-lg-12">
                        <label class="m-label-s">Business Mailing Address:</label>
                        <hr size="4" class="mt-0 border-secondary">
                      </div>
                      <div class="col-12 col-md-6 col-lg-4">
                        <label>Mailing Address:</label>
                        <div class="form-group">
                          <textarea class="form-control" formControlName="contactBussinessMailAddress" maxlength="1000" disabled></textarea>
                        </div>
                      </div>
                      <div class="col-12 col-md-6 col-lg-4">
                        <label>City:</label>
                        <div class="form-group">
                          <input type="text" class="form-control" formControlName="contactMailAddressCity" maxlength="200" disabled />
                        </div>
                      </div>
                      <div class="col-12 col-md-6 col-lg-4">
                        <label>County:</label>
                        <div class="form-group">
                          <input type="text" class="form-control" formControlName="contactMailAddressCounty" maxlength="500" disabled />
                        </div>
                      </div>
                      <div class="col-12 col-md-6 col-lg-4">
                        <label>State:</label>
                        <div class="form-group">
                          <input type="text" class="form-control" formControlName="contactMailAddressState" maxlength="500" disabled />
                        </div>
                      </div>
                      <div class="col-12 col-md-6 col-lg-4">
                        <label>Zip:</label>
                        <div class="form-group">
                          <input type="text" class="form-control" formControlName="contactMailAddressZip" disabled />
                        </div>
                      </div>
                      <div class="col-12 col-md-12 col-lg-12">
                        <label class="m-label-s">Business Physical Address:</label>
                        <hr size="4" class="mt-0 border-secondary">
                      </div>
                      <div class="col-12 col-md-6 col-lg-4">
                        <div class="custom-checkbox">
                          <label class="mr-3">Physical Address:</label>
                        </div>
                        <div class="form-group">
                          <textarea class="form-control" formControlName="contactBussinessPhysicalAddress" maxlength="1000" disabled></textarea>
                        </div>
                      </div>
                      <div class="col-12 col-md-6 col-lg-4">
                        <label>City:</label>
                        <div class="form-group">
                          <input type="text" class="form-control" formControlName="contactPhysicalAddressCity" maxlength="200" disabled />
                        </div>
                      </div>
                      <div class="col-12 col-md-6 col-lg-4">
                        <label>County:</label>
                        <div class="form-group">
                          <input value="" class="form-control" type="text" formControlName="contactPhysicalAddressCounty" disabled />
                        </div>
                      </div>
                      <div class="col-12 col-md-6 col-lg-4">
                        <label>State:</label>
                        <div class="form-group">
                          <input class="form-control" type="text" formControlName="contactPhysicalAddressState" disabled />
                        </div>
                      </div>
                      <div class="col-12 col-md-6 col-lg-4">
                        <label>Zip:</label>
                        <div class="form-group">
                          <input type="text" class="form-control" formControlName="contactPhysicalAddressZip" maxlength="50" disabled />
                        </div>
                      </div>

                      <div class="col-12">
                        <a href="javascript:void(0);" (click)="previewInsuranceRequest(leaseInsurance)" class="btn btn-primary form-btns" data-toggle="modal" data-target="#insurancerequest"><i class="fas fa-eye"></i> Preview &amp; Submit</a>
                      </div>

                      <div class="col-12">
                        <ng-template #leaseInsurance>
                          <div class="modal-header">
                            <h4 class="modal-title" id="exampleModalLabel">Insurance Request Preview</h4>
                            <button type="button" class="close" data-dismiss="modal" (click)="modalRef.hide()" aria-label="Close">
                              <span aria-hidden="true">×</span>
                            </button>
                          </div>
                          <div class="modal-body" style="overflow:auto; margin-bottom:10px;">

                            <div class="row">
                              <div class="col-md-12">

                                <h4 class="modal-title">INSURED</h4>
                                <div class="cus-reply rounded-0 text-capitalize mt-2">
                                  {{leaseInsuranceForm.controls.contactBussinessName.value }} ,<br />
                                  {{leaseInsuranceForm.controls.contactBussinessMailAddress.value }},
                                  {{leaseInsuranceForm.controls.contactMailAddressCity.value }}
                                  {{leaseInsuranceForm.controls.contactMailAddressState.value }},<br />
                                  {{leaseInsuranceForm.controls.contactMailAddressZip.value }}
                                </div>
                              </div>
                              <div class="col-md-12">
                                <h4 class="modal-title">LOSS PAYEE</h4>
                                <div class="cus-reply rounded-0 text-capitalize mt-2">
                                  {{leaseInsuranceForm.controls.bankName.value}},<br />
                                  {{leaseInsuranceForm.controls.bankAddress.value}},
                                  {{leaseInsuranceForm.controls.bankCity.value}}
                                  {{leaseInsuranceForm.controls.bankStateName.value}},<br />
                                  {{leaseInsuranceForm.controls.bankZipCode.value}}
                                </div>
                              </div>

                              <div class="col-md-12">
                                <h4 class="modal-title">ADDITIONAL INSURED & CO-LOSS PAYEE</h4>
                                <div class="cus-reply rounded-0 text-capitalize mt-2">
                                  <div [innerHTML]="htmlStr"></div>
                                </div>
                              </div>

                              <div class="col-md-12">
                                <h4 class="modal-title">VEHICLE INFORMATION </h4>
                                <div class="table-responsive mt-2">
                                  <table class="table table-bordered table-striped">
                                    <tbody>
                                      <tr>
                                        <td> <label>DESCRIPTION:</label></td>
                                        <td class="cus-reply rounded-0 text-capitalize"> {{leaseInsuranceForm.controls.collateralInformation.value}}</td>
                                      </tr>
                                      <tr>
                                        <td> <label>VIN:</label></td>
                                        <td class="cus-reply rounded-0 text-capitalize">{{leaseInsuranceForm.controls.leaseVINSerialNumber.value}}</td>
                                      </tr>
                                      <tr>
                                        <td> <label>MATURITY DATE:</label></td>
                                        <td class="cus-reply rounded-0 text-capitalize">{{leaseInsuranceForm.controls.leaseMaturityDate.value}}</td>
                                      </tr>
                                      <tr>
                                        <td> <label>COST({{this.commonService.GetCurrency()}}):</label></td>
                                        <td class="cus-reply rounded-0 text-capitalize ">{{leaseInsuranceForm.controls.leaseEquipmentCost.value}}</td>
                                      </tr>
                                    </tbody>
                                  </table>
                                  <div>
                                    <p>
                                      Please click here to Login and upload Insurance Certificate. Please find the credentials below to log into the Solgen Portal:<br />
                                      Username : {{leaseInsuranceForm.controls.agentEmail.value}}<br />
                                      Password : <b>**************</b>
                                    </p>
                                  </div>
                                  <div class="w-100">
                                    <h4 class="modal-title mb-3">Thank you and please call if you have any questions.</h4>
                                    <p class="text-center"> 1190 N Carroll Ave, Southlake Texas 76092<br /> 817-251-0003</p>
                                  </div>
                                </div>
                              </div>

                            </div>
                          </div>
                          <div class="modal-footer">
                            <button type="submit" class="btn btn-primary form-btns" data-dismiss="modal" aria-label="Close" (click)="saveInsuranceRequestPreview()"><i class="feather-save"></i> Submit</button>
                            <button type="submit" class="btn btn-danger form-btns" data-dismiss="modal" aria-label="Close" (click)="modalRef.hide()"><i class="fa fa-times text-white"></i> Cancel</button>
                          </div>

                          <app-loader [size]=60 [color]="'white'" *ngIf="loadSave" class="loader-popup"></app-loader>
                        </ng-template>
                      </div>
                    </div>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <app-loader [size]=60 [color]="'white'" *ngIf="loadSave" class="loader"></app-loader>
</div>

<app-upload-docu-sign #uploadSign (uploadDocu)="uploadDocuSigned()"></app-upload-docu-sign>
<app-leasecontactdocs #leasecontactDocModal (leaveReviewSupportingDocView)="updateReviewSupportingDocStatus()"></app-leasecontactdocs>
<app-leasedocs #leaseDocModal></app-leasedocs>
<app-leasereviewdocs #leasereviewdocsModal (leaveReviewDocView)="updateReviewLeaseDocStatus()"></app-leasereviewdocs>
<app-bankapproval #leasebankApprovalModal (leaveSendTobankApprovalDocView)="updateSendToBankApprovalStatus()"></app-bankapproval>
<app-generateleaseform #generateleaseModal (leaveGenerateLeasePDF)="UpdateGenerateLeaseStatus()"></app-generateleaseform>
<app-docpdfforwetsig #docpdfforwetsigModal (leaveWeightSignaturetDocView)="UpdateWeightSignatureStatus()"></app-docpdfforwetsig>
<app-leasedocspdfview #leasedocspdfviewModal (leasedocspdf)="UpdateleasedocspdfStatus()"></app-leasedocspdfview>
<app-fundingpackagetobank #leasefundingPackageTobankModal (leavefundingPackageApprovalDocView)="UpdateFundingPackageStatus()"></app-fundingpackagetobank>
<app-titleworkrequest #leaseTitleWorkRequestModal (leaveTitleRequestDocView)="UpdateTitleRequestStatus()"></app-titleworkrequest>
<app-creditscoredetail #leaseCreditScoreModal (leavecreditscoreDocView)="UpdateCreditScoreStatus()"></app-creditscoredetail>
<app-prepare-ucc-filling #prepareUCC (uccFilling)="prepreUccFilling()"></app-prepare-ucc-filling>
