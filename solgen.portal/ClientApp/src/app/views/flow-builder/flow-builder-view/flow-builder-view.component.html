
<div class="header float-left w-100 mb-2 d-flex">
    <div class="col-md-6 pl-0">
      <h2 class="float-left pr-2 w-100"><strong>{{pageTitle}}</strong></h2>
      <div class="breadcrumb-wrapper w-100">
        <ol class="breadcrumb">
          <li><a routerLink="/dashboard">Dashboard</a></li>
          <li class="smview" routerLink="/automation-flow">Manage Automation Flow</li>
          <li class="active">{{pageTitle}}</li>
        </ol>
      </div>
    </div>
    <div class="col-md-6 text-right right pr-0">
      <a href="javascript:;" class="btn btn-primary" data-toggle="modal" data-target="#headerswtichuser"><i class="feather-log-in mr-1" ></i>Switch Company</a>
    </div>
  </div>
<div class="clearfix"></div>
<div class="card mb-4 border">
    <div class="row justify-content-between  text-capitalize p-3 font-weight-bold border-bottom heading-above-subhead" style="height: 70px">
        <div class="col-6">
            <a href="javascript:;" class="btn btn-light btn btn-outline-dark mr-2" (click)="undo()">
                <span><i class="fa fa-undo"></i></span>
            </a>
            <a href="javascript:;" class="btn btn-light btn btn-outline-dark mr-2" (click)="redo()">
                <span><i class="feather-repeat"></i></span>
            </a>
            <a href="javascript:;" class="btn btn-warning  mr-2" (click)="cloneNode()">
                <span><i class="fa fa-clone"></i></span>
            </a>
        </div>
        <div class="col-6">
            <span class="cntnt-right-btn mr15 btn-iconres">
          <a href="javascript:;"  class="btn btn-secondary mr-2" (click)="showResourceListingModal()">
            <i class="feather-user mr-1"></i> Manage Resource
          </a>
          <a href="javascript:;"  class="btn btn-success mr-2" (click)="showSave()">
            <i class="feather-save mr-1"></i> Save
          </a>
         </span>
        </div>
    </div>

    <!-- <span class="text-capitalize p-3 font-weight-bold border-bottom heading-above-subhead" style="height: 70px">
      <span class="cntnt-right-btn mr15 btn-iconres">
        <a href="javascript:;"  class="btn btn-secondary mr-2" (click)="showResourceListingModal()">Manage Resource</a>
        <a href="javascript:;"  class="btn btn-success mr-2" (click)="showSave()">Save</a>
      </span>
    </span> -->
</div>

<div class="clearfix"></div>
<form [formGroup]="flowAutomationForm">
    <div class="control-section">
        <div style="width: 100%">
            <div class="sb-mobile-palette-bar">
                <div id="palette-icon" style="float: right;" role="button" class="e-ddb-icons1 e-toggle-palette"></div>
            </div>
            <div style="overflow-y: auto; max-height:  718px;" id="palette-space" class="sb-mobile-palette">
                <ejs-symbolpalette id="symbolpalette" [expandMode]='expandMode' [palettes]='palettes' height="718px" [symbolHeight]=80 [symbolWidth]=80 [symbolMargin]='symbolMargin' [getSymbolInfo]='getSymbolInfo' [getNodeDefaults]='getSymbolDefaults'>
                </ejs-symbolpalette>
            </div>
            <div id="diagram-space" class="sb-mobile-diagram">
                <div class="content-wrapper">
                    <!-- [selectedItems]='selectedItems' -->
                    <ejs-diagram class="preventHighlight" [commandManager]="commandManager" (selectionChange)="selectionChange($event)" (collectionChange)="collectionChange($event)" [nodes]="nodes" [connectors]="connectors" style="background-color: white !important; " #diagram
                        id="diagram" (doubleClick)="doubleClick($event)" width="100%" height="718px" [getCustomTool]='getCustomTool' [selectedItems]='selectedItems' [snapSettings]='snapSettings' (created)="created($event)" [getConnectorDefaults]='connDefaults'
                        [getNodeDefaults]='nodeDefaults' (dragEnter)="dragEnter($event)">
                    </ejs-diagram>
                </div>
            </div>
        </div>
    </div>
</form>
<app-flow-type-selection [title]="title" (valueChange)="selectedType($event)" #FlowTypeSelection></app-flow-type-selection>
<app-screen [form]="flowAutomationForm" #screen></app-screen>
<app-action [form]="flowAutomationForm" #action></app-action>
<app-subflow [form]="flowAutomationForm" #subFlow></app-subflow>
<app-assign [form]="flowAutomationForm" #assign></app-assign>
<app-decision [form]="flowAutomationForm" #decision></app-decision>
<app-loop [form]="flowAutomationForm" #loop></app-loop>
<app-sort [form]="flowAutomationForm" #sort></app-sort>
<app-create [form]="flowAutomationForm" #create></app-create>
<app-update [form]="flowAutomationForm" #update></app-update>
<app-get [form]="flowAutomationForm" #get></app-get>
<app-delete [form]="flowAutomationForm" #delete></app-delete>
<app-rollback [form]="flowAutomationForm" #rollback></app-rollback>
<app-filter [form]="flowAutomationForm" #filter></app-filter>
<app-save-modal [form]="flowAutomationForm" #SaveModal></app-save-modal>
<app-resources-list [form]="flowAutomationForm" #resourcelist></app-resources-list>
<app-decision-outcome-mapping [form]="flowAutomationForm" #outcomeMapping></app-decision-outcome-mapping>
<app-loop-connector-modal [form]="flowAutomationForm" #loopConnectorModal> </app-loop-connector-modal>
<app-pause [form]="flowAutomationForm" #pause></app-pause>