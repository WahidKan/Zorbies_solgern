
  <app-loader [size]=60 [color]="'white'" *ngIf="loadSave" class="loader-popup"></app-loader>
  <app-breadcrumb *ngIf="!loadSave"  [data]="contentHeader"></app-breadcrumb>
<!-- <div class="header float-left w-100 mb-2 d-flex">
  <div class="col-md-6 pl-0">
    <h2 class="float-left pr-2 w-100"><strong>{{pageTitle}}</strong></h2>
    <div class="breadcrumb-wrapper w-100">
      <ol class="breadcrumb">
        <li><a class="smview" routerLink="/dashboard">Dashboard</a></li>
        <li><a class="smview" routerLink="/announcement">Manage Announcement</a></li>
        <li class="active">{{pageTitle}}</li>
      </ol>
    </div>
  </div>
  <div class="col-md-6 text-right right pr-0">
    <a href="javascript:;" class="btn btn-primary"  data-toggle="modal" data-target="#headerswtichuser"><i class="fa fa-sign-in mr-1"></i>Switch Company</a>
  </div>
</div> -->
<div class="clearfix"></div>

<div class="panel">
  <div class="panel-content p-4">
    <form [formGroup]="addAnnouncementForm" autocomplete="off">
      <div class="row  mb-2">
        <div class="col-md-12 col-lg-6">
          <label>Title:<span class="text-danger">*</span></label>
          <div class="form-group">
            <input type="text" class="form-control" formControlName="title" maxlength="50" placeholder="Enter title"
                   [ngClass]="{'is-invalid': (title.invalid && (title.dirty || title.touched) && (title.errors?.required || title.errors?.maxlength)) }">
            <small *ngIf="title.invalid && (title.dirty || title.touched) && title.errors?.required"
                   class="text-danger">Title  is required</small>
          </div>
        </div>
        <div class="col-md-12 col-lg-6">
          <label>Recuring Type:<span class="text-danger">*</span></label>
          <div class="form-group">
            <ng-select [items]="lstRecuringType" placeholder="Select Recuring Type" bindLabel="text" bindValue="value" formControlName="recuringType" (change)="onChange($event)"
                       [ngClass]="{'is-invalid': (recuringType.invalid && (recuringType.dirty || recuringType.touched) && recuringType.errors?.required)}"></ng-select>
            <small *ngIf="recuringType.invalid && (recuringType.dirty || recuringType.touched) && recuringType.errors?.required"
                   class="text-danger">Please select Recuring Type</small>

          </div>
        </div>
        <div class="col-md-12 col-lg-6">
          <label>Start Date:<span class="text-danger">*</span></label>
          <div class="form-group ">
            <p-calendar formControlName="startDate" placeholder="Select Date" dateFormat="mm-dd-yy" yearRange="2000:2030" [minDate]="minimumDate"
                        [monthNavigator]="true" [yearNavigator]="true"
                        [ngClass]="{'is-invalid': (startDate.invalid && (startDate.dirty || startDate.touched) && startDate.errors?.required) }"></p-calendar>
            <small *ngIf="startDate.invalid && (startDate.dirty || startDate.touched) && startDate.errors?.required"
                   style="color:red;">Please select Date</small>
          </div>
        </div>
        <div class="col-md-12 col-lg-6">
          <label>End Date:<span *ngIf="endDateValidator" class="text-danger">*</span></label>
          <div class="form-group ">
            <p-calendar formControlName="endDate" placeholder="Select Date" dateFormat="mm-dd-yy" yearRange="2000:2030" [monthNavigator]="true" [yearNavigator]="true" [minDate]="(startDate.value == null ? minimumDate : startDate.value)"
                        [ngClass]="{'is-invalid': (endDate.invalid && (endDate.dirty || endDate.touched) && endDate.errors?.required) }"></p-calendar>
            <small *ngIf="endDate.invalid && (endDate.dirty || endDate.touched) && endDate.errors?.required"
                   style="color:red;">Please select Date</small>
          </div>
        </div>

        <div class="col-md-12 col-lg-6">
          <label>UserType:</label>
          <div class="form-group">
            <ng-select [items]="lstUserType" [loading]="loadSave" multiple="true" placeholder="Select UserType" formControlName="usertype"
                       bindLabel="text" bindValue="value"></ng-select>

          </div>
        </div>


        <div class="col-md-12 col-lg-6">
          <label>Status :</label>
          <div class="form-group">
            <label class="switch">
              <input type="checkbox" id="customCheck1" formControlName="Status">
              <span class="slider round"><span>Yes</span></span>
            </label>
          </div>
        </div>

        <div class="col-md-12 col-lg-6">
          <label>Choose File:</label>
              <!--<div class="input-group-prepend" *ngIf="imageLink!=''">

          <div id="myModal" style=" background: none !important;" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
            <div class="modal-dialog" style="height:450px!important;width:450px!important; ">
              <div class="">
                <button type="button" class="close" style="color: #fff!important; " data-dismiss="modal">&times;</button>
              </div>
              <div class="modal-content">
                <div class="text-center">
                  <img src={{imageLink}} alt="img" style="height:450px!important;width:450px!important; " class="img-responsive">
                </div>
              </div>
            </div>
          </div>
        </div>-->
              <div class="custom-file w-100 m-fileup">
                <input class="custom-file-input" #file type="file" name='file' #fileInput [accept]="fileExtension" (change)="setFile($event)" lang="es">
                <label class="custom-file-label">{{setFileName}}</label>
              </div>
              <small class="text-danger"><i class="text-primary">Valid file format is {{fileExtension}}</i> </small>
              <!-- <div class="custom-file w-50 m-fileup">
                <input class="custom-file-input" #file type="file" name='file' #fileInput accept="audio/mp3,video/mp4,video/avi,video/mov,video/3gp,video/mpeg,image/x-png,image/gif,image/jpeg" (change)="setFile($event)" lang="es">
                <label class="custom-file-label">{{setFileName}}</label>
              </div>
              <small><i class="text-primary">Valid image format is audio/mp3, video/mp4, video/avi, video/mov, video/3gp, video/mpeg, image/x-png, image/gif, image/jpeg and limit upto 5MB.</i> </small> -->
            
        </div>
        <div class="col-md-12 col-lg-1 px-0">
          <label></label>
          <div class="form-group mt-2 ml-3">
            <a class="btn btn-danger form-btns mr-2" href="javascript:void(0);" (click)="reset()"><span><i class="feather-repeat"></i> Reset</span></a>
          </div>
        </div>


        <div class="col-md-12 col-lg-12">
          <label>Message:<span class="text-danger">*</span></label>
          <div class="form-group">
            <textarea class="form-control" rows="3" placeholder="Enter message" formControlName="message"maxlength="500"
                      [ngClass]="{'is-invalid': (message.invalid && (message.dirty || message.touched) && (message.errors?.required || message.errors?.maxlength)) }">
                      </textarea>
            <!--<input type="text" class="form-control" placeholder="Enter message" formControlName="message"
      [ngClass]="{'is-invalid': (message.invalid && (message.dirty || message.touched) && (message.errors?.required || message.errors?.maxlength)) }">-->
            <small *ngIf="message.invalid && (message.dirty || message.touched) && message.errors?.required"
                   class="text-danger">Message is required</small>

          </div>
        </div>



        <!--<div class="col-md-12 col-lg-4">
    <label>Acknowledgment Required:</label>
    <div class="form-group">
      <label class="switch">
        <input type="checkbox" id="customCheck2" formControlName="acknowledgmentRequired">
        <span class="slider round"><span>Yes</span></span>
      </label>
    </div>
  </div>-->


      </div>

      <div class="row mb-3">
        <div class="col-sm-12 col-md-12">
          <a *ngIf="addOrUpdatePermission" href="javascript:void(0);"  class="btn btn-success mr-2" (click)="Save()"><i class="feather-save"></i> Submit</a>
          <a href="javascript:void(0);" class="btn btn-danger" (click)="Cancel()"><i class="feather-x"></i> Cancel</a>
        </div>
      </div>
    </form>
  </div>
</div>





